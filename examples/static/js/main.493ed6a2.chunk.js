/*! For license information please see main.493ed6a2.chunk.js.LICENSE.txt */
(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{129:function(t,e,r){},150:function(t,e,r){},151:function(t,e,r){},152:function(t,e,r){},223:function(t,e,r){},224:function(t,e,r){},225:function(t,e,r){},226:function(t,e,r){"use strict";r.r(e),e.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},227:function(t,e,r){"use strict";r.r(e),e.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},228:function(t,e,r){"use strict";r.r(e),e.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="},229:function(t,e,r){},230:function(t,e,r){},231:function(t,e,r){},232:function(t,e,r){},233:function(t,e,r){},236:function(t,e,r){},237:function(t,e,r){},238:function(t,e,r){},239:function(t,e,r){},243:function(t,e,r){},244:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),i=r(30),a=r.n(i),c=r(114),u=(r(150),r(29)),s=r(8),l=r(5),f=r.n(l),p=(r(151),r(141)),d=r(138),h=r(251),y=(r(152),r(1));function v(t){return Object(y.jsxs)("div",{className:"example-header",children:[Object(y.jsxs)("div",{className:"content",style:t.contentStyle,children:[Object(y.jsx)("span",{className:"content-text",children:t.content}),t.children]}),Object(y.jsx)("div",{className:"tools",children:t.githubPath?Object(y.jsx)(p.a,{arrowPointAtCenter:!0,placement:"bottomRight",title:"\u5728 Github \u4e2d\u67e5\u770b",children:Object(y.jsx)(d.a,{type:"text",shape:"circle",target:"_blank",href:"https://github.com/didi/LogicFlow/tree/master/examples/src/pages"+t.githubPath,icon:Object(y.jsx)(h.a,{})})}):null})]})}var b={stopScrollGraph:!0,stopZoomGraph:!0,grid:{type:"dot",size:20}},g={nodes:[{id:50,type:"rect",x:100,y:150,text:"\u4f60\u597d"},{id:21,type:"circle",x:300,y:150}],edges:[{type:"polyline",sourceNodeId:50,targetNodeId:21}]};var m=r(12),O=r(20),x=r(14),w=r(13),j=(r(223),function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t){var n;return Object(m.a)(this,r),(n=e.call(this,t)).state={shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}]},n}return Object(O.a)(r,[{key:"mouseDown",value:function(t){var e=t.type,r=t.text;(0,this.props.mouseDownHandle)({type:e,text:r})}},{key:"render",value:function(){var t=this,e=this.state.shapeList;return Object(y.jsx)("div",{className:"panel",children:e.map((function(e){var r=e.type,n=e.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(r),onMouseDown:function(){t.mouseDown(e)}}),Object(y.jsx)("span",{children:n})]},r)}))})}}]),r}(n.Component)),_=(r(224),function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){var t;Object(m.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).lf=void 0,t.mouseDownHandle=function(e){t.lf.dnd.startDrag(e)},t}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.lf=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0}),this.lf.render()}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u62d6\u62fd\u9762\u677f\u4e0a\u7684\u56fe\u5f62\u751f\u6210\u8282\u70b9",githubPath:"/basic/dnd/index.tsx"}),Object(y.jsxs)("div",{className:"dnd-example-container",children:[Object(y.jsx)(j,{mouseDownHandle:this.mouseDownHandle}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})]})}}]),r}(n.Component)),E=(r(75),r(225),{isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0}),S={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]},P=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t){var n;return Object(m.a)(this,r),(n=e.call(this,t)).dotlf=void 0,n.meshlf=void 0,n.handleClick=function(t){t!==n.state.currentGrid&&n.setState({currentGrid:t})},n.dotlf=null,n.meshlf=null,n.state={currentGrid:"dot"},n}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.dotlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graphDot")})),this.meshlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"mesh"},container:document.querySelector("#graphMesh")})),this.dotlf.render(S),this.meshlf.render(S)}},{key:"render",value:function(){var t=this,e=this.state.currentGrid;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/grid/index.tsx",children:["\u7f51\u683c\u7c7b\u578b\uff1a",Object(y.jsx)(d.a,{onClick:function(){t.handleClick("dot")},children:"Dot"}),Object(y.jsx)(d.a,{onClick:function(){t.handleClick("mesh")},children:"Mesh"})]}),Object(y.jsx)("div",{id:"graphDot",className:"viewport example-grid-".concat("dot"===e?"visible":"hidden")}),Object(y.jsx)("div",{id:"graphMesh",className:"viewport example-grid-".concat("mesh"===e?"visible":"hidden")})]})}}]),r}(n.Component),A={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{width:100,height:50}}},k={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var N=r(34),M=r(96),D=new M.a([32,32,1]);function T(){return D.next()}var C=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),I=function(){return(I=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},R=function(t){function e(e,r){return e.id||(e.id="Event_"+T()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),t.call(this,e,r)||this}return C(e,t),e.prototype.getConnectedTargetRules=function(){var e=t.prototype.getConnectedTargetRules.call(this);return e.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),e},e.extendKey="StartEventModel",e}(l.CircleNodeModel),L={type:"bpmn:startEvent",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return C(e,t),e.prototype.getAttributes=function(){var e=t.prototype.getAttributes.call(this);return I({},e)},e.extendKey="StartEventNode",e}(l.CircleNode),model:R},z=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(t){function e(e,r){return e.id||(e.id="Event_"+T()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),t.call(this,e,r)||this}return z(e,t),e.prototype.getConnectedSourceRules=function(){var e=t.prototype.getConnectedSourceRules.call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u8d77\u70b9",validate:function(){return!1}}),e},e.extendKey="EndEventModel",e}(l.CircleNodeModel),G={type:"bpmn:endEvent",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var e=this.getAttributes(),r=e.x,n=e.y,o=e.fill,i=e.stroke,a=e.strokeWidth,c=e.r,u=t.prototype.getShape.call(this);return Object(l.h)("g",{},u,Object(l.h)("circle",{cx:r,cy:n,fill:o,stroke:i,strokeWidth:a,r:c-5}))},e.extendKey="EndEventView",e}(l.CircleNode),model:B},F=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(t){function e(e,r){var n=this;return e.id||(e.id="Gateway_"+T()),e.text||(e.text=""),e.text&&"string"===typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),(n=t.call(this,e,r)||this).points=[[25,0],[50,25],[25,50],[0,25]],n}return F(e,t),e.extendKey="ExclusiveGatewayModel",e}(l.PolygonNodeModel),X={type:"bpmn:exclusiveGateway",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),r=e.x,n=e.y,o=e.fill,i=e.stroke,a=e.strokeWidth,c=e.width,u=e.height,s=e.points;return Object(l.h)("g",{transform:"matrix(1 0 0 1 "+(r-c/2)+" "+(n-u/2)+")"},Object(l.h)("polygon",{fill:o,x:r,y:n,stroke:i,strokeWidth:a,points:s}),Object(l.h)("path",{fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},e.extendKey="ExclusiveGatewayNode",e}(l.PolygonNode),model:U},H=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(t){function e(e,r){return e.id||(e.id="Activity_"+T()),t.call(this,e,r)||this}return H(e,t),e.extendKey="UserTaskModel",e}(l.RectNodeModel),W={type:"bpmn:userTask",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e.prototype.getLabelShape=function(){var e=t.prototype.getAttributes.call(this),r=e.x,n=e.y,o=e.width,i=e.height,a=e.stroke;return Object(l.h)("svg",{x:r-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),r=e.x,n=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:r-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},e.extendKey="UserTaskNode",e}(l.RectNode),model:Y},V=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(t){function e(e,r){return e.id||(e.id="Activity_"+T()),t.call(this,e,r)||this}return V(e,t),e.extendKey="ServiceTaskModel",e}(l.RectNodeModel),Z={type:"bpmn:serviceTask",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.getLabelShape=function(){var e=t.prototype.getAttributes.call(this),r=e.x,n=e.y,o=e.width,i=e.height,a=e.stroke;return Object(l.h)("svg",{x:r-o/2+5,y:n-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),r=e.x,n=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:r-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},e.extendKey="ServiceTaskNode",e}(l.RectNode),model:K},q=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(t){function e(e,r){return e.id||(e.id="Flow_"+T()),t.call(this,e,r)||this}return q(e,t),e.extendKey="SequenceFlowModel",e}(l.PolylineEdgeModel),Q={type:"bpmn:sequenceFlow",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return q(e,t),e.extendKey="SequenceFlowEdge",e}(l.PolylineEdge),model:$},J=40,tt=40,et=40,rt=40,nt=40,ot=40,it=100,at=80,ct=100,ut=80,st={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},lt=function(){function t(t){var e=t.lf;e.setTheme(st),e.register(L),e.register(G),e.register(X),e.register(W),e.register(Z),e.register(Q),e.setDefaultEdgeType("bpmn:sequenceFlow")}return t.pluginName="BpmnElement",t}(),ft={pluginName:"snapshot",install:function(t){var e=this;this.lf=t,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,t.getSnapshot=function(r,n){e.fileName=r||"logic-flow."+Date.now()+".png";var o=e.getSvgRootElement(t);e.downloadSvg(o,e.fileName,n)},t.getSnapshotBlob=function(r){var n=e.getSvgRootElement(t);return e.getBlob(n,r)},t.getSnapshotBase64=function(r){var n=e.getSvgRootElement(t);return e.getBase64(n,r)}},getSvgRootElement:function(t){var e=this;return t.graphModel.nodes.forEach((function(t){var r=t.x-t.width/2,n=t.y-t.height/2;r<e.offsetX&&(e.offsetX=r-5),n<e.offsetY&&(e.offsetY=n-5)})),t.graphModel.edges.forEach((function(t){t.pointsList&&t.pointsList.forEach((function(t){var r=t.x,n=t.y;r<e.offsetX&&(e.offsetX=r-5),n<e.offsetY&&(e.offsetY=n-5)}))})),t.container.querySelector("svg")},triggerDownload:function(t){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",t),r.setAttribute("target","_blank"),r.dispatchEvent(e)},removeAnchor:function(t){for(var e=t.childNodes,r=t.childNodes&&t.childNodes.length,n=0;n<r;n++){var o=e[n];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[n]),r--,n--)}},downloadSvg:function(t,e,r){var n=this;this.getCanvasData(t,r).then((function(t){var r=t.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(r,e)}))},getBase64:function(t,e){var r=this;return new Promise((function(n){r.getCanvasData(t,e).then((function(t){var e=t.toDataURL("image/png");n({data:e,width:t.width,height:t.height})}))}))},getBlob:function(t,e){var r=this;return new Promise((function(n){r.getCanvasData(t,e).then((function(t){t.toBlob((function(e){n({data:e,width:t.width,height:t.height})}),"image/png")}))}))},getCanvasData:function(t,e){var r=this,n=t.cloneNode(!0),o=n.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var c=o.childNodes[a],u=c.classList&&Array.from(c.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(t){var e=t;r.removeAnchor(e.firstChild)}))}}n.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,f=document.createElement("canvas"),p=document.getElementsByClassName("lf-base")[0].getBoundingClientRect(),d=this.lf.graphModel.transformMatrix,h=d.SCALE_X,y=d.SCALE_Y,v=Math.ceil(p.width/h),b=Math.ceil(p.height/y);f.style.width=v+"px",f.style.height=b+"px",f.width=v*l+80,f.height=b*l+80;var g=f.getContext("2d");g.scale(l,l),e?(g.fillStyle=e,g.fillRect(0,0,v*l+80,b*l+80)):g.clearRect(0,0,v,b);var m=new Image;return new Promise((function(t){m.onload=function(){g.drawImage(m,0,0),t(f)};var e=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(n)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");m.src=e}))}},pt=new M.a([32,32,1]);function dt(){return pt.next()}function ht(t,e){for(var r=0;r<e;r++)t+="  ";return t}function yt(t,e,r,n){var o="";if(t instanceof Array)for(var i=0,a=t.length;i<a;i++)o+=ht(r,n)+yt(t[i],e,r,n+1);else if("object"==typeof t){var c=!1;for(var u in o+=ht(r,n)+"<"+e,t)"-"==u.charAt(0)?o+=" "+u.substr(1)+'="'+t[u].toString()+'"':c=!0;if(o+=c?">":" />",c){for(var u in t)"#text"==u?o+=t[u]:"#cdata"==u?o+="<![CDATA["+t[u]+"]]>":"-"!=u.charAt(0)&&(o+=yt(t[u],u,r,n+1));o+=ht(r,n)+"</"+e+">"}}else o+=ht(r,n)+"<"+e+">"+t.toString()+"</"+e+">";return o}var vt=function(){};(vt.ObjTree=function(){return this}).VERSION="0.23",vt.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',vt.ObjTree.prototype.attr_prefix="-",vt.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var r=new DOMParser,n=r.parseFromString(t,"application/xml");if(!n)return;e=n.documentElement}else window.ActiveXObject&&((r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(t),e=r.documentElement);if(e)return this.parseDOM(e)},vt.ObjTree.prototype.parseHTTP=function(t,e,r){var n,o={};for(var i in e)o[i]=e[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),r){o.asynchronous=!0;var a=this,c=r,u=o.onComplete;o.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=a.parseDOM(t.responseXML.documentElement)),c(e,t),u&&u(t)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=t,(s=new HTTP.Request(o))&&(n=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(t,o))&&(n=s.transport)}return r?n:n&&n.responseXML&&n.responseXML.documentElement?this.parseDOM(n.responseXML.documentElement):void 0},vt.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var r=this.parseElement(t);if(this.__force_array[t.nodeName]&&(r=[r]),11!=t.nodeType){var n={};n[t.nodeName]=r,r=n}return r}},vt.ObjTree.prototype.parseElement=function(t){if(7!=t.nodeType){if(3==t.nodeType||4==t.nodeType){if(null==t.nodeValue.match(/[^\x00-\x20]/))return;return t.nodeValue}var e,r={};if(t.attributes&&t.attributes.length){e={};for(var n=0;n<t.attributes.length;n++){if("string"==typeof(a=t.attributes[n].nodeName))(c=t.attributes[n].nodeValue)&&("undefined"==typeof r[a=this.attr_prefix+a]&&(r[a]=0),r[a]++,this.addNode(e,a,r[a],c))}}if(t.childNodes&&t.childNodes.length){var o=!0;e&&(o=!1);for(n=0;n<t.childNodes.length&&o;n++){var i=t.childNodes[n].nodeType;3!=i&&4!=i&&(o=!1)}if(o){e||(e="");for(n=0;n<t.childNodes.length;n++)e+=t.childNodes[n].nodeValue}else{e||(e={});for(n=0;n<t.childNodes.length;n++){var a,c;if("string"==typeof(a=t.childNodes[n].nodeName))(c=this.parseElement(t.childNodes[n]))&&("undefined"==typeof r[a]&&(r[a]=0),r[a]++,this.addNode(e,a,r[a],c))}}}return e}},vt.ObjTree.prototype.addNode=function(t,e,r,n){this.__force_array[e]?(1==r&&(t[e]=[]),t[e][t[e].length]=n):1==r?t[e]=n:2==r?t[e]=[t[e],n]:t[e][t[e].length]=n},vt.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e},vt.ObjTree.prototype.hash_to_xml=function(t,e){var r=[],n=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?r[r.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?r[r.length]=this.array_to_xml(o,i):r[r.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):n[n.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=n.join(""),c=r.join("");return"undefined"==typeof t||null==t||(c=r.length>0?c.match(/\n/)?"<"+t+a+">\n"+c+"</"+t+">\n":"<"+t+a+">"+c+"</"+t+">\n":"<"+t+a+" />\n"),c},vt.ObjTree.prototype.array_to_xml=function(t,e){for(var r=[],n=0;n<e.length;n++){var o=e[n];"undefined"==typeof o||null==o?r[r.length]="<"+t+" />":"object"==typeof o&&o.constructor==Array?r[r.length]=this.array_to_xml(t,o):r[r.length]="object"==typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return r.join("")},vt.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"==t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},vt.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var bt,gt=vt,mt=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};!function(t){t.START="bpmn:startEvent",t.END="bpmn:endEvent",t.GATEWAY="bpmn:exclusiveGateway",t.USER="bpmn:userTask",t.SYSTEM="bpmn:serviceTask",t.FLOW="bpmn:sequenceFlow"}(bt||(bt={}));var Ot=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function xt(t){var e={};return Object.entries(t).forEach((function(t){var r=mt(t,2),n=r[0],o=r[1];"object"!==typeof o?0===n.indexOf("-")?e[n]=o:e["-"+n]=o:e[n]=xt(o)})),e}function wt(t){var e={};return Object.entries(t).forEach((function(t){var r=mt(t,2),n=r[0],o=r[1];"string"===typeof o?0===n.indexOf("-")?e[n.substr(1)]=o:e[n]=o:e[n]="object"===typeof o?wt(o):o})),e}function jt(t){var e=[],r=[],n=t["bpmn:definitions"];if(n){var o=n["bpmn:process"];Object.keys(o).forEach((function(t){if(0===t.indexOf("bpmn:")){var i=o[t];if(t===bt.FLOW){var a=n["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=function(t,e){var r=[];if(Array.isArray(t))t.forEach((function(t){var n;n=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,r.push(Et(n,t))}));else{var n=void 0;n=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,r.push(Et(n,t))}return r}(i,a)}else{var c=n["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(function(t,e,r){var n=[];if(Array.isArray(t))t.forEach((function(t){var o=_t(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,r,t);n.push(o)}));else{var o=_t(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,r,t);n.push(o)}return n}(i,c,t))}}}))}return{nodes:e,edges:r}}function _t(t,e,r){var n,o,i=Number(t["dc:Bounds"]["-x"]),a=Number(t["dc:Bounds"]["-y"]),c=r["-name"],u=St.shapeConfigMap.get(e);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(r).forEach((function(t){var e=mt(t,2),r=e[0],o=e[1];-1===Ot.indexOf(r)&&(n||(n={}),n[r]=o)})),n&&(n=wt(n)),c&&(o={x:i,y:a,value:c},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=t["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:t["-bpmnElement"],type:e,x:i,y:a,properties:n};return o&&(l.text=o),l}function Et(t,e){var r,n,o=e["-name"];if(o){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(t){a<t.length&&(a=t.length)})),r={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(e).forEach((function(t){var e=mt(t,2),r=e[0],o=e[1];-1===Ot.indexOf(r)&&(n||(n={}),n[r]=o)})),n&&(n=wt(n));var c={id:e["-id"],type:bt.FLOW,pointsList:t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:n};return r&&(c.text=r),c}var St={pluginName:"bpmn-adapter",install:function(t){t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(t,e){this.shapeConfigMap.set(t,e)},adapterOut:function(t){var e={"-id":"Process_"+dt(),"-isExecutable":"false"};!function(t,e){var r=new Map;e.nodes.forEach((function(e){var n,o={"-id":e.id};if((null===(n=e.text)||void 0===n?void 0:n.value)&&(o["-name"]=e.text.value),e.properties){var i=xt(e.properties);Object.assign(o,i)}r.set(e.id,o),t[e.type]?Array.isArray(t[e.type])?t[e.type].push(o):t[e.type]=[t[e.type],o]:t[e.type]=o}));var n=e.edges.map((function(t){var e,n,o=r.get(t.targetNodeId);o["bpmn:incoming"]?Array.isArray(o["bpmn:incoming"])?o["bpmn:incoming"].push(t.id):o["bpmn:incoming"]=[o["bpmn:incoming"],t.id]:o["bpmn:incoming"]=t.id;var i=r.get(t.sourceNodeId);i["bpmn:outgoing"]?Array.isArray(i["bpmn:outgoing"])?i["bpmn:outgoing"].push(t.id):i["bpmn:outgoing"]=[i["bpmn:outgoing"],t.id]:i["bpmn:outgoing"]=t.id;var a={"-id":t.id,"-sourceRef":t.sourceNodeId,"-targetRef":t.targetNodeId};if((null===(e=t.text)||void 0===e?void 0:e.value)&&(a["-name"]=null===(n=t.text)||void 0===n?void 0:n.value),t.properties){var c=xt(t.properties);Object.assign(a,c)}return a}));t[bt.FLOW]=n}(e,t);var r={"-id":"BPMNPlane_1","-bpmnElement":e["-id"]};return function(t,e){t["bpmndi:BPMNEdge"]=e.edges.map((function(t){var e,r=t.id,n={"-id":r+"_di","-bpmnElement":r,"di:waypoint":t.pointsList.map((function(t){return{"-x":t.x,"-y":t.y}}))};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(n["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),n})),t["bpmndi:BPMNShape"]=e.nodes.map((function(t){var e,r=t.id,n=100,o=80,i=t.x,a=t.y,c=St.shapeConfigMap.get(t.type);c&&(n=c.width,o=c.height);var u={"-id":r+"_di","-bpmnElement":r,"dc:Bounds":{"-x":i-=n/2,"-y":a-=o/2,"-width":n,"-height":o}};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),u}))}(r,t),{"bpmn:definitions":{"-id":"Definitions_"+dt(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":e,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":r}}}},adapterIn:function(t){if(t)return jt(t)}};St.shapeConfigMap.set(bt.START,{width:J,height:tt}),St.shapeConfigMap.set(bt.END,{width:et,height:rt}),St.shapeConfigMap.set(bt.GATEWAY,{width:nt,height:ot}),St.shapeConfigMap.set(bt.SYSTEM,{width:it,height:at}),St.shapeConfigMap.set(bt.USER,{width:ct,height:ut});var Pt,At={pluginName:"bpmn-xml-adapter",install:function(t){t.adapterIn=this.adapterXmlIn,t.adapterOut=this.adapterXmlOut},adapterXmlIn:function(t){var e=(new gt.ObjTree).parseXML(t);return St.adapterIn(e)},adapterXmlOut:function(t){return function(t){var e="";for(var r in t)e+=yt(t[r],r,"\t\n",0);return e}(St.adapterOut(t))}},kt=function(){return(kt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Nt(t){switch(t){case"bpmn:sequenceFlow":return Pt.SEQUENCE_FLOW;case"bpmn:startEvent":return Pt.START_EVENT;case"bpmn:endEvent":return Pt.END_EVENT;case"bpmn:userTask":return Pt.USER_TASK;case"bpmn:exclusiveGateway":return Pt.EXCLUSIVE_GATEWAY;default:return t}}function Mt(t){var e=new Map,r={flowElementList:[]};return t.nodes.forEach((function(t){var n=function(t){var e=t.id,r=t.type,n=t.x,o=t.y,i=t.text,a=void 0===i?"":i,c=t.properties;return{incoming:[],outgoing:[],dockers:[],type:Nt(t.type),properties:kt(kt({},c),{name:a&&a.value||"",x:n,y:o,text:a,logicFlowType:r}),key:e}}(t);r.flowElementList.push(n),e.set(t.id,n)})),t.edges.forEach((function(t){var n=function(t){var e=t.id,r=t.type,n=t.sourceNodeId,o=t.targetNodeId,i=t.startPoint,a=t.endPoint,c=t.pointsList,u=t.text,s=void 0===u?"":u,l=t.properties;return{incoming:[n],outgoing:[o],type:Nt(r),dockers:[],properties:kt(kt({},l),{name:s&&s.value||"",text:s,startPoint:i,endPoint:a,pointsList:c,logicFlowType:r}),key:e}}(t);e.get(t.sourceNodeId).outgoing.push(n.key),e.get(t.targetNodeId).incoming.push(n.key),r.flowElementList.push(n)})),r}function Dt(t){var e={nodes:[],edges:[]},r=t.flowElementList;return r&&r.length>0&&r.forEach((function(t){if(t.type===Pt.SEQUENCE_FLOW){var r=function(t){var e=t.incoming,r=t.outgoing,n=t.properties,o=t.key,i=n.text,a=n.startPoint,c=n.endPoint,u=n.pointsList,s={id:o,type:n.logicFlowType,sourceNodeId:e[0],targetNodeId:r[0],text:i,startPoint:a,endPoint:c,pointsList:u,properties:{}},l=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(t.properties).forEach((function(e){-1===l.indexOf(e)&&(s.properties[e]=t.properties[e])})),s}(t);e.edges.push(r)}else{var n=function(t){var e=t.properties,r=t.key,n=e.x,o=e.y,i=e.text,a={id:r,type:e.logicFlowType,x:n,y:o,text:i,properties:{}},c=["x","y","text","logicFlowType"];return Object.keys(t.properties).forEach((function(e){-1===c.indexOf(e)&&(a.properties[e]=t.properties[e])})),a}(t);e.nodes.push(n)}})),e}!function(t){t[t.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",t[t.START_EVENT=2]="START_EVENT",t[t.END_EVENT=3]="END_EVENT",t[t.USER_TASK=4]="USER_TASK",t[t.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"}(Pt||(Pt={}));var Tt;new Map;!function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Tt||(Tt={}));var Ct,It=function(t,e,r){var n=t.x,o=t.y;return(n-e.x)*(n-r.x)<=0&&(o-e.y)*(o-r.y)<=0},Rt=function(t,e,r){var n=function(t){var e=t.x,r=t.y,n=t.width,o=t.height;return{minX:e-n/2,minY:r-o/2,maxX:e+n/2,maxY:r+o/2,x:e,y:r,width:n,height:o,centerX:e,centerY:r}}(t),o=function(t,e){var r;return t.x===e.x?r=Tt.VERTICAL:t.y===e.y&&(r=Tt.HORIZONTAL),r}(e,r),i=Math.max(e.x,r.x),a=Math.min(e.x,r.x),c=Math.max(e.y,r.y),u=Math.min(e.y,r.y),s=t.x,l=t.y,f=t.width,p=t.height;if(o===Tt.HORIZONTAL){if(e.y===l&&i>=n.maxX&&a<=n.minX)return{startCrossPoint:{x:e.x>r.x?s+f/2:s-f/2,y:l},endCrossPoint:{x:e.x>r.x?s-f/2:s+f/2,y:l}}}else if(o===Tt.VERTICAL&&e.x===t.x&&c>=n.maxY&&u<=n.minY)return{startCrossPoint:{x:s,y:e.y>r.y?l+p/2:l-p/2},endCrossPoint:{x:s,y:e.y>r.y?l-p/2:l+p/2}}},Lt=function(t,e){for(var r=t.x,n=t.y,o=e.pointsList,i=0;i<o.length-1;i++)if(It({x:r,y:n},o[i],o[i+1])){var a=Rt(t,o[i],o[i+1]);if(a)return{crossIndex:i+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},zt=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Bt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zt(arguments[e]));return t},Gt={pluginName:"insert-node-in-polyline",_lf:null,dndAdd:!0,dropAdd:!0,install:function(t){Gt._lf=t,this.eventHandler()},eventHandler:function(){var t=this;Gt.dndAdd&&Gt._lf.on("node:dnd-add",(function(t){var e=t.data;Gt.insetNode(e)})),Gt.dropAdd&&Gt._lf.on("node:drop",(function(e){for(var r=e.data,n=t._lf.graphModel.edges,o=r.id,i=!0,a=0;a<n.length;a++)if(n[a].sourceNodeId===o||n[a].targetNodeId===o){i=!1;break}i&&Gt.insetNode(r)}))},insetNode:function(t){for(var e=this._lf.graphModel.edges,r=this._lf.getNodeModel(t.id),n=0;n<e.length;n++){var o=Lt(r,e[n]),i=o.crossIndex,a=o.crossPoints;if(i>=0){var c=e[n],u=c.sourceNodeId,s=c.targetNodeId,l=c.id,f=c.type,p=c.pointsList;this._lf.createEdge({type:f,sourceNodeId:u,targetNodeId:t.id,pointsList:Bt(p.slice(0,i),[a.startCrossPoint])}),this._lf.createEdge({type:f,sourceNodeId:t.id,targetNodeId:s,pointsList:Bt([a.endCrossPoint],p.slice(i))}),this._lf.deleteEdge(l);break}}}},Ft=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ut=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ft(arguments[e]));return t},Xt={pluginName:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){Xt.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){Xt.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){Xt.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){Xt.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){Xt.__lf.redo()}}],addItem:function(t){Xt.__controlItems.push(t)},removeItem:function(t){var e=Xt.__controlItems.findIndex((function(e){return e.key===t}));return Xt.__controlItems.splice(e,1)[0]},install:function(){},render:function(t,e){Xt.__lf=t,Xt.__domContainer=e,Xt.__tool=this.__getControlTool(),e.appendChild(Xt.__tool)},destroy:function(){var t;try{null===(t=Xt.__domContainer)||void 0===t||t.removeChild(Xt.__tool)}catch(e){console.warn("unexpect destory error",e)}},__getControlTool:function(){var t="lf-control-item",e="lf-control-item disabled",r=document.createElement("div"),n=[];return r.className="lf-control",Xt.__controlItems.forEach((function(r){var o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("span");switch(o.className=e,r.onClick&&(o.onclick=r.onClick.bind(null,Xt.__lf)),r.onMouseEnter&&(o.onmouseenter=r.onMouseEnter.bind(null,Xt.__lf)),r.onMouseLeave&&(o.onmouseleave=r.onMouseLeave.bind(null,Xt.__lf)),i.className=r.iconClass,a.className="lf-control-text",a.title=r.title,a.innerText=r.text,o.append(i,a),r.text){case"\u4e0a\u4e00\u6b65":Xt.__lf.on("history:change",(function(r){var n=r.data.undoAble;o.className=n?t:e}));break;case"\u4e0b\u4e00\u6b65":Xt.__lf.on("history:change",(function(r){var n=r.data.redoAble;o.className=n?t:e}));break;default:o.className=t}n.push(o)})),r.append.apply(r,Ut(n)),r}},Ht=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ht(arguments[e]));return t},Wt="lf:defaultNodeMenu",Vt="lf:defaultEdgeMenu",Kt="lf:defaultGraphMenu",Zt="lf:defaultSelectionMenu",qt=function(){function t(t){var e=this,r=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=r,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(t){e.resetMenuItem(t)},this.lf.addMenuConfig=function(t){e.addMenuItem(t)},this.lf.setMenuByType=function(t){e.setMenuByType(t)}}return t.prototype.init=function(){var t=this,e=[{text:"\u5220\u9664",callback:function(e){t.lf.deleteNode(e.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(e){t.lf.graphModel.setTextEditable(e.id)}},{text:"\u590d\u5236",callback:function(e){t.lf.cloneNode(e.id)}}];this.menuTypeMap.set(Wt,e);var r=[{text:"\u5220\u9664",callback:function(e){t.lf.deleteEdge(e.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(e){t.lf.graphModel.setTextEditable(e.id)}}];this.menuTypeMap.set(Vt,r),this.menuTypeMap.set(Kt,[]);var n=[{text:"\u5220\u9664",callback:function(e){t.lf.clearSelectElements(),e.edges.forEach((function(e){return t.lf.deleteEdge(e.id)})),e.nodes.forEach((function(e){return t.lf.deleteNode(e.id)}))}}];this.menuTypeMap.set(Zt,n)},t.prototype.render=function(t,e){var r=this;this.__container=e,this.__currentData=null,this.__menuDOM.className="lf-menu",e.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(t){t.stopPropagation();for(var e=t.target;-1===Array.from(e.classList).indexOf("lf-menu-item")&&-1===Array.from(e.classList).indexOf("lf-menu");)e=e.parentElement;Array.from(e.classList).indexOf("lf-menu-item")>-1?(e.onclickCallback(r.__currentData),r.__menuDOM.style.display="none",r.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")}),!0),this.lf.on("node:contextmenu",(function(t){var e=t.data,n=t.position.domOverlayPosition,o=n.x,i=n.y,a=e.id,c=r.lf.graphModel.getNodeModel(a),u=[],s=r.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||r.menuTypeMap.get(Wt),r.__currentData=e,r.showMenu(o,i,u)})),this.lf.on("edge:contextmenu",(function(t){var e=t.data,n=t.position.domOverlayPosition,o=n.x,i=n.y,a=e.id,c=r.lf.graphModel.getEdgeModel(a),u=[],s=r.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||r.menuTypeMap.get(Vt),r.__currentData=e,r.showMenu(o,i,u)})),this.lf.on("blank:contextmenu",(function(t){var e=t.position,n=r.menuTypeMap.get(Kt),o=e.domOverlayPosition,i=o.x,a=o.y;r.showMenu(i,a,n)})),this.lf.on("selection:contextmenu",(function(t){var e=t.data,n=t.position,o=r.menuTypeMap.get(Zt),i=n.domOverlayPosition,a=i.x,c=i.y;r.__currentData=e,r.showMenu(a,c,o)})),this.lf.on("node:mousedown",(function(){r.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){r.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){r.__menuDOM.style.display="none"}))},t.prototype.destroy=function(){var t;null===(t=null===this||void 0===this?void 0:this.__container)||void 0===t||t.removeChild(this.__menuDOM),this.__menuDOM=null},t.prototype.showMenu=function(t,e,r){if(r&&r.length){var n=this.__menuDOM;n.innerHTML="",n.append.apply(n,Yt(this.__getMenuDom(r))),n.children.length&&(n.style.display="block",n.style.top=e+"px",n.style.left=t+"px")}},t.prototype.setMenuByType=function(t){t.type&&t.menu&&this.menuTypeMap.set(t.type,t.menu)},t.prototype.__getMenuDom=function(t){var e=[];return t&&t.length>0&&t.forEach((function(t){var r=document.createElement("li");if(t.className?r.className="lf-menu-item "+t.className:r.className="lf-menu-item",!0===t.icon){var n=document.createElement("span");n.className="lf-menu-item-icon",r.appendChild(n)}var o=document.createElement("span");o.className="lf-menu-item-text",t.text&&(o.innerText=t.text),r.appendChild(o),r.onclickCallback=t.callback,e.push(r)})),e},t.prototype.resetMenuItem=function(t){t&&(void 0!==t.nodeMenu&&this.menuTypeMap.set(Wt,t.nodeMenu?t.nodeMenu:[]),void 0!==t.edgeMenu&&this.menuTypeMap.set(Vt,t.edgeMenu?t.edgeMenu:[]),void 0!==t.graphMenu&&this.menuTypeMap.set(Kt,t.graphMenu?t.graphMenu:[]))},t.prototype.addMenuItem=function(t){if(t){if(Array.isArray(t.nodeMenu)){var e=this.menuTypeMap.get(Wt);this.menuTypeMap.set(Wt,e.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){e=this.menuTypeMap.get(Vt);this.menuTypeMap.set(Vt,e.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){e=this.menuTypeMap.get(Kt);this.menuTypeMap.set(Kt,e.concat(t.graphMenu))}}},t.prototype.changeMenuItem=function(t,e){if("add"===t)this.addMenuItem(e);else{if("reset"!==t)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.resetMenuItem(e)}},t.pluginName="Menu",t}(),$t=function(){function t(t){var e=this,r=t.lf;this.lf=r,this.lf.setPatternItems=function(t){e.shapeList=t}}return t.prototype.render=function(t,e){var r=this;this.panelEl&&e.removeChild(this.panelEl),this.shapeList&&0!==this.shapeList.length&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(t){r.panelEl.appendChild(r.createDndItem(t))})),e.appendChild(this.panelEl))},t.prototype.createDndItem=function(t){var e=this,r=document.createElement("div");r.className=t.className?"lf-dnd-item "+t.className:"lf-dnd-item";var n=document.createElement("div");if(n.className="lf-dnd-shape",t.icon&&(n.style.backgroundImage="url("+t.icon+")"),r.appendChild(n),t.label){var o=document.createElement("div");o.innerText=t.label,o.className="lf-dnd-text",r.appendChild(o)}return r.onmousedown=function(){t.type&&e.lf.dnd.startDrag({type:t.type,properties:t.properties,text:t.text}),t.callback&&t.callback()},r},t.pluginName="DndPanel",t}(),Qt=function(){function t(t){var e=this,r=t.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(t){var r=e.lf.getPointByClient(t.clientX,t.clientY).domOverlayPosition,n=r.x,o=r.y;e.endPoint={x:n,y:o};var i=e.startPoint,a=i.x,c=i.y,u=e.wrapper.style,s=a,l=c,f=n-a,p=o-c;n<a&&(s=n,f=a-n),o<c&&(l=o,p=c-o),u.left=s+"px",u.top=l+"px",u.width=f+"px",u.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",e.__draw),document.removeEventListener("mouseup",e.__drawOff),e.__domContainer.removeChild(e.wrapper);var t=e.startPoint,r=t.x,n=t.y,o=e.endPoint,i=o.x,a=o.y,c=[Math.min(r,i),Math.min(n,a)],u=[Math.max(r,i),Math.max(n,a)],s=e.lf.getAreaElement(c,u);s.forEach((function(t){e.lf.select(t.id,!0)})),e.lf.emit("selection:selected",s)},this.lf=r;var n=r.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=n,r.openSelectionSelect=function(){n||(e.isDefalutStopMoveGraph=!1,r.updateEditConfig({stopMoveGraph:!0})),e.open()},r.closeSelectionSelect=function(){e.isDefalutStopMoveGraph||r.updateEditConfig({stopMoveGraph:!1}),e.close()}}return t.prototype.render=function(t,e){var r=this;this.__domContainer=e,t.on("blank:mousedown",(function(n){var o=n.e;if(t.getEditConfig().stopMoveGraph&&!r.__disabled){var i=t.getPointByClient(o.clientX,o.clientY).domOverlayPosition,a=i.x,c=i.y;r.startPoint={x:a,y:c},r.endPoint={x:a,y:c};var u=document.createElement("div");u.className="lf-selection-select",u.style.top=r.startPoint.y+"px",u.style.left=r.startPoint.x+"px",e.appendChild(u),r.wrapper=u,document.addEventListener("mousemove",r.__draw),document.addEventListener("mouseup",r.__drawOff)}}))},t.prototype.open=function(){this.__disabled=!1},t.prototype.close=function(){this.__disabled=!0},t.pluginName="selection-select",t}(),Jt=function(t){var e="function"===typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te={pluginName:"minimap",__lf:null,__container:null,__miniMapWrap:null,__miniMapContainer:null,__lfMap:null,__viewport:null,__width:150,__height:220,__miniMapWidth:450,__miniMapHeight:660,__isShow:!1,__viewPortTop:0,__viewPortLeft:0,__startPosition:null,__viewPortScale:1,__viewPortWidth:150,__viewPortHeight:75,__resetDataX:0,__resetDataY:0,__LogicFlow:null,__disabledPlugins:["minimap","control","selection-select"],install:function(t,e){te.__lf=t,te.__miniMapWidth=t.width,te.__miniMapHeight=220*t.width/150,te.__LogicFlow=e,this.__init()},init:function(t){this.__disabledPlugins=this.__disabledPlugins.concat(t.disabledPlugins||[])},render:function(t,e){te.__container=e;["node:add","node:delete","edge:add","edge:delete","node:drop","blank:drop"].forEach((function(t){te.__lf.on(t,(function(){te.__setView()}))}))},show:function(t,e){te.__setView(),te.__isShow||te.__createMiniMap(t,e),te.__isShow=!0},hide:function(){te.__isShow&&te.__removeMiniMap(),te.__isShow=!1},__init:function(){var t=document.createElement("div");t.className="lf-mini-map-graph",t.style.width=te.__width+"px",t.style.height=te.__height+"px",te.__lfMap=new te.__LogicFlow({width:te.__lf.width,height:220*te.__lf.width/150,container:t,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:te.__disabledPlugins}),te.__lfMap.adapterIn=function(t){return t},te.__lfMap.adapterOut=function(t){return t},te.__miniMapWrap=t,te.__createViewPort()},__createMiniMap:function(t,e){var r=document.createElement("div"),n=te.__miniMapWrap;r.appendChild(n),"undefined"!==typeof t&&"undefined"!==typeof e&&(r.style.left=t+"px",r.style.top=e+"px"),r.style.position="absolute",r.className="lf-mini-map",te.__container.appendChild(r),te.__miniMapWrap.appendChild(te.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="\u5bfc\u822a",r.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",te.hide),r.appendChild(i),te.__miniMapContainer=r},__removeMiniMap:function(){te.__container.removeChild(te.__miniMapContainer)},__getBounds:function(t){var e=0,r=te.__miniMapWidth,n=0,o=te.__miniMapHeight,i=t.nodes;return i&&i.length>0&&i.forEach((function(t){var i=t.x,a=t.y,c=t.width,u=void 0===c?200:c,s=t.height,l=void 0===s?200:s,f=i-u/2,p=i+u/2,d=a-l/2,h=a+l/2;e=f<e?f:e,r=p>r?p:r,n=d<n?d:n,o=h>o?h:o})),{left:e,top:n,bottom:o,right:r}},__resetData:function(t){var e=t.nodes,r=t.edges,n=0,o=0;return e&&e.length>0&&(e.forEach((function(t){var e=t.x,r=t.y,i=t.width,a=void 0===i?200:i,c=t.height,u=e-a/2,s=r-(void 0===c?200:c)/2;n=u<n?u:n,o=s<o?s:o})),(n<0||o<0)&&(te.__resetDataX=n,te.__resetDataY=o,e.forEach((function(t){t.x=t.x-n,t.y=t.y-o,t.text&&(t.text.x=t.text.x-n,t.text.y=t.text.y-o)})),r.forEach((function(t){t.startPoint&&(t.startPoint.x=t.startPoint.x-n,t.startPoint.y=t.startPoint.y-o),t.endPoint&&(t.endPoint.x=t.endPoint.x-n,t.endPoint.y=t.endPoint.y-o),t.text&&(t.text.x=t.text.x-n,t.text.y=t.text.y-o),t.pointsList&&t.pointsList.forEach((function(t){t.x=t.x-n,t.y=t.y-o}))})))),t},__setView:function(){var t,e,r=te.__resetData(te.__lf.getGraphRawData()),n=te.__lf.viewMap,o=te.__lf.graphModel.modelMap,i=te.__lfMap.viewMap;try{for(var a=Jt(n.keys()),c=a.next();!c.done;c=a.next()){var u=c.value;i.has(u)||(te.__lfMap.setView(u,n.get(u)),te.__lfMap.graphModel.modelMap.set(u,o.get(u)))}}catch(g){t={error:g}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}te.__lfMap.render(r);var s=te.__getBounds(r),l=s.left,f=s.top,p=s.right,d=s.bottom,h=te.__width/(p-l),y=te.__height/(d-f),v=te.__miniMapWrap.firstChild.style,b=Math.min(h,y);v.transform="matrix("+b+", 0, 0, "+b+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(l,0)+"px",te.__viewPortScale=b,te.__setViewPort(b,{left:l,top:f,right:p,bottom:d})},__setViewPort:function(t,e){var r=e.left,n=e.right,o=te.__viewport.style;o.width=te.__width-4+"px",o.height=(te.__width-4)/(te.__lf.width/te.__lf.height)+"px";var i=te.__lf.getTransform(),a=i.TRANSLATE_X,c=i.TRANSLATE_Y,u=n-r,s=(te.__width-4)/(u/te.__lf.width),l=s/(te.__lf.width/te.__lf.height);te.__viewPortTop=c>0?0:-c*t,te.__viewPortLeft=-a*t,te.__viewPortWidth=s,te.__viewPortHeight=l,o.top=te.__viewPortTop+"px",o.left=te.__viewPortLeft+"px",o.width=s+"px",o.height=l+"px"},__createViewPort:function(){var t=document.createElement("div");t.className="lf-minimap-viewport",t.addEventListener("mousedown",te.__startDrag),te.__viewport=t},__startDrag:function(t){document.addEventListener("mousemove",te.__drag),document.addEventListener("mouseup",te.__drop),te.__startPosition={x:t.x,y:t.y}},__drag:function(t){var e=te.__viewport.style;te.__viewPortTop+=t.y-te.__startPosition.y,te.__viewPortLeft+=t.x-te.__startPosition.x,e.top=te.__viewPortTop+"px",e.left=te.__viewPortLeft+"px",te.__startPosition={x:t.x,y:t.y};var r=(te.__viewPortLeft+te.__viewPortWidth/2)/te.__viewPortScale,n=(te.__viewPortTop+te.__viewPortHeight/2)/te.__viewPortScale;te.__lf.focusOn({coordinate:{x:r+te.__resetDataX,y:n+te.__resetDataY}})},__drop:function(){document.removeEventListener("mousemove",te.__drag),document.removeEventListener("mouseup",te.__drop)}},ee=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),re=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.getEdge=function(){for(var t=this.getAttributes(),e=t.points,r=t.strokeWidth,n=t.stroke,o=t.strokeDashArray,i=e.split(" ").map((function(t){return t.split(",").map((function(t){return Number(t)}))})),a=re(i[0],2),c="M"+a[0]+" "+a[1],u=1;u<i.length-1;u++){var s=re(i[u-1],2),f=s[0],p=s[1],d=re(i[u],2),h=d[0],y=d[1],v=re(i[u+1],2),b=v[0],g=v[1];if(h===f&&y!==p)c=c+" L "+h+" "+(y>p?y-5:y+5);if(y===p&&h!==f)c=c+" L "+(h>f?h-5:h+5)+" "+y;if(c=c+" Q "+h+" "+y,h===b&&y!==g)c=c+" "+h+" "+(y>g?y-5:y+5);if(y===g&&h!==b)c=c+" "+(h>b?h-5:h+5)+" "+y}var m=re(i[i.length-1],2);return c=c+" L "+m[0]+" "+m[1],Object(l.h)("path",{d:c,strokeWidth:r,stroke:n,fill:"none",strokeDashArray:o})},e.extendKey="CurvedEdge",e}(l.PolylineEdge),oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ee(e,t),e}(l.PolylineEdgeModel),ie={pluginName:"curved-edge",curvedSpace:5,init:function(t){var e=t.curvedSpace;ie.curvedSpace=e},install:function(t){t.register({type:"curved-edge",view:ne,model:oe})}},ae=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ce=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ue=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ce(arguments[e]));return t},se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isGroup=!0,e.children=new Set,e.isRestrict=!0,e}return ae(e,t),e.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},e.prototype.setIsRestrict=function(t){this.isRestrict=t},e.prototype.isInRange=function(t){var e=t.x1,r=t.y1,n=t.x2,o=t.y2;return e>=this.x-this.width/2&&n<=this.x+this.width/2&&r>=this.y-this.height/2&&o<=this.y+this.height/2},e.prototype.setAllowAppendChild=function(t){this.stroke=t?"red":"rgb(24, 125, 255)"},e.prototype.addChild=function(t){this.children.add(t)},e.prototype.removeChild=function(t){this.children.delete(t)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.children=ue(this.children),e},e}(l.RectNodeModel),le={type:"group",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ae(e,t),e.prototype.toFront=function(){},e.prototype.getShapeStyle=function(){var e=t.prototype.getShapeStyle.call(this);return e.radius=0,e},e}(l.RectNode),model:se},fe=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},pe=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fe(arguments[e]));return t},de=(function(){function t(t){var e=this,r=t.lf;this.nodeGroupMap=new Map,this.appendNodeToGrop=function(t){var r=t.data,n=e.nodeGroupMap.get(r.id);if(n){var o=e.lf.getNodeModel(n);o.removeChild(r.id),e.nodeGroupMap.delete(r.id),o.setAllowAppendChild(!1)}var i=e.lf.getNodeModel(r.id).getBounds(),a=e.getGroup(i);a&&r.id!==a.id&&(a.addChild(r.id),e.nodeGroupMap.set(r.id,a.id),a.setAllowAppendChild(!1))},this.setActiveGroup=function(t){var r=t.data;e.activeGroup&&(e.activeGroup.setAllowAppendChild(!1),e.activeGroup=void 0);var n=e.lf.getNodeModel(r.id).getBounds();e.activeGroup=e.getGroup(n),e.activeGroup&&e.activeGroup.id!==r.id&&e.activeGroup.setAllowAppendChild(!0)},r.register(le),this.lf=r,r.graphModel.addNodeMoveRules((function(t,n,o){if(t.isGroup)return r.graphModel.moveNodes(pe(t.children),n,o,!0),!0;var i=r.getNodeModel(e.nodeGroupMap.get(t.id));if(i&&i.isRestrict){var a=t.getBounds(),c=a.x1,u=a.y1,s=a.x2,l=a.y2;return i.isInRange({x1:c+n,y1:u+o,x2:s+n,y2:l+o})}return!0})),r.on("node:add",this.appendNodeToGrop),r.on("node:drop",this.appendNodeToGrop),r.on("node:dnd-move",this.setActiveGroup),r.on("node:drag",this.setActiveGroup)}t.prototype.getGroups=function(){var t=[];this.lf.graphModel.nodes.forEach((function(e){e.isGroup&&t.push(e)}))},t.prototype.getGroup=function(t){for(var e=this.lf.graphModel.nodes,r=0;r<e.length;r++){var n=e[r];if(n.isGroup&&n.isInRange(t))return n}},t.pluginName="group"}(),r(54)),he=function(){return(he=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ye(t){var e=t.x,r=t.y,n=t.width,o=t.height,i=t.radius,a=t.className,c=e-n/2,u=r-o/2,s=he(he({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},t),{x:c,y:u});return Object(l.h)("rect",he({},s))}function ve(t){var e=t.x,r=t.y,n=t.width,o=t.height;return{minX:e-n/2,minY:r-o/2,maxX:e+n/2,maxY:r+o/2}}function be(t){var e=ve(t),r=t.radius,n=e.minX,o=e.minY,i=e.maxX,a=e.maxY;return[{x:n+r,y:o+r},{x:i-r,y:o+r},{x:i-r,y:a-r},{x:n+r,y:a-r}]}function ge(t){var e=t.point,r=t.beforeNode,n=t.afterNode,o=e.x,i=e.y,a={x:o,y:i},c=r.radius,u=ve(r),s=ve(n);if(o===u.minX){a.x=s.minX;var l=(i-r.y)/(r.height/2-c);a.y=l?n.y+(n.height/2-c)*l:n.y}else if(o===u.maxX){a.x=s.maxX;l=(i-r.y)/(r.height/2-c);a.y=l?n.y+(n.height/2-c)*l:n.y}else if(i===u.minY){a.y=s.minY;l=(o-r.x)/(r.width/2-c);a.x=l?n.x+(n.width/2-c)*l:n.x}else if(i===u.maxY){a.y=s.maxY;l=(o-r.x)/(r.width/2-c);a.x=l?n.x+(n.width/2-c)*l:n.x}else{var f=be(r),p=be(n),d=ve(r),h=d.minX,y=d.minY,v=d.maxX,b=d.maxY,g=-1;if(o-h<c&&i-y<c?g=0:v-o<c&&i-y<c?g=1:v-o<c&&b-i<c?g=2:o-h<c&&y-i<c&&(g=3),g>-1){var m=Math.atan2(i-f[g].y,o-f[g].x);a.x=p[g].x+c*Math.cos(m),a.y=p[g].y+c*Math.sin(m)}}return a}function me(t){var e,r,n=t.point,o=t.beforeNode,i=t.afterNode,a=i.rx,c=i.ry,u=(n.y-o.y)/(n.x-o.x),s=a,l=c;return u>=1/0?(e=0,r=l):u<=-1/0?(e=0,r=-l):n.x-o.x>0?(e=s*l/Math.sqrt(l*l+s*s*u*u),r=s*l*u/Math.sqrt(l*l+s*s*u*u)):(e=-s*l/Math.sqrt(l*l+s*s*u*u),r=-s*l*u/Math.sqrt(l*l+s*s*u*u)),{x:e+i.x,y:r+i.y}}function Oe(t){var e,r=t.point,n=t.beforeNode,o=t.afterNode,i=r.x-n.x,a=r.y-n.y,c=n.rx,u=n.ry,s=Math.sqrt((c-Math.abs(i))*(c-Math.abs(i))+a*a)/Math.sqrt(c*c+u*u),l=o.rx,f=o.ry,p=Math.sqrt((l*l+f*f)*s*s*(l*l/(l*l+f*f))),d=p*(f/l);return e=a>0?d:-d,{x:(i>=0?l-p:p-l)+o.x,y:e+o.y}}ye.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Ct||(Ct={}));var xe=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),we=function(){return(we=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},je=l.LogicFlowUtil.createDrag,_e=function(t){function e(e){var r=t.call(this)||this;r.updatePosition=function(t){var e=t.deltaX,n=t.deltaY,o=r.nodeModel,i=o.x,a=o.y;r.nodeModel.x=i+e/2,r.nodeModel.y=a+n/2,r.nodeModel.moveText(e/2,n/2)},r.getResize=function(t){var e=t.index,r=t.deltaX,n=t.deltaY,o=t.width,i=t.height,a=t.pct,c=void 0===a?1:a,u={width:o,height:i};switch(e){case 0:u.width=o-r*c,u.height=i-n*c;break;case 1:u.width=o+r*c,u.height=i-n*c;break;case 2:u.width=o+r,u.height=i+n*c;break;case 3:u.width=o-r*c,u.height=i+n*c}return u},r.updateRect=function(t){var e=t.deltaX,n=t.deltaY,o=r.nodeModel,i=o.id,a=o.x,c=o.y,u=o.width,s=o.height,l=o.radius,f=r.index,p=r.getResize({index:f,deltaX:e,deltaY:n,width:u,height:s,pct:1}),d=r.nodeModel,h=d.minWidth,y=d.minHeight,v=d.maxWidth,b=d.maxHeight;if(!(p.width<h||p.width>v||p.height<y||p.height>b)){r.updatePosition({deltaX:e,deltaY:n}),r.nodeModel.width=p.width,r.nodeModel.height=p.height,r.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var g,m=r.getNodeEdges(i),O={x:a,y:c,width:u,height:s,radius:l},x={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:l},w={point:"",beforeNode:O,afterNode:x};m.sourceEdges.forEach((function(t){w.point=t.startPoint,g=ge(w),t.updateStartPoint(g)})),m.targetEdges.forEach((function(t){w.point=t.endPoint,g=ge(w),t.updateEndPoint(g)})),r.eventEmit({beforeNode:O,afterNode:x})}},r.updateEllipse=function(t){var e=t.deltaX,n=t.deltaY,o=r.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=r.index,f=a,p=c,d=r.getResize({index:l,deltaX:e,deltaY:n,width:f,height:p,pct:.5}),h=r.nodeModel,y=h.minWidth,v=h.minHeight,b=h.maxWidth,g=h.maxHeight;if(!(d.width<y/2||d.width>b/2||d.height<v/2||d.height>g/2)){r.updatePosition({deltaX:e,deltaY:n}),r.nodeModel.rx=d.width,r.nodeModel.ry=d.height,r.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=r.getNodeEdges(i),x={x:u,y:s},w={rx:d.width,ry:d.height,x:r.nodeModel.x,y:r.nodeModel.y},j={point:{},beforeNode:x,afterNode:w};O.sourceEdges.forEach((function(t){j.point=t.startPoint,m=me(j),t.updateStartPoint(m)})),O.targetEdges.forEach((function(t){j.point=t.endPoint,m=me(j),t.updateEndPoint(m)})),r.eventEmit({beforeNode:we(we({},x),{rx:a,ry:c}),afterNode:w})}},r.updateDiamond=function(t){var e=t.deltaX,n=t.deltaY,o=r.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=r.index,f=a,p=c,d=r.getResize({index:l,deltaX:e,deltaY:n,width:f,height:p,pct:.5}),h=Ye.sizeRange.ellipse,y=h.minRx,v=h.minRy,b=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>b||d.height<v||d.height>g)){r.updatePosition({deltaX:e,deltaY:n}),r.nodeModel.rx=d.width,r.nodeModel.ry=d.height,r.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={x:u,y:s,rx:a,ry:c},x={rx:d.width,ry:d.height,x:r.nodeModel.x,y:r.nodeModel.y},w={point:{},beforeNode:O,afterNode:x},j=r.getNodeEdges(i);j.sourceEdges.forEach((function(t){w.point=t.startPoint,m=Oe(w),t.updateStartPoint(m)})),j.targetEdges.forEach((function(t){w.point=t.endPoint,m=Oe(w),t.updateEndPoint(m)})),r.eventEmit({beforeNode:O,afterNode:x})}},r.eventEmit=function(t){var e=t.beforeNode,n=t.afterNode,o=r.nodeModel,i=o.id,a=o.modelType,c=o.type,u=we({id:i,modelType:a,type:c},e),s=we({id:i,modelType:a,type:c},n);r.graphModel.eventCenter.emit("node:resize",{oldNodeSize:u,newNodeSize:s})},r.onDraging=function(t){var e=t.deltaX,n=t.deltaY,o=r.nodeModel.modelType;o===Ct.RECT_NODE?r.updateRect({deltaX:e,deltaY:n}):o===Ct.ELLIPSE_NODE?r.updateEllipse({deltaX:e,deltaY:n}):o===Ct.DIAMOND_NODE&&r.updateDiamond({deltaX:e,deltaY:n})},r.index=e.index,r.nodeModel=e.nodeModel,r.graphModel=e.graphModel;var n=r.graphModel.gridSize,o=2;return n>1&&(o=2*n),r.state={},r.dragHandler=je({onDraging:r.onDraging,step:o}),r}return xe(e,t),e.prototype.getNodeEdges=function(t){for(var e=this.graphModel.edges,r=[],n=[],o=0;o<e.length;o++){var i=e[o];i.sourceNodeId===t?r.push(i):e[o].targetNodeId===t&&n.push(i)}return{sourceEdges:r,targetEdges:n}},e.prototype.render=function(){var t=this.props,e=t.x,r=t.y,n=t.style,o=t.index,i=Ye.style.controlPoint,a=i.width,c=i.height,u=i.fill,s=i.stroke;return Object(de.b)("g",{className:"lf-resize-control-"+o},Object(de.b)(ye,we({className:"lf-node-control"},{x:e,y:r},n,{width:a,height:c,fill:u,stroke:s,onMouseDown:this.dragHandler})))},e}(de.a),Ee=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se=function(){return(Se=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pe=function(t){function e(){var e=t.call(this)||this;return e.state={},e}return Ee(e,t),e.prototype.getResizeControl=function(){var t=this.props,e=t.x,r=t.y,n=t.width,o=t.height,i=t.nodeModel,a=t.graphModel,c={minX:e-n/2,minY:r-o/2,maxX:e+n/2,maxY:r+o/2},u=c.minX,s=c.minY,l=c.maxX,f=c.maxY;return[{x:u,y:s},{x:l,y:s},{x:l,y:f},{x:u,y:f}].map((function(t,e){return Object(de.b)(_e,Se({index:e},t,{nodeModel:i,graphModel:a}))}))},e.prototype.getGroupSolid=function(){var t=this.props,e=t.x,r=t.y,n=t.width,o=t.height,i=Ye.style.outline,a=i.stroke,c=i.strokeWidth,u=i.strokeDasharray;return Object(de.b)(ye,{fill:"none",x:e,y:r,width:n,height:o,stroke:a,strokeWidth:c,strokeDasharray:u})},e.prototype.render=function(){return Object(de.b)("g",{className:"lf-resize-control"},this.getResizeControl())},e}(de.a),Ae=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke=function(){return(ke=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minWidth=30,e.minHeight=30,e.maxWidth=2e3,e.maxHeight=2e3,e}return Ae(e,t),e.prototype.setAttributes=function(){var t=this.properties.nodeSize;t&&(this.width=t.width,this.height=t.height)},e}(l.RectNodeModel),Me={type:"rect",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ae(e,t),e.prototype.getControlGroup=function(t){var e=this.props,r=e.model,n=e.graphModel;return Object(l.h)(Pe,ke({},t,{nodeModel:r,graphModel:n}))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),r=this.props.model.isSelected;return Object(l.h)("g",null,t.prototype.getShape.call(this),r?this.getControlGroup(e):"")},e}(l.RectNode),model:Ne},De=function(){return(De=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Te(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.rx,a=void 0===i?4:i,c=t.ry,u=De({cx:r,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},t);return Object(l.h)("ellipse",De({},u))}var Ce=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(){return(Ie=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minWidth=30,e.minHeight=30,e.maxWidth=2e3,e.maxHeight=2e3,e}return Ce(e,t),e.prototype.setAttributes=function(){var t=this.properties.nodeSize;t&&(this.rx=t.rx,this.ry=t.ry)},e}(l.EllipseNodeModel),Le={type:"ellipse",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ce(e,t),e.prototype.getControlGroup=function(t){var e=this.props,r=e.model,n=e.graphModel;return Object(l.h)(Pe,Ie({},t,{nodeModel:r,graphModel:n}))},e.prototype.getResizeShape=function(t){return Object(l.h)("g",null,Object(l.h)(Te,Ie({},t)))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),r=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(e),r?this.getControlGroup(e):"")},e}(l.EllipseNode),model:Re},ze=function(){return(ze=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Be(t){var e=t.fillOpacity,r=void 0===e?1:e,n=t.strokeWidth,o=void 0===n?1:n,i=t.strokeOpacity,a=void 0===i?1:i,c=t.fill,u=void 0===c?"transparent":c,s=t.stroke,f=void 0===s?"#000":s,p=t.points,d=t.className,h={fill:u,fillOpacity:r,strokeWidth:o,stroke:f,strokeOpacity:a,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(t){return t.join(",")})).join(" "),Object(l.h)("polygon",ze({},h))}var Ge=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fe=function(){return(Fe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ge(e,t),e.prototype.setAttributes=function(){var t=this.properties.nodeSize;t&&(this.rx=t.rx,this.ry=t.ry)},e}(l.DiamondNodeModel),Xe={type:"diamond",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ge(e,t),e.prototype.getControlGroup=function(t){var e=this.props,r=e.model,n=e.graphModel;return Object(l.h)(Pe,Fe({},t,{nodeModel:r,graphModel:n}))},e.prototype.getResizeShape=function(t){return Object(l.h)("g",null,Object(l.h)(Be,Fe({},t)))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),r=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(e),r?this.getControlGroup(e):"")},e}(l.DiamondNode),model:Ue},He={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(t){t.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),t.register({type:Me.type,view:Me.view,model:Me.model}),t.register({type:Le.type,view:Le.view,model:Le.model}),t.register({type:Xe.type,view:Xe.view,model:Xe.model})}},Ye=He,We=function(t,e){var r="function"===typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ve=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(We(arguments[e]));return t},Ke=(function(){function t(t){var e=this,r=t.lf;this.lf=r,this.pathes=[],r.getPathes=function(){if(!e.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return e.getPathes()},r.setRawPathes=function(t){e.setPathes(t)},r.getRawPathes=function(){return e.pathes},r.setStartNodeType=function(t){e.startNodeType=t}}t.prototype.setPathes=function(t){this.pathes=t.map((function(t){return{routeId:t.routeId,name:t.name,elements:t.elements,type:t.type,similarElement:null,weight:0}}))},t.prototype.getPathes=function(){var t=this,e=this.lf.getGraphRawData(),r=new Map,n=[];e.nodes.forEach((function(e){r.set(e.id,{id:e.id,data:e,nextNodes:[]}),e.type===t.startNodeType&&n.push(e.id)})),e.edges.forEach((function(t){r.get(t.sourceNodeId).nextNodes.push(t.targetNodeId)}));var o=[];return n.forEach((function(e){o=o.concat(t.findPathElements(r.get(e),r,[]))})),this.getNewPathes(o)},t.prototype.findPathElements=function(t,e,r){void 0===r&&(r=[]);var n=Ve(r);if(n.push(t.id),0===t.nextNodes.length)return[n];for(var o=[],i=0;i<t.nextNodes.length;i++){var a=e.get(t.nextNodes[i]),c=void 0,u=n.indexOf(a.id);c=-1!==u?[Ve(n.slice(u),[a.id])]:this.findPathElements(a,e,Ve(n)),o=o.concat(c)}return o},t.prototype.getNewPathes=function(t){var e=this,r=[],n=new Set;t.forEach((function(t){var o=e.getNewId("path"),i=e.getNewId("\u8def\u5f84"),a=e.isLoopPath(t),c=t.join(",");n.has(c)||(n.add(c),r.push({routeId:o,name:i,elements:t,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return r.forEach((function(t){for(var r=0;r<o.length;r++){var n=o[r],i=e.similar2Path(Ve(t.elements),Ve(n.elements));i>t.weight&&n.weight<=i&&(t.weight=i,t.similarElement=n,i===n.weight&&n.similarElement?(n.similarElement.similarElement=null,n.similarElement.weight=0,n.similarElement=null,n.weight=0):(n.similarElement=t,n.weight=i))}})),r.forEach((function(t){t.similarElement&&t.similarElement.similarElement===t&&(t.routeId=t.similarElement.routeId,t.name=t.similarElement.name),delete t.similarElement,delete t.weight})),this.setPathes(r),r},t.prototype.similar2Path=function(t,e){var r=0,n=t.length+e.length;t.sort(),e.sort();for(var o=t.shift(),i=e.shift();void 0!==o&&void 0!==i;)o===i?(r++,o=t.shift(),i=e.shift()):o<i?o=t.shift():o>i&&(i=e.shift());return r/n*200},t.prototype.getNewId=function(t){return t+"_"+T()},t.prototype.isLoopPath=function(t){var e=t.length;return t.indexOf(t[e-1])!==e-1?1:0},t.pluginName="FlowPath"}(),function(){return(Ke=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}),Ze=-1,qe=0,$e=1,Qe=(function(){function t(t){var e=this,r=t.lf;this.lf=r,r.layout=function(t){var r=e.lf.getGraphRawData();e.lf.setStartNodeType(t);var n=e.lf.getPathes();return e.levelHeight=[],e.newNodeMap=new Map,e.layout(r,n)}}t.prototype.layout=function(t,e){var r=[];e.forEach((function(t){t.elements.length>r.length&&(r=t.elements)}));for(var n=this.formatData(t),o={nodes:[],edges:[]},i=r.length-1;i>=0;i--)this.setNodePosition(r[i],n,o,i,1);this.lf.graphModel.graphDataToModel(o)},t.prototype.setNodePosition=function(t,e,r,n,o){var i=this,a=e[t],c=a.text,u=a.type,s=a.next,l=a.properties,f=160*n+40,p=120*o,d={id:t,x:f,text:c,y:p,type:u,properties:l};return c&&"object"===typeof c&&(d.text=Ke(Ke({},c),{x:f+c.x,y:p+c.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),r.nodes.push(d),a.isFixed=!0,this.addLevelHeight(n,1),s&&s.length>0&&s.forEach((function(o){if(!e[o.nodeId].isFixed){var a=i.getLevelHeight(n+1);i.addLevelHeight(n,1),i.setNodePosition(o.nodeId,e,r,n+1,a+1)}r.edges.push(Ke({id:o.edgeId,type:o.edgeType,sourceNodeId:t,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(t,o.nodeId)))})),d},t.prototype.getEdgeDataPoints=function(t,e){var r=this.newNodeMap.get(t),n=this.newNodeMap.get(e),o=this.getShape(t),i=o.width,a=o.height,c=this.getShape(e),u=c.width,s=c.height,l=this.getRelativePosition(r,n),f={x:r.x,y:r.y},p={x:n.x,y:n.y};switch(l){case qe:f.x=r.x+i/2,p.x=n.x-u/2;break;case Ze:f.y=r.y+a/2,p.x=n.x-u/2;break;case $e:f.x=r.x+i/2,p.y=n.y+s/2}return{startPoint:f,endPoint:p}},t.prototype.getRelativePosition=function(t,e){var r=t.y,n=e.y;return r<n?-1:r===n?0:1},t.prototype.getShape=function(t){var e=this.lf.getNodeModel(t);return{height:e.height,width:e.width}},t.prototype.formatData=function(t){var e=t.nodes.reduce((function(t,e){var r=e.type,n=e.properties,o=e.text,i=e.x,a=e.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),t[e.id]={type:r,properties:n,text:o,prev:[],next:[]},t}),{});return t.edges.forEach((function(t){var r=t.sourceNodeId,n=t.targetNodeId,o=t.id,i=t.properties,a=t.text,c=a;"object"===typeof a&&(c=a.value),e[r].next.push({edgeId:o,nodeId:n,edgeType:t.type,properties:i,text:c}),e[n].prev.push({edgeId:o,nodeId:r,properties:i,text:c})})),e},t.prototype.addLevelHeight=function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=!1);var n=this.levelHeight[t];n||(n={positiveHeight:0,negativeHeight:0},this.levelHeight[t]=n),r?n.negativeHeight-=e:n.positiveHeight+=e},t.prototype.getLevelHeight=function(t,e){void 0===e&&(e=!1);var r=this.levelHeight[t];return r?e?r.negativeHeight:r.positiveHeight:0},t.pluginName="AutoLayout"}(),{stopScrollGraph:!0,stopZoomGraph:!0}),Je={nodes:[{id:10,type:"rect",x:150,y:100,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:100,text:"\u5706\u5f62"},{id:30,type:"diamond",x:300,y:300,text:"\u83f1\u5f62"},{id:33,type:"diamond",x:600,y:250,text:"\u83f1\u5f622"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u89d2\u6298\u7ebf",startPoint:{id:"150-60",x:150,y:60}},{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:100}},{type:"bezier",sourceNodeId:10,targetNodeId:30,text:"\u66f2\u7ebf",endPoint:{id:"150-60",x:300,y:250}},{type:"curved-edge",sourceNodeId:30,targetNodeId:33,text:"\u5706\u89d2\u66f2\u7ebf"}]};function tr(t){var e=t.lf;return e&&e.on("selection:selected",(function(){e.updateEditConfig({stopMoveGraph:!1})})),Object(y.jsxs)("div",{className:"pattern",children:[Object(y.jsx)("div",{className:"pattern-selection",onMouseDown:function(){e.updateEditConfig({stopMoveGraph:!0})}}),Object(y.jsx)("div",{children:"\u9009\u533a"}),Object(y.jsx)("div",{className:"pattern-start",onMouseDown:function(){e.dnd.startDrag({type:"bpmn:startEvent",text:"\u5f00\u59cb"})}}),Object(y.jsx)("div",{children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){e.dnd.startDrag({type:"bpmn:userTask"})}}),Object(y.jsx)("div",{children:"\u7528\u6237\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){e.dnd.startDrag({type:"bpmn:serviceTask"})}}),Object(y.jsx)("div",{children:"\u7cfb\u7edf\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-condition",onMouseDown:function(){e.dnd.startDrag({type:"bpmn:exclusiveGateway"})}}),Object(y.jsx)("div",{children:"\u6761\u4ef6\u5224\u65ad"}),Object(y.jsx)("div",{className:"pattern-end",onMouseDown:function(){e.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ed3\u675f"})}}),Object(y.jsx)("div",{children:"\u7ed3\u675f"})]})}var er=r(226).default,rr=r(227).default,nr=r(228).default;function or(t){var e=t.lf;function r(){var t=e.getGraphData();console.log(t),function(t,e){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}("logic-flow.xml",t)}return Object(y.jsxs)("div",{className:"graph-io",children:[Object(y.jsx)("span",{title:"\u4e0b\u8f7d XML",onMouseDown:function(){return r()},children:Object(y.jsx)("img",{src:er,alt:"\u4e0b\u8f7dXML"})}),Object(y.jsx)("span",{id:"download-img",title:"\u4e0b\u8f7d\u56fe\u7247",onMouseDown:function(){t.lf.getSnapshot()},children:Object(y.jsx)("img",{src:rr,alt:"\u4e0b\u8f7d\u56fe\u7247"})}),Object(y.jsxs)("span",{id:"upload-xml",title:"\u4e0a\u4f20 XML",children:[Object(y.jsx)("input",{type:"file",className:"upload",onChange:function(t){return function(t){var r=t.target.files[0],n=new FileReader;n.onload=function(t){if(t.target){var r=t.target.result;e.render(r)}},n.readAsText(r)}(t)}}),Object(y.jsx)("img",{src:nr,alt:"\u4e0a\u4f20XML"})]})]})}r(229),r(86);var ir={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},ar=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t){var n;return Object(m.a)(this,r),(n=e.call(this,t)).lf=void 0,n.state={rendered:!0},n}return Object(O.a)(r,[{key:"componentDidMount",value:function(){f.a.use(lt),f.a.use(At),f.a.use(ft),f.a.use(Xt),f.a.use(qt),f.a.use(Qt);var t=new f.a(Object(s.a)(Object(s.a)({},ir),{},{container:document.querySelector("#graph")}));t.render(),this.lf=t,this.setState({rendered:!0})}},{key:"render",value:function(){var t;return this.state.rendered&&(t=Object(y.jsxs)("div",{children:[Object(y.jsx)(tr,{lf:this.lf}),Object(y.jsx)(or,{lf:this.lf})]})),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{children:Object(y.jsxs)("div",{children:["\u70b9\u51fb\u5de6\u4e0b\u89d2\u4e0b\u8f7d XML\uff0c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230",Object(y.jsx)(d.a,{type:"link",href:"https://demo.bpmn.io/",target:"_blank",children:"BPMN Demo"}),"\u5373\u53ef\u4f7f\u7528"]})}),Object(y.jsxs)("div",{className:"bpmn-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),t]})]})}}]),r}(n.Component),cr=(r(230),{stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,keyboard:{enabled:!0},style:{rect:{width:100,height:60}}}),ur={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var sr={stopScrollGraph:!0,stopZoomGraph:!0},lr={nodes:[{id:10,type:"rect",x:200,y:90,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:200,y:250,text:"\u4f60\u597d\uff01",r:50}]};var fr={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,type:"dot"}},pr={nodes:[{id:10,type:"rect",x:170,y:150,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:380,y:60,text:"\u4f60\u597d\uff01",r:50}]};var dr={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{height:60},nodeText:{fontSize:16},edgeText:{fontSize:17}}},hr={nodes:[{id:10,type:"rect",x:170,y:100,text:"I"},{id:20,type:"circle",x:380,y:180,text:"LogicFlow"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"Like",endPoint:{id:"330-180",x:330,y:180}}]};var yr={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,grid:{size:10,type:"mesh"},tool:{menu:!1,control:!1},style:{rect:{width:100,height:50,radius:6,fill:"#3eaf7c",strokeWidth:2},circle:{r:40,fill:"#3eaf7c",strokeWidth:2},nodeText:{fontSize:16,color:"#000000"},edgeText:{fontSize:16,color:"#000000"}}},vr={nodes:[{id:10,type:"circle",x:250,y:100,text:"circle"},{id:20,type:"rect",x:180,y:260,text:"rect"},{id:30,type:"rect",x:320,y:260,text:"rect"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,startPoint:{id:"250-140",x:250,y:140}},{type:"line",sourceNodeId:10,targetNodeId:30,startPoint:{id:"250-140",x:250,y:140}}]};var br,gr=r(252),mr={stopScrollGraph:!0,stopZoomGraph:!0},Or={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:70}}]},xr={display:"flex",alignItems:"center"};var wr={stopScrollGraph:!0,stopZoomGraph:!0};var jr={type:"custom:circle",model:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){var t=this;this.fill="red",this.menu=[{text:"\u81ea\u5b9a\u4e49\u5143\u7d20\u83dc\u5355",icon:!0,className:"custom-menu",callback:function(e){t.graphModel.eventCenter.emit("custom:node:event",e)}}]}}]),r}(l.CircleNodeModel),view:l.CircleNode},_r=(r(231),{stopScrollGraph:!0,stopZoomGraph:!0}),Er={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u83dc\u5355"},{id:11,type:"circle",x:550,y:150,text:"\u5355\u4e00\u7c7b\u578b\u83dc\u5355"},{id:12,type:"custom:circle",x:200,y:200,text:"\u4e1a\u52a1\u72b6\u6001\u83dc\u5355"}],edges:[{type:"bezier",text:"\u8fde\u63a5",sourceNodeId:10,targetNodeId:11}]};var Sr={stopScrollGraph:!0,stopZoomGraph:!0};var Pr,Ar=r(250),kr={stopScrollGraph:!0,stopZoomGraph:!0,stopMoveGraph:!0},Nr={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};r(232);var Mr={stopScrollGraph:!0,stopZoomGraph:!0},Dr={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};var Tr,Cr={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},Ir={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u8282\u70b9"},{id:20,type:"rect",x:400,y:80,text:"\u53f3\u952e\u8282\u70b9"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u53f3\u952e\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var Rr=[{type:"circle",text:"\u5706\u5f62"},{type:"rect",text:"\u77e9\u5f62"}];function Lr(t){return Object(y.jsx)("div",{className:"panel",children:Rr.map((function(e,r){var n=e.type,o=e.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(n),onMouseDown:function(){!function(e){t.lf.dnd.startDrag(e)}(e)}}),Object(y.jsx)("span",{children:o})]},r)}))})}var zr={pluginName:"dnd",install:function(){},render:function(t,e){a.a.render(Object(y.jsx)(Lr,{lf:t}),e)}},Br={stopScrollGraph:!0,stopZoomGraph:!0};var Gr,Fr=r(42),Ur=r(33),Xr=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){return Object(m.a)(this,r),t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+35},e.call(this,t,n)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.rx=20,this.ry=20}},{key:"getConnectedTargetRules",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getConnectedTargetRules",this).call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),t}}]),r}(Le.model),Hr={type:"bpmn:startEvent",view:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getAttributes",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getAttributes",this).call(this);return Object(s.a)({},t)}}]),r}(Le.view),model:Xr},Yr=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){return Object(m.a)(this,r),t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+40},e.call(this,t,n)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.rx=25,this.ry=25}}]),r}(Xe.model),Wr={type:"bpmn:exclusiveGateway",view:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getResizeShape",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getAttributes",this).call(this),e=t.x,n=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.points.map((function(t){return t.join(",")})).join(" ");return Object(l.h)("g",{},Object(l.h)("polygon",{fill:o,stroke:i,strokeWidth:a,points:c}),Object(l.h)("path",{transform:"matrix(1 0 0 1 ".concat(e-25," ").concat(n-25,")"),fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))}}]),r}(Xe.view),model:Yr},Vr=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.width=100,this.height=80,this.radius=10}}]),r}(Me.model),Kr={type:"bpmn:userTask",view:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getResizeShape",value:function(){var t=this.getAttributes(),e=t.x,r=t.y,n=t.width,o=t.height,i=t.fill,a=t.stroke,c=t.strokeWidth,u=t.radius,f={x:e-n/2,y:r-o/2,width:n,height:o,stroke:a,fill:i,strokeWidth:c,rx:u,ry:u};return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),Object(l.h)("svg",{x:e-n/2+5,y:r-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))])}}]),r}(Me.view),model:Vr},Zr=(r(233),{background:{color:"#f7f9ff"},grid:{type:"dot",size:5,visible:!1},keyboard:{enabled:!0}}),qr={nodes:[{id:10,type:"rect",x:100,y:100},{id:20,type:"rect",x:400,y:100}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},$r={display:"flex",alignItems:"center"};var Qr=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.width=80,this.height=80,this.anchorsOffset=[[40,0],[-40,0]],this.sourceRules.push({message:"\u6b63\u65b9\u5f62\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",validate:function(t,e){return"circle"===e.type}})}}]),r}(l.RectNodeModel),Jr={type:"square",view:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getShape",value:function(){var t=this.getAttributes(),e=t.x,r=t.y,n=t.width,o=t.height,i=t.fill,a=t.stroke,c=t.strokeWidth,u=t.properties,f={x:e-n/2,y:r-o/2,width:n,height:o,stroke:a,fill:i,strokeWidth:c},p=Object(l.h)("svg",{x:e-n/2+5,y:r-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}));return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),u.isUser?p:null])}}]),r}(l.RectNode),model:Qr},tn={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},en={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var rn={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},nn={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var on=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.points=[[50,0],[100,80],[0,80]]}}]),r}(l.PolygonNodeModel),an={type:"triangle",view:l.PolygonNode,model:on},cn={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0},un={nodes:[{id:10,type:"triangle",x:150,y:70,text:"triangle"}]};var sn={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},ln={nodes:[{id:10,type:"square",x:150,y:150,text:"\u6b63\u65b9\u5f62"},{id:20,type:"circle",x:380,y:70,text:"\u5706\u5f62"},{id:30,type:"diamond",x:380,y:230,text:"\u5176\u4ed6\u8282\u70b9"}]};var fn={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0},pn={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62",properties:{isUser:!0}}]};r(129);var dn=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=130,this.anchorsOffset=[[100,0],[0,65],[-100,0],[0,-65]]}}]),r}(l.HtmlNodeModel),hn={type:"uml",view:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){var t;Object(m.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).currrentProperties=void 0,t}return Object(O.a)(r,[{key:"shouldUpdate",value:function(){var t=this.getAttributes().properties;return(!this.currrentProperties||this.currrentProperties!==JSON.stringify(t))&&(this.currrentProperties=JSON.stringify(t),!0)}},{key:"setHtml",value:function(t){var e=this.getAttributes().properties;if(this.shouldUpdate()){var r=document.createElement("div");r.className="uml-wrapper";var n='\n      <div>\n        <div class="uml-head">Head</div>\n        <div class="uml-body">\n          <div>+ '.concat(e.name,"</div>\n          <div>+ ").concat(e.body,'</div>\n        </div>\n        <div class="uml-footer">\n          <div>+ setHead(Head $head)</div>\n          <div>+ setBody(Body $body)</div>\n        </div>\n      </div>\n    ');r.innerHTML=n,t.innerHTML="",t.appendChild(r)}}}]),r}(l.HtmlNode),model:dn};function yn(t){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{className:"box-title",children:"title"}),Object(y.jsxs)("div",{className:"box-content",children:[Object(y.jsx)("p",{children:t.name}),Object(y.jsx)("p",{children:t.body}),Object(y.jsx)("p",{children:"content3"})]})]})}var vn,bn=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=116,this.anchorsOffset=[[100,0],[0,58],[-100,0],[0,-58]]}}]),r}(l.HtmlNodeModel),gn={type:"boxx",view:function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setHtml",value:function(t){var e=this.getAttributes().properties;a.a.render(Object(y.jsx)(yn,{name:e.name,body:e.body}),t)}}]),r}(l.HtmlNode),model:bn},mn={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},On={nodes:[{id:10,type:"uml",x:150,y:90,properties:{name:"logicflow",body:"hello"}},{id:11,type:"boxx",x:350,y:100,properties:{name:"turbo",body:"hello"}}]};var xn={stopScrollGraph:!0,stopZoomGraph:!0},wn={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var jn,_n={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},En={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:80,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var Sn=r(139),Pn=r(249),An=r(247),kn=r(248),Nn=r(144),Mn=[{type:"apply",label:"\u7533\u8bf7",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"},property:{username:"",time:"",startTime:"",endTime:""}},{type:"approver",label:"\u5ba1\u6279",style:{width:"50px",height:"40px",borderRadius:"4px",border:"2px solid #3CB371"}},{type:"jugement",label:"\u5224\u65ad",style:{width:"30px",height:"30px",border:"2px solid #6495ED",transform:"rotate(45deg)"}},{type:"finsh",label:"\u7ed3\u675f",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"}}],Dn=[{label:"\u76f4\u63a5\u4e0a\u7ea7",value:"leader"},{label:"T3\u9886\u5bfc",value:"t3Leader"},{label:"T2\u9886\u5bfc",value:"t2Leader"},{label:"T1\u9886\u5bfc",value:"t1Leader"}],Tn={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u7533\u8bf7"},properties:{}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader"}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:""}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader"}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"polyline",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"polyline",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:""},properties:{},pointsList:[{x:720,y:210},{x:825,y:210}]},{id:"bd5e1dd0-1978-46f7-851b-d31c03aebee9",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:350,y:170},endPoint:{x:850,y:185},text:{x:600,y:140,value:"\u9a73\u56de"},properties:{},pointsList:[{x:350,y:170},{x:350,y:140},{x:850,y:140},{x:850,y:185}]},{id:"453139c3-faa1-4e3a-a413-38f251243baa",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:510,y:245},endPoint:{x:850,y:235},text:{x:680,y:275,value:"\u5426"},properties:{},pointsList:[{x:510,y:245},{x:510,y:275},{x:850,y:275},{x:850,y:235}]}]};r(234);function Cn(t,e,r){var n;console.log(t.properties);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"\u5c5e\u6027\u9762\u677f"}),Object(y.jsxs)(An.a,{layout:"inline",initialValues:t.properties,onValuesChange:function(r,n){Dn.forEach((function(t){t.value===r.approveType&&(r.approveTypeLabel=t.label)})),e(t.id,r)},children:[Object(y.jsxs)("span",{className:"form-property",children:["\u7c7b\u578b\uff1a",Object(y.jsx)("span",{children:t.type})]}),Object(y.jsxs)("span",{className:"form-property",children:["\u6587\u6848\uff1a",Object(y.jsx)("span",{children:null===(n=t.text)||void 0===n?void 0:n.value})]}),"approver"===t.type?function(){var t=[];return Dn.forEach((function(e){t.push(Object(y.jsx)(Pn.a.Option,{value:e.value,children:e.label}))})),Object(y.jsx)(An.a.Item,{className:"form-property",label:"\u5ba1\u6838\u8282\u70b9\u7c7b\u578b",name:"approveType",children:Object(y.jsx)(Pn.a,{children:t})})}():"","jugement"===t.type?Object(y.jsx)(An.a.Item,{label:"API",name:"api",children:Object(y.jsx)(kn.a,{})}):""]},t.id),Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"......"}),Object(y.jsx)("h3",{children:"\u4e1a\u52a1\u5c5e\u6027\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49\u6269\u5c55"})]}),Object(y.jsx)("div",{className:"property-panel-footer",children:Object(y.jsx)(d.a,{className:"property-panel-footer-hide",type:"primary",icon:Object(y.jsx)(Nn.a,{}),onClick:r,children:"\u6536\u8d77"})})]})}function In(t){return function(){var e=[];return Mn.forEach((function(r,n){e.push(Object(y.jsxs)("div",{className:"approve-node node-".concat(r.type),children:[Object(y.jsx)("div",{className:"node-shape",style:Object(s.a)({},r.style),onMouseDown:function(){return function(e){t.dnd.startDrag({type:e.type,text:e.label})}(r)}}),Object(y.jsx)("div",{className:"node-label",children:r.label})]},n))})),e}()}r(236);var Rn={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,visible:!0,type:"mesh",config:{color:"#DCDCDC"}},keyboard:{enabled:!0},style:{rect:{radius:8,stroke:"#3CB371"},circle:{r:25,stroke:"#FF6347"},polygon:{stroke:"#6495ED"},polyline:{strokeWidth:1},edgeText:{background:{fill:"white"}}}};var Ln={0:"grey",1:"green",2:"red"};var zn=r(246),Bn=r(105),Gn=r(60),Fn={apply:"\u7533\u8bf7",approver:"\u5ba1\u6838",jugement:"\u5224\u65ad",finsh:"\u7ed3\u675f"},Un={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5f20\u4e09"},properties:{usernameZh:"\u5f20\u4e09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6d3b\u52a8\u8d39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674e\u56db"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader",usernameZh:"\u674e\u56db",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901a\u8fc7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:"",status:1,usenameZh:"\u7cfb\u7edf",desc:"\u5224\u65ad\u62a5\u9500\u662f\u5426\u5927\u4e8e1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738b\u4e94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader",usernameZh:"\u738b\u4e94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9a73\u56de",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9a73\u56de"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]};function Xn(t,e){return Object(y.jsx)("div",{className:"hover-panel",style:Object(s.a)({},t),children:function(t){if(t){var r=e.properties;return Object(y.jsxs)(zn.a,{title:Fn[e.type],style:{width:300},children:[Object(y.jsxs)("p",{children:[r.usernameZh,r.username?Object(y.jsxs)("span",{children:["(",r.username,")"]}):""]}),Object(y.jsx)("p",{children:r.time}),r.result?Object(y.jsxs)("p",{children:["\u901a\u8fc7"===r.result?Object(y.jsx)(Bn.a,{style:{color:"green"}}):Object(y.jsx)(Gn.a,{style:{color:"red"}}),Object(y.jsx)("span",{style:{marginLeft:"10px"},children:r.result})]}):"",r.desc?Object(y.jsxs)("p",{children:["\u8bf4\u660e: ",r.desc]}):""]})}}(e)})}r(237);var Hn={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:{rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}}};var Yn={stopScrollGraph:!0,stopZoomGraph:!0},Wn={nodes:[{id:10,type:"bpmn:startEvent",x:76,y:178,properties:{},baseType:"node",text:{x:76,y:213,value:"StartEvent"}},{id:11,type:"bpmn:endEvent",x:567,y:176,properties:{},baseType:"node",text:{x:567,y:211,value:"EndEvent"}},{id:12,type:"bpmn:userTask",x:386,y:59,properties:{},baseType:"node",text:{x:386,y:59,value:"UserTask"}},{id:13,type:"bpmn:serviceTask",x:385,y:286,properties:{},baseType:"node",text:{x:385,y:286,value:"ServiceTask"}},{id:14,type:"bpmn:exclusiveGateway",x:206,y:178,properties:{},baseType:"node"}],edges:[{id:"Flow_2fs3ivm",type:"bpmn:sequenceFlow",sourceNodeId:10,targetNodeId:14,startPoint:{x:94,y:178},endPoint:{x:181,y:178},properties:{},pointsList:[{x:94,y:178},{x:181,y:178}]},{id:"Flow_2mtbh4v",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:12,startPoint:{x:231,y:178},endPoint:{x:336,y:59},properties:{},pointsList:[{x:231,y:178},{x:306,y:178},{x:306,y:59},{x:336,y:59}]},{id:"Flow_1hm4ecl",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:13,startPoint:{x:231,y:178},endPoint:{x:335,y:286},properties:{},pointsList:[{x:231,y:178},{x:305,y:178},{x:305,y:286},{x:335,y:286}]},{id:"Flow_1vo95qa",type:"bpmn:sequenceFlow",sourceNodeId:12,targetNodeId:11,startPoint:{x:436,y:59},endPoint:{x:549,y:176},properties:{},pointsList:[{x:436,y:59},{x:519,y:59},{x:519,y:176},{x:549,y:176}]},{id:"Flow_3o5b4v0",type:"bpmn:sequenceFlow",sourceNodeId:13,targetNodeId:11,startPoint:{x:435,y:286},endPoint:{x:549,y:176},properties:{},pointsList:[{x:435,y:286},{x:519,y:286},{x:519,y:176},{x:549,y:176}]}]};var Vn,Kn=r(253),Zn=(r(238),[{type:"rect",label:"\u77e9\u5f62",className:"adpter-shape adpter-rect"},{type:"circle",label:"\u5706\u5f62",className:"adpter-shape adpter-circle"}]);r(239);var qn,$n={grid:{type:"dot",size:20}},Qn={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},Jn={display:"flex",alignItems:"center"};var to=Object(y.jsxs)(u.c,{children:[Object(y.jsx)(u.a,{path:"/basic/node",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},A),{},{container:document.querySelector("#graph")})).render(k)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/basic/node/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/edge",exact:!0,component:function(){var t=Object(n.useState)("\u6298\u7ebf"),e=Object(N.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(),a=Object(N.a)(i,2),c=a[0],u=a[1];Object(n.useEffect)((function(){f.a.use(ie);var t=new f.a(Object(s.a)(Object(s.a)({},Qe),{},{container:document.querySelector("#graph")}));t.render(Je),u(t)}),[]);var l=function(t,e){c.setDefaultEdgeType(t),o(e)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u4e3a\u77e9\u5f62\u548c\u5706\u5f62\u624b\u52a8\u6dfb\u52a0\u8fde\u7ebf",githubPath:"/basic/edge/index.tsx"}),Object(y.jsxs)("div",{children:["\u5f53\u524d\uff1a",r]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){return l("line","\u76f4\u7ebf")},children:"\u76f4\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return l("polyline","\u6298\u7ebf")},children:"\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return l("curved-edge","\u5706\u89d2\u6298\u7ebf")},children:"\u5706\u89d2\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return l("bezier","\u66f2\u7ebf")},children:"\u66f2\u7ebf"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/dnd",exact:!0,component:_}),Object(y.jsx)(u.a,{path:"/basic/keyboard",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},cr),{},{container:document.querySelector("#graph")})).render(ur)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/keyboard/index.tsx",children:[Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + C"}),Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + V"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/grid",exact:!0,component:P}),Object(y.jsx)(u.a,{path:"/basic/redoundo",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Xt),new f.a(Object(s.a)(Object(s.a)({},sr),{},{container:document.querySelector("#graph")})).render(lr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u8fde\u7ebf\u540e\u70b9\u51fb\u201c\u4e0a\u4e00\u6b65\u201d\u64a4\u9500",githubPath:"/basic/redoundo/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/snapline",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},fr),{},{container:document.querySelector("#graph")})).render(pr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u62d6\u62fd\u5706\u5f62\u4f7f\u4e24\u4e2a\u8282\u70b9\u5bf9\u9f50",githubPath:"/basic/snapline/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/silent-mode",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},dr),{},{container:document.querySelector("#graph")})).render(hr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u9759\u9ed8\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7f16\u8f91",githubPath:"/basic/silent-mode/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/theme",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},yr),{},{container:document.querySelector("#graph")})).render(vr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/theme/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/event",exact:!0,component:function(){var t=Object(n.useState)(""),e=Object(N.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(""),a=Object(N.a)(i,2),c=a[0],u=a[1];return Object(n.useEffect)((function(){var t,e;jn=new f.a(Object(s.a)(Object(s.a)({},_n),{},{container:document.querySelector("#graph")})),e=function(t){var e=t.data,r=t.e;o(r.type),u(e.type)},(t=jn).on("node:mousedown",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),t.on("node:mouseup",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),t.on("node:mousemove",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),t.on("node:contextmenu",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),t.on("edge:click",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),t.on("edge:dbclick",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),t.on("edge:contextmenu",(function(t){var r=t.data,n=t.e;return e({data:r,e:n})})),jn.render(En)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/advance/event/index.tsx",children:["\u62d6\u62fd\u6216\u70b9\u51fb\u5143\u7d20\u67e5\u770b\u89e6\u53d1\u4e8b\u4ef6\uff1a",r?"".concat(r,"-").concat(c):""]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/style",exact:!0,component:function(){return Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},tn),{},{container:document.querySelector("#graph")}));t.register(Jr),t.render(en)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",githubPath:"/advance/custom-node/style/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/anchor",exact:!0,component:function(){return Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},rn),{},{container:document.querySelector("#graph")}));t.register(Jr),t.render(nn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",githubPath:"/advance/custom-node/anchor/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/triangle",exact:!0,component:function(){return Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},cn),{},{container:document.querySelector("#graph")}));t.register(an),t.render(un)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",githubPath:"/advance/custom-node/triangle/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/rule",exact:!0,component:function(){return Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},sn),{},{container:document.querySelector("#graph")}));t.register(Jr),t.render(ln)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",githubPath:"/advance/custom-node/rule/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/shape",exact:!0,component:function(){return Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},fn),{},{container:document.querySelector("#graph")}));t.register(Jr),t.render(pn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",githubPath:"/advance/custom-node/shape/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-edge/process",exact:!0,component:function(){return Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},xn),{},{container:document.querySelector("#graph")})),e=function(){var t=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.properties.isExecuted&&(this.stroke="green")}}]),r}(l.LineEdgeModel);return{type:"process",view:l.LineEdge,model:t}}();t.register(e),t.render(wn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/custom-edge/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/html",exact:!0,component:function(){return Object(n.useEffect)((function(){(vn=new f.a(Object(s.a)(Object(s.a)({},mn),{},{container:document.querySelector("#graph_html")}))).register(hn),vn.register(gn),vn.render(On),vn.on("node:click",(function(t){var e=t.data;vn.setProperties(e.id,{name:"turbo",body:Math.random()})}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u81ea\u5b9a\u4e49HTML\u8282\u70b9",githubPath:"/advance/custom-node/html/index.tsx"}),Object(y.jsx)("div",{id:"graph_html",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/snapshot",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(ft),(br=new f.a(Object(s.a)(Object(s.a)({},mr),{},{container:document.querySelector("#graph")}))).render(Or)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{contentStyle:xr,githubPath:"/extension/snapshot/index.tsx",children:["\u5bfc\u51fa\u56fe\u7247\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(gr.a,{}),onClick:function(){br.getSnapshot()}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/control",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Xt),new f.a(Object(s.a)(Object(s.a)({},wr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/control/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/menu",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(qt);var t=new f.a(Object(s.a)(Object(s.a)({},_r),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));t.register(jr),t.setMenuByType({type:"circle",menu:[{text:"\u5706\u7684\u83dc\u5355",callback:function(){alert("callback")}}]}),t.render(Er),t.on("custom:node:event",(function(t){console.log(t),alert("\u63a5\u6536\u5230\u81ea\u5b9a\u4e49\u8282\u70b9\u83dc\u5355\u89e6\u53d1\u4e8b\u4ef6")}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",githubPath:"/extension/components/menu/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/dnd-panel",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use($t),f.a.use(Qt);var t=new f.a(Object(s.a)(Object(s.a)({},Sr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));t.setPatternItems([{label:"\u9009\u533a",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:function(){t.openSelectionSelect(),t.once("selection:selected",(function(){t.closeSelectionSelect()}))}},{type:"circle",text:"\u5f00\u59cb",label:"\u5f00\u59cb\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"\u7528\u6237\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"\u7cfb\u7edf\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",label:"\u6761\u4ef6\u5224\u65ad",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ed3\u675f",label:"\u7ed3\u675f\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),t.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/dnd-panel/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/selection",exact:!0,component:function(){var t=Object(n.useState)(!0),e=Object(N.a)(t,2),r=e[0],o=e[1];return Object(n.useEffect)((function(){f.a.use(Qt),(Pr=new f.a(Object(s.a)(Object(s.a)({},kr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).render(Nr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5f00\u542f\u591a\u9009\u529f\u80fd",githubPath:"/extension/components/selection/index.tsx",children:Object(y.jsx)(Ar.a,{defaultChecked:!0,onChange:function(){r?Pr.closeSelectionSelect():Pr.openSelectionSelect(),o(!r)}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/mini-map",exact:!0,component:function(){var t=Object(n.useState)(!1),e=Object(N.a)(t,2),r=e[0],o=e[1];return Object(n.useEffect)((function(){f.a.use(te),new f.a(Object(s.a)(Object(s.a)({},Mr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(Dr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u663e\u793a mini-map",githubPath:"/extension/components/mini-map/index.tsx",children:Object(y.jsx)(Ar.a,{onChange:function(){r?(te.hide(),o(!1)):(te.show(),o(!0))}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-menu",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(qt),(Tr=new f.a(Object(s.a)(Object(s.a)({},Cr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).addMenuConfig({nodeMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}},{text:"\u5c5e\u6027",callback:function(t){alert("\n              \u8282\u70b9id\uff1a".concat(t.id,"\n              \u8282\u70b9\u7c7b\u578b\uff1a").concat(t.type,"\n              \u8282\u70b9\u5750\u6807\uff1a(x: ").concat(t.x,", y: ").concat(t.y,")"))}}],edgeMenu:[{text:"\u5c5e\u6027",callback:function(t){console.log(t),alert("\n              \u8fb9id\uff1a".concat(t.id,"\n              \u8fb9\u7c7b\u578b\uff1a").concat(t.type,"\n              \u6e90\u8282\u70b9id\uff1a").concat(t.sourceNodeId,"\n              \u76ee\u6807\u8282\u70b9id\uff1a").concat(t.targetNodeId))}}],graphMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}}]}),Tr.render(Ir)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-dnd",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(zr),new f.a(Object(s.a)(Object(s.a)({},Br),{},{container:document.querySelector("#graph")})).render()}),[]),Object(y.jsx)("div",{id:"graph",className:"viewport"})}}),Object(y.jsx)(u.a,{path:"/extension/bpmn-elements",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(lt);var t=new f.a(Object(s.a)(Object(s.a)({},Yn),{},{container:document.querySelector("#graph")}));window.lf=t,t.render(Wn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/bpmn/Elements.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/adapter",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(St),f.a.use(Xt),f.a.use($t),(Vn=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0})).setPatternItems(Zn),Vn.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/extension/adapter/index.tsx",children:["\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(Kn.a,{}),onClick:function(){var t=Vn.getGraphData();!function(t,e){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}("logic-flow.json",JSON.stringify(t))}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/node-resize",exact:!0,component:function(){Object(n.useEffect)((function(){He.style.outline=Object(s.a)(Object(s.a)({},He.style.outline),{},{stroke:"#1E90FF",strokeDasharray:""}),f.a.use(He),(Gr=new f.a(Object(s.a)(Object(s.a)({},Zr),{},{container:document.querySelector("#graph")}))).setTheme({rect:{strokeWidth:2,outlineColor:"transparent",stroke:"blue"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),Gr.register(Hr),Gr.register(Wr),Gr.register(Kr),Gr.render(qr),Gr.on("node:resize",(function(t){console.log(t);var e=t.newNodeSize,r=e.id,n=e.type;if("bpmn:exclusiveGateway"===n||"bpmn:startEvent"===n){var o={x:e.x,y:e.y+e.ry+10};Gr.setNodeData({id:r,text:o})}}))}),[]);var t=function(t){Gr.dnd.startDrag({type:t})};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:$r,githubPath:"/extension/NodeResize/index.tsx",children:"\u8282\u70b9\u7f29\u653e"}),Object(y.jsxs)("div",{className:"node-resize-list",children:[Object(y.jsx)("div",{children:"\u62d6\u62fd\u6dfb\u52a0\u8282\u70b9"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return t("bpmn:userTask")},children:"\u7528\u6237"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return t("bpmn:startEvent")},children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return t("bpmn:exclusiveGateway")},children:"\u5224\u65ad"}),Object(y.jsx)("div",{className:"node-resize-rect",onMouseDown:function(){return t("rect")}}),Object(y.jsx)("div",{className:"node-resize-ellipse",onMouseDown:function(){return t("ellipse")}}),Object(y.jsx)("div",{className:"node-resize-diamond",onMouseDown:function(){return t("diamond")}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/InserNodeInPolyline",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Gt),f.a.use($t),f.a.use(Qt),(qn=new f.a(Object(s.a)(Object(s.a)({},$n),{},{container:document.querySelector("#graph")}))).setPatternItems([{type:"circle",label:"\u5706\u5f62",className:"circle"},{type:"rect",label:"\u77e9\u5f62",className:"rect"}]),qn.render(Qn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:Jn,children:"\u62d6\u62fd\u8282\u70b9\u5230\u7ebf\u4e2d\u95f4\u8fdb\u884c\u8282\u70b9\u63d2\u5165\uff1a"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/usage/bpmn",exact:!0,component:ar}),Object(y.jsx)(u.a,{path:"/usage/approve",exact:!0,component:function(){var t=Object(n.useState)({}),e=Object(N.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(),a=Object(N.a)(i,2),c=a[0],u=a[1];Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},Rn),{},{container:document.querySelector("#graph")}));o(t),function(t){var e=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getConnectedTargetRules",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getConnectedTargetRules",this).call(this);return t.push({message:"\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u8fde\u51fa\uff0c\u4e0d\u80fd\u8fde\u5165\uff01",validate:function(t,e){var r=!0;return e&&(r=!1),r}}),t}}]),r}(l.CircleNodeModel);t.register({type:"apply",view:l.CircleNode,model:e});var r=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getLabelShape",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getAttributes",this).call(this),e=t.x,n=t.y,o=t.width,i=t.height,a=t.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(l.h)("text",{fill:c,fontSize:12,x:e-o/2+5,y:n-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getAttributes",this).call(this),e=t.x,n=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:e-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),r}(l.RectNode);r.extendKey="UserTaskNode";var n=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;return Object(m.a)(this,r),(o=e.call(this,t,n)).properties={labelColor:"#000000",approveTypeLabel:"",approveType:""},o}return r}(l.RectNodeModel);t.register({type:"approver",view:r,model:n});var o=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;return Object(m.a)(this,r),(o=e.call(this,t,n)).points=[[35,0],[70,35],[35,70],[0,35]],o.properties={api:""},o}return r}(l.PolygonNodeModel);t.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getConnectedSourceRules",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getConnectedSourceRules",this).call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(t){var e=!0;return t&&(e=!1),e}}),t}}]),r}(l.CircleNodeModel);t.register({type:"finsh",view:l.CircleNode,model:i})}(t),t.render(Tn),p(t)}),[]);var p=function(t){t.on("element:click",(function(e){var r=e.data;u(r),console.log(JSON.stringify(t.getGraphData()))})),t.on("connection:not-allowed",(function(t){Sn.b.error(t.msg)}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{className:"node-panel",children:In(r)}),Object(y.jsx)("div",{id:"graph",className:"viewport"}),c?Object(y.jsx)("div",{className:"property-panel",children:Cn(c,(function(t,e){var n=r.graphModel.nodesMap[t],o=r.graphModel.edgesMap[t];n?n.model.setProperties(Object.assign(n.model.properties,e)):o&&o.model.setProperties(Object.assign(o.model.properties,e))}),(function(){u(void 0)}))}):""]})}}),Object(y.jsx)(u.a,{path:"/usage/approve/preview",exact:!0,component:function(){var t=Object(n.useState)(),e=Object(N.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(Boolean),a=Object(N.a)(i,2),c=a[0],u=a[1],p=Object(n.useState)({}),d=Object(N.a)(p,2),h=d[0],v=d[1];Object(n.useEffect)((function(){var t=new f.a(Object(s.a)(Object(s.a)({},Hn),{},{container:document.querySelector("#graph")}));!function(t){var e=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;Object(m.a)(this,r),o=e.call(this,t,n);var i=t.properties;return o.stroke=Ln[i.status],o}return r}(l.CircleNodeModel);t.register({type:"apply",model:e,view:l.CircleNode});var r=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(){return Object(m.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"getLabelShape",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getAttributes",this).call(this),e=t.x,n=t.y,o=t.width,i=t.height,a=t.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(l.h)("text",{fill:c,fontSize:12,x:e-o/2+5,y:n-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var t=Object(Fr.a)(Object(Ur.a)(r.prototype),"getAttributes",this).call(this),e=t.x,n=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:e-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),r}(l.RectNode);r.extendKey="UserTaskNode";var n=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;Object(m.a)(this,r),o=e.call(this,t,n);var i=t.properties;return o.stroke=Ln[i.status],o}return r}(l.RectNodeModel);t.register({type:"approver",view:r,model:n});var o=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;Object(m.a)(this,r),(o=e.call(this,t,n)).points=[[35,0],[70,35],[35,70],[0,35]];var i=t.properties;return o.stroke=Ln[i.status],o.properties={api:""},o}return r}(l.PolygonNodeModel);t.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;Object(m.a)(this,r),o=e.call(this,t,n);var i=t.properties;return o.stroke=Ln[i.status],o}return r}(l.CircleNodeModel);t.register({type:"finsh",view:l.CircleNode,model:i});var a=function(t){Object(x.a)(r,t);var e=Object(w.a)(r);function r(t,n){var o;Object(m.a)(this,r),o=e.call(this,t,n);var i=t.properties;return o.stroke=Ln[i.status],o.hoverStroke=Ln[i.status],o.selectedStroke=Ln[i.status],o}return r}(l.PolylineEdgeModel);t.register({type:"action",view:l.PolylineEdge,model:a})}(t),t.render(Un),b(t)}),[]);var b=function(t){t.on("node:mouseenter",(function(t){var e=t.e,r=t.data;o(r),u(!0),r.id?v({top:e.clientY,left:e.clientX}):v({display:"none"})})),t.on("node:mouseleave",(function(){o(void 0),u(!0)})),t.on("blank:mousemove",(function(t){var e=t.e;v({top:e.clientY,left:e.clientX})}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),c?Xn(h,r):""]})}}),Object(y.jsx)(u.a,{path:"/",component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},b),{},{metaKeyMultipleSelected:!0,container:document.querySelector("#container")})).render(g)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/start/index.tsx"}),Object(y.jsx)("div",{id:"container",className:"viewport"})]})}})]});r(243);var eo=function(){return Object(y.jsx)("div",{className:"App",children:to})},ro=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,254)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;r(t),n(t),o(t),i(t),a(t)}))};a.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(c.a,{children:Object(y.jsx)(eo,{})})}),document.getElementById("root")),ro()},5:function(t,e,r){window,t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=184)}([function(t,e,r){"use strict";(function(t,n){r.d(e,"a",(function(){return Dr})),r.d(e,"b",(function(){return fr})),r.d(e,"c",(function(){return Kt})),r.d(e,"d",(function(){return Nt})),r.d(e,"e",(function(){return kt})),r.d(e,"f",(function(){return Sr})),r.d(e,"g",(function(){return dt})),r.d(e,"h",(function(){return At})),r.d(e,"i",(function(){return se})),r.d(e,"j",(function(){return de})),r.d(e,"k",(function(){return st})),r.d(e,"l",(function(){return me})),r.d(e,"m",(function(){return M})),r.d(e,"n",(function(){return Te})),r.d(e,"o",(function(){return Oe})),r.d(e,"p",(function(){return _e})),r.d(e,"q",(function(){return Er})),r.d(e,"r",(function(){return Pr})),r.d(e,"s",(function(){return fe})),r.d(e,"t",(function(){return Pe})),r.d(e,"u",(function(){return Ae})),r.d(e,"v",(function(){return Ne})),r.d(e,"w",(function(){return sr})),r.d(e,"x",(function(){return dr})),r.d(e,"y",(function(){return _r})),r.d(e,"z",(function(){return Me})),r.d(e,"A",(function(){return nt})),r.d(e,"B",(function(){return Ce})),r.d(e,"C",(function(){return be})),r.d(e,"D",(function(){return ve})),r.d(e,"E",(function(){return le})),r.d(e,"F",(function(){return ie})),r.d(e,"G",(function(){return Le})),r.d(e,"H",(function(){return Be})),r.d(e,"I",(function(){return bt})),r.d(e,"J",(function(){return De})),r.d(e,"K",(function(){return Ge}));var o=[];Object.freeze(o);var i={};Object.freeze(i);var a={};function c(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:a}function u(){return++Gt.mobxGuid}function s(t){throw l(!1,t),"X"}function l(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is an production build."))}function f(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var p=function(){};function d(t){return null!==t&&"object"==typeof t}function h(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function y(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function v(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function b(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(t){return d(t)&&!0===t[r]}}function g(t){return void 0!==c().Map&&t instanceof c().Map}function m(t){return t instanceof Set}function O(t){for(var e=[];;){var r=t.next();if(r.done)break;e.push(r.value)}return e}function x(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function w(t){return null===t?null:"object"==typeof t?""+t:t}function j(t,e){for(var r=t.next();!r.done;)e(r.value),r=t.next()}function _(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function E(t,e){v(t,_(),e)}function S(t){return t[_()]=A,t}function P(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function A(){return this}var k=function(){function t(t){void 0===t&&(t="Atom@"+u()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=it.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return Wt(this)},t.prototype.reportChanged=function(){Ht(),function(t){if(t.lowestObserverState!==it.STALE){t.lowestObserverState=it.STALE;for(var e=t.observers,r=e.length;r--;){var n=e[r];n.dependenciesState===it.UP_TO_DATE&&(n.isTracing!==at.NONE&&Vt(n,t),n.onBecomeStale()),n.dependenciesState=it.STALE}}}(this),Yt()},t.prototype.toString=function(){return this.name},t}(),N=b("Atom",k);function M(t,e,r){void 0===e&&(e=p),void 0===r&&(r=p);var n,o=new k(t);return ge("onBecomeObserved",o,e,n),be(o,r),o}function D(t,e){return t===e}var T={identity:D,structural:function(t,e){return kr(t,e)},default:function(t,e){return function(t,e){return"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(t,e)||D(t,e)},shallow:function(t,e){return kr(t,e,1)}},C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function I(t,e){function r(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var R=function(){return(R=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function L(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function z(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L(arguments[e]));return t}var B={},G={};function F(t,e){var r=e?B:G;return r[t]||(r[t]={configurable:!0,enumerable:e,get:function(){return U(this),this[t]},set:function(e){U(this),this[t]=e}})}function U(t){if(!0!==t.__mobxDidRunLazyInitializers){var e=t.__mobxDecorators;if(e)for(var r in y(t,"__mobxDidRunLazyInitializers",!0),e){var n=e[r];n.propertyCreator(t,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function X(t,e){return function(){var r,n=function(n,o,i,a){if(!0===a)return e(n,o,i,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,"__mobxDecorators")){var c=n.__mobxDecorators;y(n,"__mobxDecorators",R({},c))}return n.__mobxDecorators[o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:n,decoratorArguments:r},F(o,t)};return H(arguments)?(r=o,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function H(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function Y(t,e,r){return Ne(t)?t:Array.isArray(t)?nt.array(t,{name:r}):h(t)?nt.object(t,void 0,{name:r}):g(t)?nt.map(t,{name:r}):m(t)?nt.set(t,{name:r}):t}function W(t){return t}function V(t){l(t);var e=X(!0,(function(e,r,n,o,i){mr(e,r,n?n.initializer?n.initializer.call(e):n.value:void 0,t)})),r=(void 0!==n&&n.env,e);return r.enhancer=t,r}var K={deep:!0,name:void 0,defaultDecorator:void 0},Z={deep:!1,name:void 0,defaultDecorator:void 0};function q(t){return null==t?K:"string"==typeof t?{name:t,deep:!0}:t}function $(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?W:Y}Object.freeze(K),Object.freeze(Z);var Q=V(Y),J=V((function(t,e,r){return null==t||_r(t)||sr(t)||dr(t)||vr(t)?t:Array.isArray(t)?nt.array(t,{name:r,deep:!1}):h(t)?nt.object(t,void 0,{name:r,deep:!1}):g(t)?nt.map(t,{name:r,deep:!1}):m(t)?nt.set(t,{name:r,deep:!1}):s(!1)})),tt=V(W),et=V((function(t,e,r){return kr(t,e)?e:t})),rt={box:function(t,e){arguments.length>2&&ot("box");var r=q(e);return new Tt(t,$(r),r.name,!0,r.equals)},shallowBox:function(t,e){return arguments.length>2&&ot("shallowBox"),nt.box(t,{name:e,deep:!1})},array:function(t,e){arguments.length>2&&ot("array");var r=q(e);return new nr(t,$(r),r.name)},shallowArray:function(t,e){return arguments.length>2&&ot("shallowArray"),nt.array(t,{name:e,deep:!1})},map:function(t,e){arguments.length>2&&ot("map");var r=q(e);return new fr(t,$(r),r.name)},shallowMap:function(t,e){return arguments.length>2&&ot("shallowMap"),nt.map(t,{name:e,deep:!1})},set:function(t,e){arguments.length>2&&ot("set");var r=q(e);return new yr(t,$(r),r.name)},object:function(t,e,r){return"string"==typeof arguments[1]&&ot("object"),Oe({},t,e,q(r))},shallowObject:function(t,e){return"string"==typeof arguments[1]&&ot("shallowObject"),nt.object(t,{},{name:e,deep:!1})},ref:tt,shallow:J,deep:Q,struct:et},nt=function t(e,r,n){if("string"==typeof arguments[1])return Q.apply(null,arguments);if(Ne(e))return e;var o=h(e)?t.object(e,r,n):Array.isArray(e)?t.array(e,r):g(e)?t.map(e,r):m(e)?t.set(e,r):e;if(o!==e)return o;s(!1)};function ot(t){s("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(rt).forEach((function(t){return nt[t]=rt[t]}));var it,at,ct=X(!1,(function(t,e,r,n,o){var i=r.get,a=r.set,c=o[0]||{};!function(t,e,r){var n=gr(t);r.name=n.name+"."+e,r.context=t,n.values[e]=new It(r),Object.defineProperty(t,e,function(t){return xr[t]||(xr[t]={configurable:Gt.computedConfigurable,enumerable:!1,get:function(){return wr(this).read(this,t)},set:function(e){wr(this).write(this,t,e)}})}(e))}(t,e,R({get:i,set:a},c))})),ut=ct({equals:T.structural}),st=function(t,e,r){if("string"==typeof e)return ct.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return ct.apply(null,arguments);var n="object"==typeof e?e:{};return n.get=t,n.set="function"==typeof e?e:n.set,n.name=n.name||t.name||"",new It(n)};st.struct=ut,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(it||(it={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(at||(at={}));var lt=function(t){this.cause=t};function ft(t){return t instanceof lt}function pt(t){switch(t.dependenciesState){case it.UP_TO_DATE:return!1;case it.NOT_TRACKING:case it.STALE:return!0;case it.POSSIBLY_STALE:for(var e=Ot(!0),r=gt(),n=t.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(Rt(a)){if(Gt.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return mt(r),xt(e),!0}if(t.dependenciesState===it.STALE)return mt(r),xt(e),!0}}return wt(t),mt(r),xt(e),!1}}function dt(){return null!==Gt.trackingDerivation}function ht(t){var e=t.observers.length>0;Gt.computationDepth>0&&e&&s(!1),Gt.allowStateChanges||!e&&"strict"!==Gt.enforceActions||s(!1)}function yt(t,e,r){var n=Ot(!0);wt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Gt.runId;var o,i=Gt.trackingDerivation;if(Gt.trackingDerivation=t,!0===Gt.disableErrorBoundaries)o=e.call(r);else try{o=e.call(r)}catch(t){o=new lt(t)}return Gt.trackingDerivation=i,function(t){for(var e=t.observing,r=t.observing=t.newObserving,n=it.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++)0===(c=r[a]).diffValue&&(c.diffValue=1,o!==a&&(r[o]=c),o++),c.dependenciesState>n&&(n=c.dependenciesState);for(r.length=o,t.newObserving=null,i=e.length;i--;)0===(c=e[i]).diffValue&&Ut(c,t),c.diffValue=0;for(;o--;){var c;1===(c=r[o]).diffValue&&(c.diffValue=0,Ft(c,t))}n!==it.UP_TO_DATE&&(t.dependenciesState=n,t.onBecomeStale())}(t),t.observing.length,xt(n),o}function vt(t){var e=t.observing;t.observing=[];for(var r=e.length;r--;)Ut(e[r],t);t.dependenciesState=it.NOT_TRACKING}function bt(t){var e=gt(),r=t();return mt(e),r}function gt(){var t=Gt.trackingDerivation;return Gt.trackingDerivation=null,t}function mt(t){Gt.trackingDerivation=t}function Ot(t){var e=Gt.allowStateReads;return Gt.allowStateReads=t,e}function xt(t){Gt.allowStateReads=t}function wt(t){if(t.dependenciesState!==it.UP_TO_DATE){t.dependenciesState=it.UP_TO_DATE;for(var e=t.observing,r=e.length;r--;)e[r].lowestObserverState=it.UP_TO_DATE}}var jt=0,_t=1,Et=Object.getOwnPropertyDescriptor((function(){}),"name");function St(t,e){var r=function(){return Pt(t,e,this,arguments)};return r.isMobxAction=!0,r}function Pt(t,e,r,n){var o=At(t,r,n);try{return e.apply(r,n)}catch(t){throw o.error=t,t}finally{kt(o)}}function At(t,e,r){var n=te()&&!!t,o=0;if(n){o=Date.now();var i=r&&r.length||0,a=new Array(i);if(i>0)for(var c=0;c<i;c++)a[c]=r[c];re({type:"action",name:t,object:e,arguments:a})}var u=gt();Ht();var s={prevDerivation:u,prevAllowStateChanges:Mt(!0),prevAllowStateReads:Ot(!0),notifySpy:n,startTime:o,actionId:_t++,parentActionId:jt};return jt=s.actionId,s}function kt(t){jt!==t.actionId&&s("invalid action stack. did you forget to finish an action?"),jt=t.parentActionId,void 0!==t.error&&(Gt.suppressReactionErrors=!0),Dt(t.prevAllowStateChanges),xt(t.prevAllowStateReads),Yt(),mt(t.prevDerivation),t.notifySpy&&oe({time:Date.now()-t.startTime}),Gt.suppressReactionErrors=!1}function Nt(t,e){var r,n=Mt(t);try{r=e()}finally{Dt(n)}return r}function Mt(t){var e=Gt.allowStateChanges;return Gt.allowStateChanges=t,e}function Dt(t){Gt.allowStateChanges=t}Et&&Et.configurable;var Tt=function(t){function e(e,r,n,o,i){void 0===n&&(n="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=T.default);var a=t.call(this,n)||this;return a.enhancer=r,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=r(e,void 0,n),o&&te()&&ee({type:"create",name:a.name,newValue:""+a.value}),a}return I(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==Gt.UNCHANGED){var r=te();r&&re({type:"update",name:this.name,newValue:t,oldValue:e}),this.setNewValue(t),r&&oe()}},e.prototype.prepareNewValue=function(t){if(ht(this),Xe(this)){var e=Ye(this,{object:this,type:"update",newValue:t});if(!e)return Gt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Gt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),We(this)&&Ke(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return He(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ve(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return w(this.get())},e}(k);Tt.prototype[x()]=Tt.prototype.valueOf;var Ct=b("ObservableValue",Tt),It=function(){function t(t){this.dependenciesState=it.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=it.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new lt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=at.NONE,l(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+u(),t.set&&(this.setter=St(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?T.structural:T.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState===it.UP_TO_DATE){t.lowestObserverState=it.POSSIBLY_STALE;for(var e=t.observers,r=e.length;r--;){var n=e[r];n.dependenciesState===it.UP_TO_DATE&&(n.dependenciesState=it.POSSIBLY_STALE,n.isTracing!==at.NONE&&Vt(n,t),n.onBecomeStale())}}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Gt.inBatch||0!==this.observers.length||this.keepAlive?(Wt(this),pt(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState!==it.STALE){t.lowestObserverState=it.STALE;for(var e=t.observers,r=e.length;r--;){var n=e[r];n.dependenciesState===it.POSSIBLY_STALE?n.dependenciesState=it.STALE:n.dependenciesState===it.UP_TO_DATE&&(t.lowestObserverState=it.UP_TO_DATE)}}}(this)):pt(this)&&(this.warnAboutUntrackedRead(),Ht(),this.value=this.computeValue(!1),Yt());var t=this.value;if(ft(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ft(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else l(!1,!1)},t.prototype.trackAndCompute=function(){te()&&ee({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===it.NOT_TRACKING,r=this.computeValue(!0),n=e||ft(t)||ft(r)||!this.equals(t,r);return n&&(this.value=r),n},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Gt.computationDepth++,t)e=yt(this,this.derivation,this.scope);else if(!0===Gt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new lt(t)}return Gt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(vt(this),this.value=void 0)},t.prototype.observe=function(t,e){var r=this,n=!0,o=void 0;return de((function(){var i=r.get();if(!n||e){var a=gt();t({type:"update",object:r,newValue:i,oldValue:o}),mt(a)}n=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return w(this.get())},t}();It.prototype[x()]=It.prototype.valueOf;var Rt=b("ComputedValue",It),Lt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},zt=!0,Bt=!1,Gt=function(){var t=c();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(zt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Lt).version&&(zt=!1),zt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Lt):(setTimeout((function(){Bt||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Lt)}();function Ft(t,e){var r=t.observers.length;r&&(t.observersIndexes[e.__mapid]=r),t.observers[r]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ut(t,e){if(1===t.observers.length)t.observers.length=0,Xt(t);else{var r=t.observers,n=t.observersIndexes,o=r.pop();if(o!==e){var i=n[e.__mapid]||0;i?n[o.__mapid]=i:delete n[o.__mapid],r[i]=o}delete n[e.__mapid]}}function Xt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Gt.pendingUnobservations.push(t))}function Ht(){Gt.inBatch++}function Yt(){if(0==--Gt.inBatch){qt();for(var t=Gt.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,0===r.observers.length&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof It&&r.suspend())}Gt.pendingUnobservations=[]}}function Wt(t){var e=Gt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&Gt.inBatch>0&&Xt(t),!1)}function Vt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===at.BREAK){var r=[];!function t(e,r,n){r.length>=1e3?r.push("(and many more)"):(r.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,r,n+1)})))}((n=t,xe(Er(n,o))),r,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof It?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}var n,o}var Kt=function(){function t(t,e,r,n){void 0===t&&(t="Reaction@"+u()),void 0===n&&(n=!1),this.name=t,this.onInvalidate=e,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=it.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=at.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Gt.pendingReactions.push(this),qt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Ht(),this._isScheduled=!1,pt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&te()&&ee({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}Yt()}},t.prototype.track=function(t){Ht();var e,r=te();r&&(e=Date.now(),re({name:this.name,type:"reaction"})),this._isRunning=!0;var n=yt(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&vt(this),ft(n)&&this.reportExceptionInDerivation(n.cause),r&&oe({time:Date.now()-e}),Yt()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Gt.disableErrorBoundaries)throw t;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Gt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,t),te()&&ee({type:"error",name:this.name,message:r,error:""+t}),Gt.globalReactionErrorHandlers.forEach((function(r){return r(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ht(),vt(this),Yt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!1;"boolean"==typeof t[t.length-1]&&(r=t.pop());var n=ze(t);if(!n)return s(!1);n.isTracing===at.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?at.BREAK:at.LOG}(this,t)},t}(),Zt=function(t){return t()};function qt(){Gt.inBatch>0||Gt.isRunningReactions||Zt($t)}function $t(){Gt.isRunningReactions=!0;for(var t=Gt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}Gt.isRunningReactions=!1}var Qt=b("Reaction",Kt);function Jt(t){var e=Zt;Zt=function(r){return t((function(){return e(r)}))}}function te(){return!!Gt.spyListeners.length}function ee(t){if(Gt.spyListeners.length)for(var e=Gt.spyListeners,r=0,n=e.length;r<n;r++)e[r](t)}function re(t){ee(R(R({},t),{spyReportStart:!0}))}var ne={spyReportEnd:!0};function oe(t){ee(t?R(R({},t),{spyReportEnd:!0}):ne)}function ie(t){return Gt.spyListeners.push(t),f((function(){Gt.spyListeners=Gt.spyListeners.filter((function(e){return e!==t}))}))}function ae(){s(!1)}function ce(t){return function(e,r,n){if(n){if(n.value)return{value:St(t,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return St(t,o.call(this))}}}return ue(t).apply(this,arguments)}}function ue(t){return function(e,r,n){Object.defineProperty(e,r,{configurable:!0,enumerable:!1,get:function(){},set:function(e){y(this,r,se(t,e))}})}}var se=function(t,e,r,n){return 1===arguments.length&&"function"==typeof t?St(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?St(t,e):1===arguments.length&&"string"==typeof t?ce(t):!0!==n?ce(e).apply(null,arguments):void(t[e]=St(t.name||e,r.value))};function le(t,e){return Pt("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function fe(t){return"function"==typeof t&&!0===t.isMobxAction}function pe(t,e,r){y(t,e,St(e,r.bind(t)))}function de(t,e){void 0===e&&(e=i);var r,n=e&&e.name||t.name||"Autorun@"+u();if(e.scheduler||e.delay){var o=ye(e),a=!1;r=new Kt(n,(function(){a||(a=!0,o((function(){a=!1,r.isDisposed||r.track(c)})))}),e.onError,e.requiresObservable)}else r=new Kt(n,(function(){this.track(c)}),e.onError,e.requiresObservable);function c(){t(r)}return r.schedule(),r.getDisposer()}se.bound=function(t,e,r,n){return!0===n?(pe(t,e,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return pe(this,e,r.value||r.initializer.call(this)),this[e]},set:ae}:{enumerable:!1,configurable:!0,set:function(t){pe(this,e,t)},get:function(){}}};var he=function(t){return t()};function ye(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:he}function ve(t,e,r){void 0===r&&(r=i),"boolean"==typeof r&&(r={fireImmediately:r});var n,o,a,c=r.name||"Reaction@"+u(),s=se(c,r.onError?(n=r.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){n.call(this,t)}}):e),l=!r.scheduler&&!r.delay,f=ye(r),p=!0,d=!1,h=r.compareStructural?T.structural:r.equals||T.default,y=new Kt(c,(function(){p||l?v():d||(d=!0,f(v))}),r.onError,r.requiresObservable);function v(){if(d=!1,!y.isDisposed){var e=!1;y.track((function(){var r=t(y);e=p||!h(a,r),a=r})),p&&r.fireImmediately&&s(a,y),p||!0!==e||s(a,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function be(t,e,r){return ge("onBecomeUnobserved",t,e,r)}function ge(t,e,r,n){var o="function"==typeof n?Er(e,r):Er(e),i="function"==typeof n?n:r,a=o[t];return"function"!=typeof a?s(!1):(o[t]=function(){a.call(this),i.call(this)},function(){o[t]=a})}function me(t){var e=t.enforceActions,r=t.computedRequiresReaction,n=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.arrayBuffer,a=t.reactionScheduler,u=t.reactionRequiresObservable,l=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Gt.pendingReactions.length||Gt.inBatch||Gt.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Bt=!0,zt&&(0==--c().__mobxInstanceCount&&(c().__mobxGlobals=void 0),Gt=new Lt)),void 0!==e){var f=void 0;switch(e){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:s("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Gt.enforceActions=f,Gt.allowStateChanges=!0!==f&&"strict"!==f}void 0!==r&&(Gt.computedRequiresReaction=!!r),void 0!==u&&(Gt.reactionRequiresObservable=!!u),void 0!==l&&(Gt.observableRequiresReaction=!!l,Gt.allowStateReads=!Gt.observableRequiresReaction),void 0!==n&&(Gt.computedConfigurable=!!n),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Gt.disableErrorBoundaries=!!o),"number"==typeof i&&cr(i),a&&Jt(a)}function Oe(t,e,r,n){var o=(n=q(n)).defaultDecorator||(!1===n.deep?tt:Q);U(t),gr(t,n.name,o.enhancer),Ht();try{for(var i=Object.getOwnPropertyNames(e),a=0,c=i.length;a<c;a++){var u=i[a],s=Object.getOwnPropertyDescriptor(e,u),l=(r&&u in r?r[u]:s.get?ct:o)(t,u,s,!0);l&&Object.defineProperty(t,u,l)}}finally{Yt()}return t}function xe(t){var e,r,n={name:t.name};return t.observing&&t.observing.length>0&&(n.dependencies=(e=t.observing,r=[],e.forEach((function(t){-1===r.indexOf(t)&&r.push(t)})),r).map(xe)),n}var we=0;function je(){this.message="FLOW_CANCELLED"}function _e(t){1!==arguments.length&&s("Flow expects one 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var r,n=this,o=arguments,i=++we,a=se(e+" - runid: "+i+" - init",t).apply(n,o),c=void 0,u=new Promise((function(t,n){var o=0;function u(t){var r;c=void 0;try{r=se(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(t){return n(t)}l(r)}function s(t){var r;c=void 0;try{r=se(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(t){return n(t)}l(r)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(c=Promise.resolve(e.value)).then(u,s);e.then(l,n)}r=n,u(void 0)}));return u.cancel=se(e+" - runid: "+i+" - cancel",(function(){try{c&&Ee(c);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(p,p),Ee(e),r(new je)}catch(t){r(t)}})),u}}function Ee(t){"function"==typeof t.cancel&&t.cancel()}function Se(t,e){if(null==t)return!1;if(void 0!==e){if(!1===_r(t))return!1;if(!t.$mobx.values[e])return!1;var r=Er(t,e);return Rt(r)}return Rt(t)}function Pe(t){return arguments.length>1?s(!1):Se(t)}function Ae(t,e){return"string"!=typeof e?s(!1):Se(t,e)}function ke(t,e){if(null==t)return!1;if(void 0!==e){if(_r(t)){var r=t.$mobx;return r.values&&!!r.values[e]}return!1}return _r(t)||!!t.$mobx||N(t)||Qt(t)||Rt(t)}function Ne(t){return 1!==arguments.length&&s(!1),ke(t)}function Me(t){return _r(t)?t.$mobx.getKeys():dr(t)||vr(t)?O(t.keys()):sr(t)?t.map((function(t,e){return e})):s(!1)}function De(t){return _r(t)?Me(t).map((function(e){return t[e]})):dr(t)?Me(t).map((function(e){return t.get(e)})):vr(t)?O(t.values()):sr(t)?t.slice():s(!1)}function Te(t){return _r(t)?Me(t).map((function(e){return[e,t[e]]})):dr(t)?Me(t).map((function(e){return[e,t.get(e)]})):vr(t)?O(t.entries()):sr(t)?t.map((function(t,e){return[e,t]})):s(!1)}function Ce(t,e,r,n){return"function"==typeof r?function(t,e,r,n){return Sr(t,e).observe(r,n)}(t,e,r,n):function(t,e,r){return Sr(t).observe(e,r)}(t,e,r)}je.prototype=Object.create(Error.prototype);var Ie={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Re(t,e,r,n){return n.detectCycles&&t.set(e,r),r}function Le(t,e){var r;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Ie),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(r=new Map),function t(e,r,n){if(!r.recurseEverything&&!Ne(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Ct(e))return t(e.get(),r,n);if(Ne(e)&&Me(e),!0===r.detectCycles&&null!==e&&n.has(e))return n.get(e);if(sr(e)||Array.isArray(e)){var o=Re(n,e,[],r),i=e.map((function(e){return t(e,r,n)}));o.length=i.length;for(var a=0,c=i.length;a<c;a++)o[a]=i[a];return o}if(vr(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===r.exportMapsAsObjects){var u=Re(n,e,new Set,r);return e.forEach((function(e){u.add(t(e,r,n))})),u}var s=Re(n,e,[],r);return e.forEach((function(e){s.push(t(e,r,n))})),s}if(dr(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===r.exportMapsAsObjects){var l=Re(n,e,new Map,r);return e.forEach((function(e,o){l.set(o,t(e,r,n))})),l}var f=Re(n,e,{},r);return e.forEach((function(e,o){f[o]=t(e,r,n)})),f}var p=Re(n,e,{},r);for(var d in e)p[d]=t(e[d],r,n);return p}(t,e,r)}function ze(t){switch(t.length){case 0:return Gt.trackingDerivation;case 1:return Er(t[0]);case 2:return Er(t[0],t[1])}}function Be(t,e){void 0===e&&(e=void 0),Ht();try{return t.apply(e)}finally{Yt()}}function Ge(t,e,r){return 1===arguments.length||e&&"object"==typeof e?Ue(t,e):Fe(t,e,r||{})}function Fe(t,e,r){var n;"number"==typeof r.timeout&&(n=setTimeout((function(){if(!i.$mobx.isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!r.onError)throw t;r.onError(t)}}),r.timeout)),r.name=r.name||"When@"+u();var o=St(r.name+"-effect",e),i=de((function(e){t()&&(e.dispose(),n&&clearTimeout(n),o())}),r);return i}function Ue(t,e){var r,n=new Promise((function(n,o){var i=Fe(t,n,R(R({},e),{onError:o}));r=function(){i(),o("WHEN_CANCELLED")}}));return n.cancel=r,n}function Xe(t){return void 0!==t.interceptors&&t.interceptors.length>0}function He(t,e){var r=t.interceptors||(t.interceptors=[]);return r.push(e),f((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function Ye(t,e){var r=gt();try{var n=t.interceptors;if(n)for(var o=0,i=n.length;o<i&&(l(!(e=n[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{mt(r)}}function We(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Ve(t,e){var r=t.changeListeners||(t.changeListeners=[]);return r.push(e),f((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function Ke(t,e){var r=gt(),n=t.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](e);mt(r)}}var Ze,qe,$e,Qe,Je=(Ze=!1,qe={},Object.defineProperty(qe,"0",{set:function(){Ze=!0}}),Object.create(qe)[0]=1,!1===Ze),tr=0,er=function(){};$e=er,Qe=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf($e.prototype,Qe):void 0!==$e.prototype.__proto__?$e.prototype.__proto__=Qe:$e.prototype=Qe,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(t){Object.defineProperty(er.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})}));var rr=function(){function t(t,e,r,n){this.array=r,this.owned=n,this.values=[],this.lastKnownLength=0,this.atom=new k(t||"ObservableArray@"+u()),this.enhancer=function(r,n){return e(r,n,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return He(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ve(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var r=new Array(t-e),n=0;n<t-e;n++)r[n]=void 0;this.spliceWithArray(e,0,r)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>tr&&cr(t+e+1)},t.prototype.spliceWithArray=function(t,e,r){var n=this;ht(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===r&&(r=o),Xe(this)){var a=Ye(this,{object:this.array,type:"splice",index:t,removedCount:e,added:r});if(!a)return o;e=a.removedCount,r=a.added}var c=(r=0===r.length?r:r.map((function(t){return n.enhancer(t,void 0)}))).length-e;this.updateArrayLength(i,c);var u=this.spliceItemsIntoValues(t,e,r);return 0===e&&0===r.length||this.notifyArraySplice(t,r,u),this.dehanceValues(u)},t.prototype.spliceItemsIntoValues=function(t,e,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,z([t,e],r));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(r,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,r){var n=!this.owned&&te(),o=We(this),i=o||n?{object:this.array,type:"update",index:t,newValue:e,oldValue:r}:null;n&&re(R(R({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Ke(this,i),n&&oe()},t.prototype.notifyArraySplice=function(t,e,r){var n=!this.owned&&te(),o=We(this),i=o||n?{object:this.array,type:"splice",index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;n&&re(R(R({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Ke(this,i),n&&oe()},t}(),nr=function(t){function e(e,r,n,o){void 0===n&&(n="ObservableArray@"+u()),void 0===o&&(o=!1);var i=t.call(this)||this,a=new rr(n,r,i,o);if(v(i,"$mobx",a),e&&e.length){var c=Mt(!0);i.spliceWithArray(0,0,e),Dt(c)}return Je&&Object.defineProperty(a.array,"0",or),i}return I(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map((function(t){return sr(t)?t.peek():t})))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,e,r){void 0===r&&(r=0);var n=this.findIndex.apply(this,arguments);return-1===n?void 0:this.get(n)},e.prototype.findIndex=function(t,e,r){void 0===r&&(r=0);for(var n=this.peek(),o=n.length,i=r;i<o;i++)if(t.call(e,n[i],i,this))return i;return-1},e.prototype.splice=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,r)},e.prototype.spliceWithArray=function(t,e,r){return this.$mobx.spliceWithArray(t,e,r)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,t),r.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.$mobx;return r.spliceWithArray(0,0,t),r.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function r(t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var e=this.$mobx.values.length;if(t>=e)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+e)}if(r.call(this,t),r.call(this,e),t!==e){var n,o=this.$mobx.values;n=t<e?z(o.slice(0,t),o.slice(t+1,e+1),[o[t]],o.slice(e+1)):z(o.slice(0,e),[o[t]],o.slice(e,t),o.slice(t+1)),this.replace(n)}},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,e){var r=this.$mobx,n=r.values;if(t<n.length){ht(r.atom);var o=n[t];if(Xe(r)){var i=Ye(r,{type:"update",object:this,index:t,newValue:e});if(!i)return;e=i.newValue}(e=r.enhancer(e,o))!==o&&(n[t]=e,r.notifyArrayChildUpdate(t,e,o))}else{if(t!==n.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+n.length);r.spliceWithArray(t,0,[e])}},e}(er);E(nr.prototype,(function(){this.$mobx.atom.reportObserved();var t=this,e=0;return S({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(nr.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),y(nr.prototype,P(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){var e=Array.prototype[t];l("function"==typeof e,"Base function not defined on Array prototype: '"+t+"'"),y(nr.prototype,t,(function(){return e.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(t){l("function"==typeof Array.prototype[t],"Base function not defined on Array prototype: '"+t+"'"),y(nr.prototype,t,(function(e,r){var n=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(r,t,o,n)}),r)}))})),["reduce","reduceRight"].forEach((function(t){y(nr.prototype,t,(function(){var e=this,r=this.$mobx;r.atom.reportObserved();var n=arguments[0];return arguments[0]=function(t,o,i){return o=r.dehanceValue(o),n(t,o,i,e)},r.values[t].apply(r.values,arguments)}))})),function(t,e){for(var r=0;r<e.length;r++)y(t,e[r],t[e[r]])}(nr.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var or=ir(0);function ir(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function ar(t){Object.defineProperty(nr.prototype,""+t,ir(t))}function cr(t){for(var e=tr;e<t;e++)ar(e);tr=t}cr(1e3);var ur=b("ObservableArrayAdministration",rr);function sr(t){return d(t)&&ur(t.$mobx)}var lr={},fr=function(){function t(t,e,r){if(void 0===e&&(e=Y),void 0===r&&(r="ObservableMap@"+u()),this.enhancer=e,this.name=r,this.$mobx=lr,this._keysAtom=M(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Gt.trackingDerivation)return this._has(t);var r=this._hasMap.get(t);if(!r){var n=r=new Tt(this._has(t),W,this.name+"."+pr(t)+"?",!1);this._hasMap.set(t,n),be(n,(function(){return e._hasMap.delete(t)}))}return r.get()},t.prototype.set=function(t,e){var r=this._has(t);if(Xe(this)){var n=Ye(this,{type:r?"update":"add",object:this,newValue:e,name:t});if(!n)return this;e=n.newValue}return r?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(ht(this._keysAtom),Xe(this)&&!(o=Ye(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var r=te(),n=We(this),o=n||r?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return r&&re(R(R({},o),{name:this.name,key:t})),Be((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&Ke(this,o),r&&oe(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var r=this._hasMap.get(t);r&&r.setNewValue(e)},t.prototype._updateValue=function(t,e){var r=this._data.get(t);if((e=r.prepareNewValue(e))!==Gt.UNCHANGED){var n=te(),o=We(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:t,newValue:e}:null;n&&re(R(R({},i),{name:this.name,key:t})),r.setNewValue(e),o&&Ke(this,i),n&&oe()}},t.prototype._addValue=function(t,e){var r=this;ht(this._keysAtom),Be((function(){var n=new Tt(e,r.enhancer,r.name+"."+pr(t),!1);r._data.set(t,n),e=n.value,r._updateHasMapEntry(t,!0),r._keysAtom.reportChanged()}));var n=te(),o=We(this),i=o||n?{type:"add",object:this,name:t,newValue:e}:null;n&&re(R(R({},i),{name:this.name,key:t})),o&&Ke(this,i),n&&oe()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return S({next:function(){var r=e.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return S({next:function(){var r=e.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,t.get(o)]}}})},t.prototype.forEach=function(t,e){var r=this;this._keysAtom.reportObserved(),this._data.forEach((function(n,o){return t.call(e,r.get(o),o,r)}))},t.prototype.merge=function(t){var e=this;return dr(t)&&(t=t.toJS()),Be((function(){var r=Mt(!0);try{h(t)?Object.keys(t).forEach((function(r){return e.set(r,t[r])})):Array.isArray(t)?t.forEach((function(t){var r=L(t,2),n=r[0],o=r[1];return e.set(n,o)})):g(t)?t.constructor!==Map?s("Cannot initialize from classes that inherit from Map: "+t.constructor.name):t.forEach((function(t,r){return e.set(r,t)})):null!=t&&s("Cannot initialize map from "+t)}finally{Dt(r)}})),this},t.prototype.clear=function(){var t=this;Be((function(){bt((function(){t._data.forEach((function(e,r){return t.delete(r)}))}))}))},t.prototype.replace=function(t){var e=this;return Be((function(){var r=function(t){if(g(t)||dr(t))return t;if(Array.isArray(t))return new Map(t);if(h(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}return s("Cannot convert to map from '"+t+"'")}(t),n=new Map,o=!1;if(j(e._data.keys(),(function(t){if(!r.has(t))if(e.delete(t))o=!0;else{var i=e._data.get(t);n.set(t,i)}})),j(r.entries(),(function(t){var r=L(t,2),i=r[0],a=r[1],c=e._data.has(i);if(e.set(i,a),e._data.has(i)){var u=e._data.get(i);n.set(i,u),c||(o=!0)}})),!o)if(e._data.size!==n.size)e._keysAtom.reportChanged();else for(var i=e._data.keys(),a=n.keys(),c=i.next(),u=a.next();!c.done;){if(c.value!==u.value){e._keysAtom.reportChanged();break}c=i.next(),u=a.next()}e._data=n})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t=this,e={};return this.forEach((function(r,n){return e["symbol"==typeof n?n:pr(n)]=t.get(n)})),e},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+O(this.keys()).map((function(e){return pr(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return Ve(this,t)},t.prototype.intercept=function(t){return He(this,t)},t}();function pr(t){return t&&t.toString?t.toString():new String(t).toString()}E(fr.prototype,(function(){return this.entries()})),v(fr.prototype,P(),"Map");var dr=b("ObservableMap",fr),hr={},yr=function(){function t(t,e,r){if(void 0===e&&(e=Y),void 0===r&&(r="ObservableSet@"+u()),this.name=r,this.$mobx=hr,this._data=new Set,this._atom=M(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,n){return e(t,n,r)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Be((function(){bt((function(){t._data.forEach((function(e){t.delete(e)}))}))}))},t.prototype.forEach=function(t,e){var r=this;this._atom.reportObserved(),this._data.forEach((function(n){t.call(e,n,n,r)}))},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(ht(this._atom),Xe(this)&&!(o=Ye(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Be((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var r=te(),n=We(this),o=n||r?{type:"add",object:this,newValue:t}:null;n&&Ke(this,o)}return this},t.prototype.delete=function(t){var e=this;if(Xe(this)&&!(o=Ye(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var r=te(),n=We(this),o=n||r?{type:"delete",object:this,oldValue:t}:null;return Be((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&Ke(this,o),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=O(this.keys()),r=O(this.values());return S({next:function(){var n=t;return t+=1,n<r.length?{value:[e[n],r[n]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t,e=this,r=0;return void 0!==this._data.values?t=O(this._data.values()):(t=[],this._data.forEach((function(e){return t.push(e)}))),S({next:function(){return r<t.length?{value:e.dehanceValue(t[r++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return vr(t)&&(t=t.toJS()),Be((function(){var r=Mt(!0);try{Array.isArray(t)||m(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&s("Cannot initialize set from "+t)}finally{Dt(r)}})),this},t.prototype.observe=function(t,e){return Ve(this,t)},t.prototype.intercept=function(t){return He(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+O(this.keys()).join(", ")+" ]"},t}();E(yr.prototype,(function(){return this.values()})),v(yr.prototype,P(),"Set");var vr=b("ObservableSet",yr),br=function(){function t(t,e,r){this.target=t,this.name=e,this.defaultEnhancer=r,this.values={}}return t.prototype.read=function(t,e){if(this.target===t||(this.illegalAccess(t,e),this.values[e]))return this.values[e].get()},t.prototype.write=function(t,e,r){var n=this.target;n!==t&&this.illegalAccess(t,e);var o=this.values[e];if(o instanceof It)o.set(r);else{if(Xe(this)){if(!(c=Ye(this,{type:"update",object:n,name:e,newValue:r})))return;r=c.newValue}if((r=o.prepareNewValue(r))!==Gt.UNCHANGED){var i=We(this),a=te(),c=i||a?{type:"update",object:n,oldValue:o.value,name:e,newValue:r}:null;a&&re(R(R({},c),{name:this.name,key:e})),o.setNewValue(r),i&&Ke(this,c),a&&oe()}}},t.prototype.remove=function(t){if(this.values[t]){var e=this.target;if(Xe(this)&&!(i=Ye(this,{object:e,name:t,type:"remove"})))return;try{Ht();var r=We(this),n=te(),o=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var i=r||n?{type:"remove",object:e,oldValue:o,name:t}:null;n&&re(R(R({},i),{name:this.name,key:t})),r&&Ke(this,i),n&&oe()}finally{Yt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return Ve(this,t)},t.prototype.intercept=function(t){return He(this,t)},t.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new nr(Object.keys(this.values).filter((function(e){return t.values[e]instanceof Tt})),W,"keys("+this.name+")",!0)),this.keys.slice()},t}();function gr(t,e,r){void 0===e&&(e=""),void 0===r&&(r=Y);var n=t.$mobx;return n||(h(t)||(e=(t.constructor.name||"ObservableObject")+"@"+u()),e||(e="ObservableObject@"+u()),v(t,"$mobx",n=new br(t,e,r)),n)}function mr(t,e,r,n){var o=gr(t);if(Xe(o)){var i=Ye(o,{object:t,name:e,type:"add",newValue:r});if(!i)return;r=i.newValue}r=(o.values[e]=new Tt(r,n,o.name+"."+e,!1)).value,Object.defineProperty(t,e,function(t){return Or[t]||(Or[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(e){this.$mobx.write(this,t,e)}})}(e)),o.keys&&o.keys.push(e),function(t,e,r,n){var o=We(t),i=te(),a=o||i?{type:"add",object:e,name:r,newValue:n}:null;i&&re(R(R({},a),{name:t.name,key:r})),o&&Ke(t,a),i&&oe()}(o,t,e,r)}var Or=Object.create(null),xr=Object.create(null);function wr(t){return t.$mobx||(U(t),t.$mobx)}var jr=b("ObservableObjectAdministration",br);function _r(t){return!!d(t)&&(U(t),jr(t.$mobx))}function Er(t,e){if("object"==typeof t&&null!==t){if(sr(t))return void 0!==e&&s(!1),t.$mobx.atom;if(vr(t))return t.$mobx;if(dr(t)){var r=t;return void 0===e?r._keysAtom:((n=r._data.get(e)||r._hasMap.get(e))||s(!1),n)}var n;if(U(t),e&&!t.$mobx&&t[e],_r(t))return e?((n=t.$mobx.values[e])||s(!1),n):s(!1);if(N(t)||Rt(t)||Qt(t))return t}else if("function"==typeof t&&Qt(t.$mobx))return t.$mobx;return s(!1)}function Sr(t,e){return t||s("Expecting some object"),void 0!==e?Sr(Er(t,e)):N(t)||Rt(t)||Qt(t)||dr(t)||vr(t)?t:(U(t),t.$mobx?t.$mobx:void s(!1))}function Pr(t,e){return(void 0!==e?Er(t,e):_r(t)||dr(t)||vr(t)?Sr(t):Er(t)).name}var Ar=Object.prototype.toString;function kr(t,e,r){return void 0===r&&(r=-1),function t(e,r,n,o,i){if(e===r)return 0!==e||1/e==1/r;if(null==e||null==r)return!1;if(e!=e)return r!=r;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;e=Nr(e),r=Nr(r);var c=Ar.call(e);if(c!==Ar.call(r))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":return+e!=+e?+r!=+r:0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(r)}var u="[object Array]"===c;if(!u){if("object"!=typeof e||"object"!=typeof r)return!1;var s=e.constructor,l=r.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in r)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===e)return i[f]===r;if(o.push(e),i.push(r),u){if((f=e.length)!==r.length)return!1;for(;f--;)if(!t(e[f],r[f],n-1,o,i))return!1}else{var p=Object.keys(e),d=void 0;if(f=p.length,Object.keys(r).length!==f)return!1;for(;f--;)if(!Mr(r,d=p[f])||!t(e[d],r[d],n-1,o,i))return!1}return o.pop(),i.pop(),!0}(t,e,r)}function Nr(t){return sr(t)?t.peek():g(t)||dr(t)||m(t)||vr(t)?O(t.entries()):t}function Mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Dr="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ie,extras:{getDebugName:Pr},$mobx:Dr})}).call(this,r(86),r(104))},function(t,e,r){"use strict";var n=r(35),o=r(66),i=r(56),a=r(51),c=r(91),u=a.set,s=a.getterFor("Array Iterator");t.exports=c(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,r){"use strict";var n=r(15),o=r(23),i=r(45),a=r(68),c=r(28),u=r(89),s=r(16),l=r(27),f=r(80),p=r(24),d=r(53),h=r(25),y=r(30),v=r(35),b=r(72),g=r(33),m=r(57),O=r(46),x=r(54),w=r(58),j=r(117),_=r(92),E=r(47),S=r(29),P=r(75),A=r(40),k=r(43),N=r(67),M=r(74),D=r(55),T=r(69),C=r(21),I=r(128),R=r(129),L=r(77),z=r(51),B=r(60).forEach,G=M("hidden"),F=C("toPrimitive"),U=z.set,X=z.getterFor("Symbol"),H=Object.prototype,Y=o.Symbol,W=i("JSON","stringify"),V=E.f,K=S.f,Z=j.f,q=P.f,$=N("symbols"),Q=N("op-symbols"),J=N("string-to-symbol-registry"),tt=N("symbol-to-string-registry"),et=N("wks"),rt=o.QObject,nt=!rt||!rt.prototype||!rt.prototype.findChild,ot=c&&s((function(){return 7!=O(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=V(H,e);n&&delete H[e],K(t,e,r),n&&t!==H&&K(H,e,n)}:K,it=function(t,e){var r=$[t]=O(Y.prototype);return U(r,{type:"Symbol",tag:t,description:e}),c||(r.description=e),r},at=function t(e,r,n){e===H&&t(Q,r,n),h(e);var o=b(r);return h(n),l($,o)?(n.enumerable?(l(e,G)&&e[G][o]&&(e[G][o]=!1),n=O(n,{enumerable:m(0,!1)})):(l(e,G)||K(e,G,m(1,{})),e[G][o]=!0),ot(e,o,n)):K(e,o,n)},ct=function(t,e){h(t);var r=v(e),n=x(r).concat(ft(r));return B(n,(function(e){c&&!ut.call(r,e)||at(t,e,r[e])})),t},ut=function(t){var e=b(t),r=q.call(this,e);return!(this===H&&l($,e)&&!l(Q,e))&&(!(r||!l(this,e)||!l($,e)||l(this,G)&&this[G][e])||r)},st=function(t,e){var r=v(t),n=b(e);if(r!==H||!l($,n)||l(Q,n)){var o=V(r,n);return!o||!l($,n)||l(r,G)&&r[G][n]||(o.enumerable=!0),o}},lt=function(t){var e=Z(v(t)),r=[];return B(e,(function(t){l($,t)||l(D,t)||r.push(t)})),r},ft=function(t){var e=t===H,r=Z(e?Q:v(t)),n=[];return B(r,(function(t){!l($,t)||e&&!l(H,t)||n.push($[t])})),n};u||(k((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=T(t),r=function t(r){this===H&&t.call(Q,r),l(this,G)&&l(this[G],e)&&(this[G][e]=!1),ot(this,e,m(1,r))};return c&&nt&&ot(H,e,{configurable:!0,set:r}),it(e,t)}).prototype,"toString",(function(){return X(this).tag})),k(Y,"withoutSetter",(function(t){return it(T(t),t)})),P.f=ut,S.f=at,E.f=st,w.f=j.f=lt,_.f=ft,I.f=function(t){return it(C(t),t)},c&&(K(Y.prototype,"description",{configurable:!0,get:function(){return X(this).description}}),a||k(H,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),B(x(et),(function(t){R(t)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=g(t);if(l(J,e))return J[e];var r=Y(e);return J[e]=r,tt[r]=e,r},keyFor:function(t){if(!d(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?O(t):ct(O(t),e)},defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:st}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ft}),n({target:"Object",stat:!0,forced:s((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(y(t))}}),W&&n({target:"JSON",stat:!0,forced:!u||s((function(){var t=Y();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,r){for(var n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e,(p(e)||void 0!==t)&&!d(t))return f(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!d(e))return e}),o[1]=e,W.apply(null,o)}}),Y.prototype[F]||A(Y.prototype,F,Y.prototype.valueOf),L(Y,"Symbol"),D[G]=!0},function(t,e,r){var n=r(96),o=r(43),i=r(153);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,r){var n=r(23),o=r(127),i=r(1),a=r(40),c=r(21),u=c("iterator"),s=c("toStringTag"),l=i.values;for(var f in o){var p=n[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(t){d[u]=l}if(d[s]||a(d,s,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(t){d[h]=i[h]}}}},function(t,e,r){"use strict";var n=r(126).charAt,o=r(33),i=r(51),a=r(91),c=i.set,u=i.getterFor("String Iterator");a(String,"String",(function(t){c(this,{type:"String Iterator",string:o(t),index:0})}),(function(){var t,e=u(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){"use strict";var n=r(15),o=r(28),i=r(23),a=r(27),c=r(24),u=r(29).f,s=r(112),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function t(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof t?new l(e):void 0===e?l():l(e);return""===e&&(f[r]=!0),r};s(p,l);var d=p.prototype=l.prototype;d.constructor=p;var h=d.toString,y="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=h.call(t);if(a(f,t))return"";var r=y?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(t,e,r){r(129)("iterator")},function(t,e,r){var n=r(23),o=r(127),i=r(154),a=r(40);for(var c in o){var u=n[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(t){s.forEach=i}}},function(t,e,r){r(15)({target:"Object",stat:!0},{setPrototypeOf:r(94)})},function(t,e,r){var n=r(15),o=r(16),i=r(30),a=r(76),c=r(115);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,r){var n=r(15),o=r(45),i=r(59),a=r(25),c=r(24),u=r(46),s=r(172),l=r(16),f=o("Reflect","construct"),p=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),d=!l((function(){f((function(){}))})),h=p||d;n({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){i(t),a(e);var r=arguments.length<3?t:i(arguments[2]);if(d&&!p)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(s.apply(t,n))}var o=r.prototype,l=u(c(o)?o:Object.prototype),h=Function.apply.call(t,l,e);return c(h)?h:l}})},function(t,e,r){var n=r(15),o=r(30),i=r(54);n({target:"Object",stat:!0,forced:r(16)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,r){var n=r(15),o=r(16),i=r(35),a=r(47).f,c=r(28),u=o((function(){a(1)}));n({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,r){"use strict";var n=r(15),o=r(24),i=r(80),a=r(73),c=r(32),u=r(35),s=r(62),l=r(21),f=r(61)("slice"),p=l("species"),d=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var r,n,l,f=u(this),y=c(f.length),v=a(t,y),b=a(void 0===e?y:e,y);if(i(f)&&("function"!=typeof(r=f.constructor)||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[p])&&(r=void 0):r=void 0,r===Array||void 0===r))return d.call(f,v,b);for(n=new(void 0===r?Array:r)(h(b-v,0)),l=0;v<b;v++,l++)v in f&&s(n,l,f[v]);return n.length=l,n}})},function(t,e,r){var n=r(23),o=r(47).f,i=r(40),a=r(43),c=r(88),u=r(112),s=r(93);t.exports=function(t,e){var r,l,f,p,d,h=t.target,y=t.global,v=t.stat;if(r=y?n:v?n[h]||c(h,{}):(n[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(r,l))&&d.value:r[l],!s(y?l:h+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(28),o=r(29).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;n&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},function(t,e,r){var n=r(15),o=r(157);n({target:"Array",stat:!0,forced:!r(124)((function(t){Array.from(t)}))},{from:o})},function(t,e,r){"use strict";var n=r(15),o=r(60).filter;n({target:"Array",proto:!0,forced:!r(61)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(15),o=r(28),i=r(113),a=r(35),c=r(47),u=r(62);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),o=c.f,s=i(n),l={},f=0;s.length>f;)void 0!==(r=o(n,e=s[f++]))&&u(l,e,r);return l}})},function(t,e,r){var n=r(23),o=r(67),i=r(27),a=r(69),c=r(89),u=r(105),s=o("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return i(s,t)&&(c||"string"==typeof s[t])||(c&&i(l,t)?s[t]=l[t]:s[t]=f("Symbol."+t)),s[t]}},function(t,e,r){"use strict";var n=r(85),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();e.a=i},function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,r(86))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){var n=r(24);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},,function(t,e,r){var n=r(30),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(n(t),e)}},function(t,e,r){var n=r(16);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,r){var n=r(28),o=r(106),i=r(25),a=r(72),c=Object.defineProperty;e.f=n?c:function(t,e,r){if(i(t),e=a(e),i(r),o)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(38);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";var n=r(15),o=r(16),i=r(80),a=r(24),c=r(30),u=r(32),s=r(62),l=r(97),f=r(61),p=r(21),d=r(70),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=f("concat"),b=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)};n({target:"Array",proto:!0,forced:!y||!v},{concat:function(t){var e,r,n,o,i,a=c(this),f=l(a,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(b(i=-1===e?a:arguments[e])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&s(f,p,i[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,i)}return f.length=p,f}})},function(t,e,r){var n=r(50),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(53);t.exports=function(t){if(n(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},function(t,e,r){var n=r(15),o=r(173);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,r){var n=r(65),o=r(38);t.exports=function(t){return n(o(t))}},function(t,e,r){"use strict";var n=r(15),o=r(60).map;n({target:"Array",proto:!0,forced:!r(61)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(15),o=r(24),i=r(25),a=r(177),c=r(47),u=r(76);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,s,l=arguments.length<3?e:arguments[2];return i(e)===l?e[r]:(n=c.f(e,r))?a(n)?n.value:void 0===n.get?void 0:n.get.call(l):o(s=u(e))?t(s,r,l):void 0}})},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,r){var n=r(15),o=r(181),i=r(66);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,r){var n=r(28),o=r(29),i=r(57);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){"use strict";var n=r(15),o=r(82);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,r,n){"use strict";(function(t){var o=n(85),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(t){}}();r.a=u}).call(this,n(99)(t))},function(t,e,r){var n=r(23),o=r(40),i=r(27),a=r(88),c=r(111),u=r(51),s=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,r,c){var u,s=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof r&&("string"!=typeof e||i(r,"name")||o(r,"name",e),(u=l(r)).source||(u.source=f.join("string"==typeof e?e:""))),t!==n?(s?!d&&t[e]&&(p=!0):delete t[e],p?t[e]=r:o(t,e,r)):p?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(t,e,r){var n=r(15),o=r(180).entries;n({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,r){var n=r(23),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},function(t,e,r){var n,o=r(25),i=r(142),a=r(90),c=r(55),u=r(144),s=r(107),l=r(74)("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},h=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;h="undefined"!=typeof document?document.domain&&n?d(n):((e=s("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):d(n);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};c[l]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=o(t),r=new f,f.prototype=null,r[l]=t):r=h(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(28),o=r(75),i=r(57),a=r(35),c=r(72),u=r(27),s=r(106),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=c(e),s)try{return l(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},function(t,r,n){"use strict";(function(t){var o=n(22),i=n(138),a=e&&!e.nodeType&&e,c=a&&"object"==typeof t&&t&&!t.nodeType&&t,u=c&&c.exports===a?o.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;r.a=s}).call(this,n(99)(t))},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n,o,i,a=r(145),c=r(23),u=r(24),s=r(40),l=r(27),f=r(87),p=r(74),d=r(55),h=c.WeakMap;if(a||f.state){var y=f.state||(f.state=new h),v=y.get,b=y.has,g=y.set;n=function(t,e){if(b.call(y,t))throw new TypeError("Object already initialized");return e.facade=t,g.call(y,t,e),e},o=function(t){return v.call(y,t)||{}},i=function(t){return b.call(y,t)}}else{var m=p("state");d[m]=!0,n=function(t,e){if(l(t,m))throw new TypeError("Object already initialized");return e.facade=t,s(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},i=function(t){return l(t,m)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){"use strict";var n=r(100),o=r(132),i=r(25),a=r(38),c=r(170),u=r(101),s=r(32),l=r(33),f=r(102),p=r(82),d=r(133),h=r(16),y=d.UNSUPPORTED_Y,v=[].push,b=Math.min;n("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=l(a(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===t)return[n];if(!o(t))return e.call(n,t,i);for(var c,u,s,f=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,y=new RegExp(t.source,d+"g");(c=p.call(y,n))&&!((u=y.lastIndex)>h&&(f.push(n.slice(h,c.index)),c.length>1&&c.index<n.length&&v.apply(f,c.slice(1)),s=c[0].length,h=u,f.length>=i));)y.lastIndex===c.index&&y.lastIndex++;return h===n.length?!s&&y.test("")||f.push(""):f.push(n.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,r):n.call(l(o),e,r)},function(t,o){var a=i(this),p=l(t),d=r(n,a,p,o,n!==e);if(d.done)return d.value;var h=c(a,RegExp),v=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(y?"g":"y"),m=new h(y?"^(?:"+a.source+")":a,g),O=void 0===o?4294967295:o>>>0;if(0===O)return[];if(0===p.length)return null===f(m,p)?[p]:[];for(var x=0,w=0,j=[];w<p.length;){m.lastIndex=y?0:w;var _,E=f(m,y?p.slice(w):p);if(null===E||(_=b(s(m.lastIndex+(y?w:0)),p.length))===x)w=u(p,w,v);else{if(j.push(p.slice(x,w)),j.length===O)return j;for(var S=1;S<=E.length-1;S++)if(j.push(E[S]),j.length===O)return j;w=x=_}}return j.push(p.slice(x)),j}]}),!!h((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),y)},function(t,e,r){var n=r(45),o=r(105);t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return"function"==typeof e&&Object(t)instanceof e}},function(t,e,r){var n=r(109),o=r(90);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(109),o=r(90).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,r){var n=r(79),o=r(65),i=r(30),a=r(32),c=r(97),u=[].push,s=function(t){var e=1==t,r=2==t,s=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,b){for(var g,m,O=i(h),x=o(O),w=n(y,v,3),j=a(x.length),_=0,E=b||c,S=e?E(h,j):r||p?E(h,0):void 0;j>_;_++)if((d||_ in x)&&(m=w(g=x[_],_,O),t))if(e)S[_]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:u.call(S,g)}else switch(t){case 4:return!1;case 7:u.call(S,g)}return f?-1:s||l?l:S}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},function(t,e,r){var n=r(16),o=r(21),i=r(70),a=o("species");t.exports=function(t){return i>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,r){"use strict";var n=r(72),o=r(29),i=r(57);t.exports=function(t,e,r){var a=n(e);a in t?o.f(t,a,i(0,r)):t[a]=r}},function(t,e,r){"use strict";var n=r(28),o=r(23),i=r(93),a=r(43),c=r(27),u=r(49),s=r(125),l=r(53),f=r(108),p=r(16),d=r(46),h=r(58).f,y=r(47).f,v=r(29).f,b=r(134).trim,g=o.Number,m=g.prototype,O="Number"==u(d(m)),x=function(t){if(l(t))throw TypeError("Cannot convert a Symbol value to a number");var e,r,n,o,i,a,c,u,s=f(t,"number");if("string"==typeof s&&s.length>2)if(43===(e=(s=b(s)).charCodeAt(0))||45===e){if(88===(r=s.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,n)}return+s};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,j=function t(e){var r=arguments.length<1?0:e,n=this;return n instanceof t&&(O?p((function(){m.valueOf.call(n)})):"Number"!=u(n))?s(new g(x(r)),n,t):x(r)},_=n?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;_.length>E;E++)c(g,w=_[E])&&!c(j,w)&&v(j,w,y(g,w));j.prototype=m,m.constructor=j,a(o,"Number",j)}},function(t,e,r){r(15)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,r){var n=r(16),o=r(49),i="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,r){var n=r(21),o=r(46),i=r(29),a=n("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),t.exports=function(t){c[a][t]=!0}},function(t,e,r){var n=r(68),o=r(87);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.2",mode:n?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e,r){var n,o,i=r(23),a=r(71),c=i.process,u=i.Deno,s=c&&c.versions||u&&u.version,l=s&&s.v8;l?o=(n=l.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},function(t,e,r){var n=r(45);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(108),o=r(53);t.exports=function(t){var e=n(t,"string");return o(e)?e:String(e)}},function(t,e,r){var n=r(50),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},function(t,e,r){var n=r(67),o=r(69),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(27),o=r(30),i=r(74),a=r(115),c=i("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),n(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,r){var n=r(29).f,o=r(27),i=r(21)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},function(t,e,r){"use strict";var n=r(148),o=r(150);t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,r){var n=r(59);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(49);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){"use strict";var n=r(15),o=r(73),i=r(50),a=r(32),c=r(30),u=r(97),s=r(62),l=r(61)("splice"),f=Math.max,p=Math.min;n({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var r,n,l,d,h,y,v=c(this),b=a(v.length),g=o(t,b),m=arguments.length;if(0===m?r=n=0:1===m?(r=0,n=b-g):(r=m-2,n=p(f(i(e),0),b-g)),b+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(v,n),d=0;d<n;d++)(h=g+d)in v&&s(l,d,v[h]);if(l.length=n,r<n){for(d=g;d<b-n;d++)y=d+r,(h=d+n)in v?v[y]=v[h]:delete v[y];for(d=b;d>b-n+r;d--)delete v[d-1]}else if(r>n)for(d=b-n;d>g;d--)y=d+r-1,(h=d+n-1)in v?v[y]=v[h]:delete v[y];for(d=0;d<r;d++)v[d+g]=arguments[d+2];return v.length=b-n+r,l}})},function(t,e,r){"use strict";var n,o,i=r(33),a=r(167),c=r(133),u=r(67),s=r(46),l=r(51).get,f=r(168),p=r(169),d=RegExp.prototype.exec,h=u("native-string-replace",String.prototype.replace),y=d,v=(n=/a/,o=/b*/g,d.call(n,"a"),d.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),b=c.UNSUPPORTED_Y||c.BROKEN_CARET,g=void 0!==/()??/.exec("")[1];(v||g||b||f||p)&&(y=function(t){var e,r,n,o,c,u,f,p=this,m=l(p),O=i(t),x=m.raw;if(x)return x.lastIndex=p.lastIndex,e=y.call(x,O),p.lastIndex=x.lastIndex,e;var w=m.groups,j=b&&p.sticky,_=a.call(p),E=p.source,S=0,P=O;if(j&&(-1===(_=_.replace("y","")).indexOf("g")&&(_+="g"),P=O.slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==O.charAt(p.lastIndex-1))&&(E="(?: "+E+")",P=" "+P,S++),r=new RegExp("^(?:"+E+")",_)),g&&(r=new RegExp("^"+E+"$(?!\\s)",_)),v&&(n=p.lastIndex),o=d.call(j?r:p,P),j?o?(o.input=o.input.slice(S),o[0]=o[0].slice(S),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:v&&o&&(p.lastIndex=p.global?o.index+o[0].length:n),g&&o&&o.length>1&&h.call(o[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&w)for(o.groups=u=s(null),c=0;c<w.length;c++)u[(f=w[c])[0]]=o[f[1]];return o}),t.exports=y},function(t,e,r){"use strict";var n=r(15),o=r(174);n({target:"String",proto:!0,forced:r(175)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,r){"use strict";var n=r(15),o=r(65),i=r(35),a=r(98),c=[].join,u=o!=Object,s=a("join",",");n({target:"Array",proto:!0,forced:u||!s},{join:function(t){return c.call(i(this),void 0===t?",":t)}})},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(86))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(23),o=r(88),i=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,r){var n=r(23);t.exports=function(t,e){try{Object.defineProperty(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(70),o=r(16);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){"use strict";var n=r(15),o=r(146),i=r(76),a=r(94),c=r(77),u=r(40),s=r(43),l=r(21),f=r(68),p=r(56),d=r(114),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b=function(){return this};t.exports=function(t,e,r,l,d,g,m){o(r,e,l);var O,x,w,j=function(t){if(t===d&&A)return A;if(!y&&t in S)return S[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},_=e+" Iterator",E=!1,S=t.prototype,P=S[v]||S["@@iterator"]||d&&S[d],A=!y&&P||j(d),k="Array"==e&&S.entries||P;if(k&&(O=i(k.call(new t)),h!==Object.prototype&&O.next&&(f||i(O)===h||(a?a(O,h):"function"!=typeof O[v]&&u(O,v,b)),c(O,_,!0,!0),f&&(p[_]=b))),"values"==d&&P&&"values"!==P.name&&(E=!0,A=function(){return P.call(this)}),f&&!m||S[v]===A||u(S,v,A),p[e]=A,d)if(x={values:j("values"),keys:g?A:j("keys"),entries:j("entries")},m)for(w in x)(y||E||!(w in S))&&s(S,w,x[w]);else n({target:e,proto:!0,forced:y||E},x);return x}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(16),o=/#|\.prototype\./,i=function(t,e){var r=c[a(t)];return r==s||r!=u&&("function"==typeof e?n(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,r){var n=r(25),o=r(147);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return n(r),o(i),e?t.call(r,i):r.__proto__=i,r}}():void 0)},function(t,e,r){var n=r(121),o=r(56),i=r(21)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){var n={};n[r(21)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(155);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},function(t,e,r){"use strict";var n=r(16);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";r(41);var n=r(43),o=r(82),i=r(16),a=r(21),c=r(40),u=a("species"),s=RegExp.prototype;t.exports=function(t,e,r,l){var f=a(t),p=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!p||!d||r){var h=/./[f],y=e(f,""[t],(function(t,e,r,n,i){var a=e.exec;return a===o||a===s.exec?p&&!i?{done:!0,value:h.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}));n(String.prototype,t,y[0]),n(s,f,y[1])}l&&c(s[f],"sham",!0)}},function(t,e,r){"use strict";var n=r(126).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){var n=r(49),o=r(82);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var i=r.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,r){r(15)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=c(p);l=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new h(t,e)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){var n=r(89);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(28),o=r(16),i=r(107);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(23),o=r(24),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,r){var n=r(24),o=r(53),i=r(143),a=r(21)("toPrimitive");t.exports=function(t,e){if(!n(t)||o(t))return t;var r,c=t[a];if(void 0!==c){if(void 0===e&&(e="default"),r=c.call(t,e),!n(r)||o(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),i(t,e)}},function(t,e,r){var n=r(27),o=r(35),i=r(110).indexOf,a=r(55);t.exports=function(t,e){var r,c=o(t),u=0,s=[];for(r in c)!n(a,r)&&n(c,r)&&s.push(r);for(;e.length>u;)n(c,r=e[u++])&&(~i(s,r)||s.push(r));return s}},function(t,e,r){var n=r(35),o=r(32),i=r(73),a=function(t){return function(e,r,a){var c,u=n(e),s=o(u.length),l=i(a,s);if(t&&r!=r){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,r){var n=r(87),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},function(t,e,r){var n=r(27),o=r(113),i=r(47),a=r(29);t.exports=function(t,e){for(var r=o(e),c=a.f,u=i.f,s=0;s<r.length;s++){var l=r[s];n(t,l)||c(t,l,u(e,l))}}},function(t,e,r){var n=r(45),o=r(58),i=r(92),a=r(25);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),r=i.f;return r?e.concat(r(t)):e}},function(t,e,r){"use strict";var n,o,i,a=r(16),c=r(76),u=r(40),s=r(27),l=r(21),f=r(68),p=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(n=o):d=!0);var h=null==n||a((function(){var t={};return n[p].call(t)!==t}));h&&(n={}),f&&!h||s(n,p)||u(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},function(t,e,r){var n=r(16);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(15),o=r(55),i=r(24),a=r(27),c=r(29).f,u=r(58),s=r(117),l=r(69),f=r(149),p=!1,d=l("meta"),h=0,y=Object.isExtensible||function(){return!0},v=function(t){c(t,d,{value:{objectID:"O"+h++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},p=!0;var t=u.f,e=[].splice,r={};r[d]=1,t(r).length&&(u.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===d){e.call(n,o,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,d)){if(!y(t))return"F";if(!e)return"E";v(t)}return t[d].objectID},getWeakData:function(t,e){if(!a(t,d)){if(!y(t))return!0;if(!e)return!1;v(t)}return t[d].weakData},onFreeze:function(t){return f&&p&&y(t)&&!a(t,d)&&v(t),t}};o[d]=!0},function(t,e,r){var n=r(35),o=r(58).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(n(t))}},function(t,e,r){var n=r(25),o=r(119),i=r(32),a=r(79),c=r(120),u=r(95),s=r(122),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var f,p,d,h,y,v,b,g=r&&r.that,m=!(!r||!r.AS_ENTRIES),O=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),w=a(e,g,1+m+x),j=function(t){return f&&s(f,"normal",t),new l(!0,t)},_=function(t){return m?(n(t),x?w(t[0],t[1],j):w(t[0],t[1])):x?w(t,j):w(t)};if(O)f=t;else{if("function"!=typeof(p=u(t)))throw TypeError("Target is not iterable");if(o(p)){for(d=0,h=i(t.length);h>d;d++)if((y=_(t[d]))&&y instanceof l)return y;return new l(!1)}f=c(t,p)}for(v=f.next;!(b=v.call(f)).done;){try{y=_(b.value)}catch(t){s(f,"throw",t)}if("object"==typeof y&&y&&y instanceof l)return y}return new l(!1)}},function(t,e,r){var n=r(21),o=r(56),i=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,r){var n=r(25),o=r(95);t.exports=function(t,e){var r=arguments.length<2?o(t):e;if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return n(r.call(t))}},function(t,e,r){var n=r(96),o=r(49),i=r(21)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:a?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,r){var n=r(25);t.exports=function(t,e,r){var o,i;n(t);try{if(void 0===(o=t.return)){if("throw"===e)throw r;return r}o=o.call(t)}catch(t){i=!0,o=t}if("throw"===e)throw r;if(i)throw o;return n(o),r}},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){var n=r(21)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},function(t,e,r){var n=r(24),o=r(94);t.exports=function(t,e,r){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(t,a),t}},function(t,e,r){var n=r(50),o=r(33),i=r(38),a=function(t){return function(e,r){var a,c,u=o(i(e)),s=n(r),l=u.length;return s<0||s>=l?t?"":void 0:(a=u.charCodeAt(s))<55296||a>56319||s+1===l||(c=u.charCodeAt(s+1))<56320||c>57343?t?u.charAt(s):a:t?u.slice(s,s+2):c-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){var n=r(21);e.f=n},function(t,e,r){var n=r(156),o=r(27),i=r(128),a=r(29).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,r){"use strict";var n=r(15),o=r(110).includes,i=r(66);n({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,r){"use strict";var n=r(15),o=r(165),i=r(38),a=r(33);n({target:"String",proto:!0,forced:!r(166)("includes")},{includes:function(t){return!!~a(i(this)).indexOf(a(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(24),o=r(49),i=r(21)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,r){var n=r(16),o=r(23).RegExp;e.UNSUPPORTED_Y=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,r){var n=r(38),o=r(33),i="["+r(135)+"]",a=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(t){return function(e){var r=o(n(e));return 1&t&&(r=r.replace(a,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,e,r){"use strict";var n=r(100),o=r(25),i=r(32),a=r(33),c=r(38),u=r(101),s=r(102);n("match",(function(t,e,r){return[function(e){var r=c(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](a(r))},function(t){var n=o(this),c=a(t),l=r(e,n,c);if(l.done)return l.value;if(!n.global)return s(n,c);var f=n.unicode;n.lastIndex=0;for(var p,d=[],h=0;null!==(p=s(n,c));){var y=a(p[0]);d[h]=y,""===y&&(n.lastIndex=u(c,i(n.lastIndex),f)),h++}return 0===h?null:d}]}))},function(t,e,r){"use strict";var n=r(100),o=r(16),i=r(25),a=r(50),c=r(32),u=r(33),s=r(38),l=r(101),f=r(171),p=r(102),d=r(21)("replace"),h=Math.max,y=Math.min,v="$0"==="a".replace(/./,"$0"),b=!!/./[d]&&""===/./[d]("a","$0");n("replace",(function(t,e,r){var n=b?"$":"$0";return[function(t,r){var n=s(this),o=null==t?void 0:t[d];return void 0!==o?o.call(t,n,r):e.call(u(n),t,r)},function(t,o){var s=i(this),d=u(t);if("string"==typeof o&&-1===o.indexOf(n)&&-1===o.indexOf("$<")){var v=r(e,s,d,o);if(v.done)return v.value}var b="function"==typeof o;b||(o=u(o));var g=s.global;if(g){var m=s.unicode;s.lastIndex=0}for(var O=[];;){var x=p(s,d);if(null===x)break;if(O.push(x),!g)break;""===u(x[0])&&(s.lastIndex=l(d,c(s.lastIndex),m))}for(var w,j="",_=0,E=0;E<O.length;E++){x=O[E];for(var S=u(x[0]),P=h(y(a(x.index),d.length),0),A=[],k=1;k<x.length;k++)A.push(void 0===(w=x[k])?w:String(w));var N=x.groups;if(b){var M=[S].concat(A,P,d);void 0!==N&&M.push(N);var D=u(o.apply(void 0,M))}else D=f(S,d,P,A,N,o);P>=_&&(j+=d.slice(_,P)+D,_=P+S.length)}return j+d.slice(_)}]}),!!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!v||b)},function(t,e,r){"use strict";e.a=function(){return!1}},function(t,r,n){"use strict";(function(t){var o=n(22),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===i?o.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;r.a=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}).call(this,n(99)(t))},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return v}));var n=r(0);function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}var a=function t(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(t(Object.getPrototypeOf(e))||[])},c=function(t){return function(t){var e=a(t);return e.filter((function(t,r){return e.indexOf(t)===r}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))};function u(t){switch(this.state){case"pending":return t.pending&&t.pending(this.value);case"rejected":return t.rejected&&t.rejected(this.value);case"fulfilled":return t.fulfilled?t.fulfilled(this.value):this.value}}function s(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var r=t;t.then(Object(n.i)("observableFromPromise-resolve",(function(t){r.value=t,r.state="fulfilled"})),Object(n.i)("observableFromPromise-reject",(function(t){r.value=t,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=u;var o=e&&"fulfilled"===e.state?e.value:void 0;return Object(n.o)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(t){t.reject=Object(n.i)("fromPromise.reject",(function(e){var r=t(Promise.reject(e));return r.state="rejected",r.value=e,r})),t.resolve=Object(n.i)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var r=t(Promise.resolve(e));return r.state="fulfilled",r.value=e,r}))}(s||(s={}));var l=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};!function(){function t(t,e){var r=this;Object(n.E)((function(){r.current=e,r.subscription=t.subscribe(r)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},l([n.A.ref],t.prototype,"current",void 0),l([n.i.bound],t.prototype,"next",null),l([n.i.bound],t.prototype,"complete",null),l([n.i.bound],t.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function h(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function y(t){return Object(n.y)(t)||Object(n.w)(t)||Object(n.x)(t)}function v(t,e){var r=new WeakMap;function o(n){var o=r.get(n.object);!function(t,e){switch(t.type){case"add":i(t.newValue,e,t.name);break;case"update":a(t.oldValue),i(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":a(t.oldValue);break;case"splice":t.removed.map(a),t.added.forEach((function(r,n){return i(r,e,""+(t.index+n))}));for(var n=t.index+t.addedCount;n<t.object.length;n++)if(y(t.object[n])){var o=r.get(t.object[n]);o&&(o.path=""+n)}}}(n,o),e(n,h(o),t)}function i(t,e,a){if(y(t)){var c=r.get(t);if(c){if(c.parent!==e||c.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+h(e)+"/"+a+"', but it already exists at '"+h(c.parent)+"/"+c.path+"'")}else{var u={parent:e,path:a,dispose:Object(n.B)(t,o)};r.set(t,u),Object(n.n)(t).forEach((function(t){var e=t[0];return i(t[1],u,e)}))}}}function a(t){if(y(t)){var e=r.get(t);if(!e)return;r.delete(t),e.dispose(),Object(n.J)(t).forEach(a)}}return i(t,void 0,""),function(){a(t)}}!function(){function t(t){var e=this;this.model=t,this.localValues=n.A.map({}),this.localComputedValues=n.A.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(n.y)(t),"createViewModel expects an observable object"),c(t).forEach((function(r){if(r!==n.a&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===d.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.u)(t,r)){var o=Object(n.f)(t,r).derivation;e.localComputedValues.set(r,Object(n.k)(o.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,r),c=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,r,f(f({},c),{configurable:!0,get:function(){return Object(n.u)(t,r)?e.localComputedValues.get(r).get():e.isPropertyDirty(r)?e.localValues.get(r):e.model[r]},set:Object(n.i)((function(t){t!==e.model[r]?e.localValues.set(r,t):e.localValues.delete(r)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(n.z)(this.localValues).forEach((function(e){var r=t.localValues.get(e),o=t.model[e];Object(n.w)(o)?o.replace(r):Object(n.x)(o)?(o.clear(),o.merge(r)):Object(n.t)(r)||(t.model[e]=r)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},p([n.k],t.prototype,"isDirty",null),p([n.k],t.prototype,"changedValues",null),p([n.i.bound],t.prototype,"submit",null),p([n.i.bound],t.prototype,"reset",null),p([n.i.bound],t.prototype,"resetProperty",null)}();var b,g=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=(function(t){function e(e,r,o){var i=void 0===o?{}:o,a=i.name,c=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,s=void 0===u?function(t){return""+t}:u,l=t.call(this)||this;l._keyToName=s,l._groupBy=r,l._ogmInfoKey=Symbol("ogmInfo"+c),l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=Object(n.B)(l._base,(function(t){if("splice"===t.type)Object(n.H)((function(){for(var e=0,r=t.removed;e<r.length;e++){var n=r[e];l._removeItem(n)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(n.H)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}g(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var r=t.prototype.get.call(this,e);return void 0===r&&(r=Object(n.A)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,r)),r},e.prototype._removeFromGroupArr=function(e,r){var n=t.prototype.get.call(this,e);1===n.length?t.prototype.delete.call(this,e):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},e.prototype._addItem=function(t){var e=this,r=this._groupBy(t),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.D)((function(){return e._groupBy(t)}),(function(r,n){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(r),a=i.length;i.push(t),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(n.b),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=t,n=0;n<this.args.length-1&&(r=r.get(e[n]));n++)this.closest=r;this.closestIdx=n}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,r=this.closest,n=this.closestIdx;n<e-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=e-1,this.closest=r,r.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,r=[e],n=0;n<t-1;n++)e=e.get(this.args[n]),r.push(e);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());!function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,t)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==t&&t.nextTick}).call(this,r(104))},function(t,e,r){var n;!function(o,i,a){if(o){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();g.prototype.bind=function(t,e,r){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,r),this},g.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},g.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function t(e,r){return null!==e&&e!==i&&(e===r||t(e.parentNode,r))}(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(e=r)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},g.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},g.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(u[e]=t[e]);c=null},g.init=function(){var t=g(i);for(var e in t)"_"!==e.charAt(0)&&(g[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},g.init(),o.Mousetrap=g,t.exports&&(t.exports=g),void 0===(n=function(){return g}.call(e,r,e,t))||(t.exports=n)}function d(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return u[t.which]?u[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function y(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,r){return r||(r=function(){if(!c)for(var t in c={},u)t>95&&t<112||u.hasOwnProperty(t)&&(c[u[t]]=t);return c}()[t]?"keydown":"keypress"),"keypress"==r&&e.length&&(r="keydown"),r}function b(t,e){var r,n,o,i=[];for(r=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<r.length;++o)n=r[o],f[n]&&(n=f[n]),e&&"keypress"!=e&&l[n]&&(n=l[n],i.push("shift")),y(n)&&i.push(n);return{key:n,modifiers:i,action:e=v(n,i,e)}}function g(t){var e=this;if(t=t||i,!(e instanceof g))return new g(t);e.target=t,e._callbacks={},e._directMap={};var r,n={},o=!1,a=!1,c=!1;function u(t){t=t||{};var e,r=!1;for(e in n)t[e]?r=!0:n[e]=0;r||(c=!1)}function s(t,r,o,i,a,c){var u,s,l,f,p=[],d=o.type;if(!e._callbacks[t])return[];for("keyup"==d&&y(t)&&(r=[t]),u=0;u<e._callbacks[t].length;++u)if(s=e._callbacks[t][u],(i||!s.seq||n[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=r,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,v=i&&s.seq==i&&s.level==c;(h||v)&&e._callbacks[t].splice(u,1),p.push(s)}return p}function l(t,r,n,o){e.stopCallback(r,r.target||r.srcElement,n,o)||!1===t(r,n)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(r),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(r))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var r=h(t);r&&("keyup"!=t.type||o!==r?e.handleKey(r,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):o=!1)}function p(t,e,i,a){function s(e){return function(){c=e,++n[t],clearTimeout(r),r=setTimeout(u,1e3)}}function f(e){l(i,e,t),"keyup"!==a&&(o=h(e)),setTimeout(u,10)}n[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?f:s(a||b(e[p+1]).action);v(e[p],d,a,t,p)}}function v(t,r,n,o,i){e._directMap[t+":"+n]=r;var a,c=(t=t.replace(/\s+/g," ")).split(" ");c.length>1?p(t,c,r,n):(a=b(t,n),e._callbacks[a.key]=e._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:r,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,r){var n,o=s(t,e,r),i={},f=0,p=!1;for(n=0;n<o.length;++n)o[n].seq&&(f=Math.max(f,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=f)continue;p=!0,i[o[n].seq]=1,l(o[n].callback,r,o[n].combo,o[n].seq)}else p||l(o[n].callback,r,o[n].combo);var d="keypress"==r.type&&a;r.type!=c||y(t)||d||u(i),a=p&&"keydown"==r.type},e._bindMultiple=function(t,e,r){for(var n=0;n<t.length;++n)v(t[n],e,r)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,r){var n=r(28),o=r(29),i=r(25),a=r(54);t.exports=n?Object.defineProperties:function(t,e){i(t);for(var r,n=a(e),c=n.length,u=0;c>u;)o.f(t,r=n[u++],e[r]);return t}},function(t,e,r){var n=r(24);t.exports=function(t,e){var r,o;if("string"===e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if("string"!==e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(45);t.exports=n("document","documentElement")},function(t,e,r){var n=r(23),o=r(111),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,r){"use strict";var n=r(114).IteratorPrototype,o=r(46),i=r(57),a=r(77),c=r(56),u=function(){return this};t.exports=function(t,e,r){var s=e+" Iterator";return t.prototype=o(n,{next:i(1,r)}),a(t,s,!1,!0),c[s]=u,t}},function(t,e,r){var n=r(24);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,r){"use strict";var n=r(15),o=r(23),i=r(93),a=r(43),c=r(116),u=r(118),s=r(123),l=r(24),f=r(16),p=r(124),d=r(77),h=r(125);t.exports=function(t,e,r){var y=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),b=y?"set":"add",g=o[t],m=g&&g.prototype,O=g,x={},w=function(t){var e=m[t];a(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(i(t,"function"!=typeof g||!(v||m.forEach&&!f((function(){(new g).entries().next()})))))O=r.getConstructor(e,t,y,b),c.enable();else if(i(t,!0)){var j=new O,_=j[b](v?{}:-0,1)!=j,E=f((function(){j.has(1)})),S=p((function(t){new g(t)})),P=!v&&f((function(){for(var t=new g,e=5;e--;)t[b](e,e);return!t.has(-0)}));S||((O=e((function(e,r){s(e,O,t);var n=h(new g,e,O);return null!=r&&u(r,n[b],{that:n,AS_ENTRIES:y}),n}))).prototype=m,m.constructor=O),(E||P)&&(w("delete"),w("has"),y&&w("get")),(P||_)&&w(b),v&&m.clear&&delete m.clear}return x[t]=O,n({global:!0,forced:O!=g},x),d(O,t),v||r.setStrong(O,t,y),O}},function(t,e,r){var n=r(16);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,r){"use strict";var n=r(29).f,o=r(46),i=r(151),a=r(79),c=r(123),u=r(118),s=r(91),l=r(152),f=r(28),p=r(116).fastKey,d=r(51),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,r,s){var l=t((function(t,n){c(t,l,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=n&&u(n,t[s],{that:t,AS_ENTRIES:r})})),d=y(e),v=function(t,e,r){var n,o,i=d(t),a=b(t,e);return a?a.value=r:(i.last=a={index:o=p(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var r,n=d(t),o=p(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return i(l.prototype,{clear:function(){for(var t=d(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=d(this),r=b(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),f?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=d(this),n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(l.prototype,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),f&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,r){var n=e+" Iterator",o=y(e),i=y(n);s(t,e,(function(t,e){h(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(e)}}},function(t,e,r){var n=r(43);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},function(t,e,r){"use strict";var n=r(45),o=r(29),i=r(21),a=r(28),c=i("species");t.exports=function(t){var e=n(t),r=o.f;a&&e&&!e[c]&&r(e,c,{configurable:!0,get:function(){return this}})}},function(t,e,r){"use strict";var n=r(96),o=r(121);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,r){"use strict";var n=r(60).forEach,o=r(98)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,r){var n=r(24),o=r(80),i=r(21)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)?n(e)&&null===(e=e[i])&&(e=void 0):e=void 0),void 0===e?Array:e}},function(t,e,r){var n=r(23);t.exports=n},function(t,e,r){"use strict";var n=r(79),o=r(30),i=r(158),a=r(119),c=r(32),u=r(62),s=r(120),l=r(95);t.exports=function(t){var e,r,f,p,d,h,y=o(t),v="function"==typeof this?this:Array,b=arguments.length,g=b>1?arguments[1]:void 0,m=void 0!==g,O=l(y),x=0;if(m&&(g=n(g,b>2?arguments[2]:void 0,2)),null==O||v==Array&&a(O))for(r=new v(e=c(y.length));e>x;x++)h=m?g(y[x],x):y[x],u(r,x,h);else for(d=(p=s(y,O)).next,r=new v;!(f=d.call(p)).done;x++)h=m?i(p,g,[f.value,x],!0):f.value,u(r,x,h);return r.length=x,r}},function(t,e,r){var n=r(25),o=r(122);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){o(t,"throw",e)}}},function(t,e,r){"use strict";var n=r(15),o=r(59),i=r(30),a=r(32),c=r(33),u=r(16),s=r(160),l=r(98),f=r(161),p=r(162),d=r(70),h=r(163),y=[],v=y.sort,b=u((function(){y.sort(void 0)})),g=u((function(){y.sort(null)})),m=l("sort"),O=!u((function(){if(d)return d<70;if(!(f&&f>3)){if(p)return!0;if(h)return h<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:e+n,v:r})}for(y.sort((function(t,e){return e.v-t.v})),n=0;n<y.length;n++)e=y[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:b||!g||!m||!O},{sort:function(t){void 0!==t&&o(t);var e=i(this);if(O)return void 0===t?v.call(e):v.call(e,t);var r,n,u=[],l=a(e.length);for(n=0;n<l;n++)n in e&&u.push(e[n]);for(r=(u=s(u,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t))).length,n=0;n<r;)e[n]=u[n++];for(;n<l;)delete e[n++];return e}})},function(t,e){var r=Math.floor,n=function t(e,n){var a=e.length,c=r(a/2);return a<8?o(e,n):i(t(e.slice(0,c),n),t(e.slice(c),n),n)},o=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},i=function(t,e,r){for(var n=t.length,o=e.length,i=0,a=0,c=[];i<n||a<o;)i<n&&a<o?c.push(r(t[i],e[a])<=0?t[i++]:e[a++]):c.push(i<n?t[i++]:e[a++]);return c};t.exports=n},function(t,e,r){var n=r(71).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},function(t,e,r){var n=r(71);t.exports=/MSIE|Trident/.test(n)},function(t,e,r){var n=r(71).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},function(t,e,r){"use strict";var n=r(15),o=r(60).find,i=r(66),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,r){var n=r(132);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,r){var n=r(21)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,r){"use strict";var n=r(25);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){var n=r(16),o=r(23).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,r){var n=r(16),o=r(23).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,r){var n=r(25),o=r(59),i=r(21)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[i])?e:o(r)}},function(t,e,r){var n=r(30),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,u,s,l){var f=r+t.length,p=u.length,d=c;return void 0!==s&&(s=n(s),d=a),i.call(l,d,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(f);case"<":a=s[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>p){var l=o(c/10);return 0===l?n:l<=p?void 0===u[l-1]?i.charAt(1):u[l-1]+i.charAt(1):n}a=u[c-1]}return void 0===a?"":a}))}},function(t,e,r){"use strict";var n=r(59),o=r(24),i=[].slice,a={},c=function(t,e,r){if(!(e in a)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";a[e]=Function("C,a","return new C("+n.join(",")+")")}return a[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=i.call(arguments,1),a=function n(){var o=r.concat(i.call(arguments));return this instanceof n?c(e,o.length,o):e.apply(t,o)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,r){"use strict";var n=r(28),o=r(16),i=r(54),a=r(92),c=r(75),u=r(30),s=r(65),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var r=u(t),o=arguments.length,l=1,f=a.f,p=c.f;o>l;)for(var d,h=s(arguments[l++]),y=f?i(h).concat(f(h)):i(h),v=y.length,b=0;v>b;)d=y[b++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:l},function(t,e,r){var n=r(38),o=r(33),i=/"/g;t.exports=function(t,e,r,a){var c=o(n(t)),u="<"+e;return""!==r&&(u+=" "+r+'="'+o(a).replace(i,"&quot;")+'"'),u+">"+c+"</"+e+">"}},function(t,e,r){var n=r(16);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,r){var n=r(15),o=Math.hypot,i=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,o=0,c=0,u=arguments.length,s=0;c<u;)s<(r=i(arguments[c++]))?(o=o*(n=s/r)*n+1,s=r):o+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*a(o)}})},function(t,e,r){var n=r(27);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},function(t,e,r){r(15)({target:"String",proto:!0},{repeat:r(179)})},function(t,e,r){"use strict";var n=r(50),o=r(33),i=r(38);t.exports=function(t){var e=o(i(this)),r="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},function(t,e,r){var n=r(28),o=r(54),i=r(35),a=r(75).f,c=function(t){return function(e){for(var r,c=i(e),u=o(c),s=u.length,l=0,f=[];s>l;)r=u[l++],n&&!a.call(c,r)||f.push(t?[r,c[r]]:c[r]);return f}};t.exports={entries:c(!0),values:c(!1)}},function(t,e,r){"use strict";var n=r(30),o=r(73),i=r(32);t.exports=function(t){for(var e=n(this),r=i(e.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,s=void 0===u?r:o(u,r);s>c;)e[c++]=t;return e}},function(t,e,r){"use strict";var n=r(15),o=r(134).trim;n({target:"String",proto:!0,forced:r(183)("trim")},{trim:function(){return o(this)}})},function(t,e,r){var n=r(16),o=r(135);t.exports=function(t){return n((function(){return!!o[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||o[t].name!==t}))}},function(t,e,r){"use strict";r.r(e),r.d(e,"observer",(function(){return ux})),r.d(e,"LogicFlow",(function(){return cx})),r.d(e,"h",(function(){return b})),r.d(e,"LogicFlowUtil",(function(){return n})),r.d(e,"BaseNode",(function(){return xv})),r.d(e,"RectNode",(function(){return Tv})),r.d(e,"CircleNode",(function(){return Yv})),r.d(e,"PolygonNode",(function(){return cb})),r.d(e,"DiamondNode",(function(){return mb})),r.d(e,"EllipseNode",(function(){return Ib})),r.d(e,"TextNode",(function(){return Wb})),r.d(e,"HtmlNode",(function(){return rg})),r.d(e,"BaseEdge",(function(){return nm})),r.d(e,"LineEdge",(function(){return ym})),r.d(e,"PolylineEdge",(function(){return Tm})),r.d(e,"BezierEdge",(function(){return Vm})),r.d(e,"Arrow",(function(){return bg})),r.d(e,"BaseEdgeModel",(function(){return Ku})),r.d(e,"BezierEdgeModel",(function(){return Nd})),r.d(e,"LineEdgeModel",(function(){return is})),r.d(e,"PolylineEdgeModel",(function(){return gs})),r.d(e,"BaseNodeModel",(function(){return Xd})),r.d(e,"CircleNodeModel",(function(){return eh})),r.d(e,"DiamondNodeModel",(function(){return Oh})),r.d(e,"EllipseNodeModel",(function(){return Dh})),r.d(e,"PolygonNodeModel",(function(){return Yh})),r.d(e,"RectNodeModel",(function(){return oy})),r.d(e,"TextNodeModel",(function(){return yy})),r.d(e,"HtmlNodeModel",(function(){return Py})),r.d(e,"EditConfigModel",(function(){return wa})),r.d(e,"GraphModel",(function(){return Rl})),r.d(e,"SnaplineModel",(function(){return Dy})),r.d(e,"Keyboard",(function(){return $O})),r.d(e,"get",(function(){return Fp})),r.d(e,"defaults",(function(){return Hp}));var n={};r.r(n),r.d(n,"createUuid",(function(){return Vc})),r.d(n,"refreshGraphId",(function(){return Kc})),r.d(n,"createDrag",(function(){return ul})),r.d(n,"StepDrag",(function(){return Pl}));var o,i,a,c,u,s,l,f=r(0),p={},d=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function y(t,e){for(var r in e)t[r]=e[r];return t}function v(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,r){var n,i,a,c={};for(a in e)"key"==a?n=e[a]:"ref"==a?i=e[a]:c[a]=e[a];if(arguments.length>2&&(c.children=arguments.length>3?o.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===c[a]&&(c[a]=t.defaultProps[a]);return g(t,c,n,i,null)}function g(t,e,r,n,o){var c={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++a:o};return null!=i.vnode&&i.vnode(c),c}function m(){return{current:null}}function O(t){return t.children}function x(t,e){this.props=t,this.context=e}function w(t,e){if(null==e)return t.__?w(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?w(t):null}function j(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return j(t)}}function _(t){(!t.__d&&(t.__d=!0)&&c.push(t)&&!E.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||u)(E)}function E(){for(var t;E.__r=c.length;)t=c.sort((function(t,e){return t.__v.__b-e.__v.__b})),c=[],t.some((function(t){var e,r,n,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(r=[],(n=y({},o)).__v=o.__v+1,C(a,o,n,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,r,null==i?w(o):i,o.__h),I(r,o),o.__e!=i&&j(o)))}))}function S(t,e,r,n,o,i,a,c,u,s){var l,f,h,y,v,b,m,x=n&&n.__k||d,j=x.length;for(r.__k=[],l=0;l<e.length;l++)if(null!=(y=r.__k[l]=null==(y=e[l])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?g(null,y,null,null,y):Array.isArray(y)?g(O,{children:y},null,null,null):y.__b>0?g(y.type,y.props,y.key,null,y.__v):y)){if(y.__=r,y.__b=r.__b+1,null===(h=x[l])||h&&y.key==h.key&&y.type===h.type)x[l]=void 0;else for(f=0;f<j;f++){if((h=x[f])&&y.key==h.key&&y.type===h.type){x[f]=void 0;break}h=null}C(t,y,h=h||p,o,i,a,c,u,s),v=y.__e,(f=y.ref)&&h.ref!=f&&(m||(m=[]),h.ref&&m.push(h.ref,null,y),m.push(f,y.__c||v,y)),null!=v?(null==b&&(b=v),"function"==typeof y.type&&null!=y.__k&&y.__k===h.__k?y.__d=u=P(y,u,t):u=k(t,y,h,x,v,u),s||"option"!==r.type?"function"==typeof r.type&&(r.__d=u):t.value=""):u&&h.__e==u&&u.parentNode!=t&&(u=w(h))}for(r.__e=b,l=j;l--;)null!=x[l]&&("function"==typeof r.type&&null!=x[l].__e&&x[l].__e==r.__d&&(r.__d=w(n,l+1)),z(x[l],x[l]));if(m)for(l=0;l<m.length;l++)L(m[l],m[++l],m[++l])}function P(t,e,r){var n,o;for(n=0;n<t.__k.length;n++)(o=t.__k[n])&&(o.__=t,e="function"==typeof o.type?P(o,e,r):k(r,o,o,t.__k,o.__e,e));return e}function A(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){A(t,e)})):e.push(t)),e}function k(t,e,r,n,o,i){var a,c,u;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==r||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(c=i,u=0;(c=c.nextSibling)&&u<n.length;u+=2)if(c==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function N(t,e,r){"-"===e[0]?t.setProperty(e,r):t[e]=null==r?"":"number"!=typeof r||h.test(e)?r:r+"px"}function M(t,e,r,n,o){var i;t:if("style"===e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||N(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||N(t.style,e,r[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?T:D,i):t.removeEventListener(e,i?T:D,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null!=r&&(!1!==r||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,r):t.removeAttribute(e))}}function D(t){this.l[t.type+!1](i.event?i.event(t):t)}function T(t){this.l[t.type+!0](i.event?i.event(t):t)}function C(t,e,r,n,o,a,c,u,s){var l,f,p,d,h,v,b,g,m,w,j,_=e.type;if(void 0!==e.constructor)return null;null!=r.__h&&(s=r.__h,u=e.__e=r.__e,e.__h=null,a=[u]),(l=i.__b)&&l(e);try{t:if("function"==typeof _){if(g=e.props,m=(l=_.contextType)&&n[l.__c],w=l?m?m.props.value:l.__:n,r.__c?b=(f=e.__c=r.__c).__=f.__E:("prototype"in _&&_.prototype.render?e.__c=f=new _(g,w):(e.__c=f=new x(g,w),f.constructor=_,f.render=B),m&&m.sub(f),f.props=g,f.state||(f.state={}),f.context=w,f.__n=n,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=_.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=y({},f.__s)),y(f.__s,_.getDerivedStateFromProps(g,f.__s))),d=f.props,h=f.state,p)null==_.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==_.getDerivedStateFromProps&&g!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,w)||e.__v===r.__v){f.props=g,f.state=f.__s,e.__v!==r.__v&&(f.__d=!1),f.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach((function(t){t&&(t.__=e)})),f.__h.length&&c.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,h,v)}))}f.context=w,f.props=g,f.state=f.__s,(l=i.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(n=y(y({},n),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(d,h)),j=null!=l&&l.type===O&&null==l.key?l.props.children:l,S(t,Array.isArray(j)?j:[j],e,r,n,o,a,c,u,s),f.base=e.__e,e.__h=null,f.__h.length&&c.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==a&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=R(r.__e,e,r,n,o,a,c,s);(l=i.diffed)&&l(e)}catch(t){e.__v=null,(s||null!=a)&&(e.__e=u,e.__h=!!s,a[a.indexOf(u)]=null),i.__e(t,e,r)}}function I(t,e){i.__c&&i.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){i.__e(t,e.__v)}}))}function R(t,e,r,n,i,a,c,u){var s,l,f,d=r.props,h=e.props,y=e.type,b=0;if("svg"===y&&(i=!0),null!=a)for(;b<a.length;b++)if((s=a[b])&&(s===t||(y?s.localName==y:3==s.nodeType))){t=s,a[b]=null;break}if(null==t){if(null===y)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,h.is&&h),a=null,u=!1}if(null===y)d===h||u&&t.data===h||(t.data=h);else{if(a=a&&o.call(t.childNodes),l=(d=r.props||p).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!u){if(null!=a)for(d={},b=0;b<t.attributes.length;b++)d[t.attributes[b].name]=t.attributes[b].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(function(t,e,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in e||M(t,i,null,r[i],n);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===e[i]||M(t,i,e[i],r[i],n)}(t,h,d,i,u),f)e.__k=[];else if(b=e.props.children,S(t,Array.isArray(b)?b:[b],e,r,n,i&&"foreignObject"!==y,a,c,a?a[0]:r.__k&&w(r,0),u),null!=a)for(b=a.length;b--;)null!=a[b]&&v(a[b]);u||("value"in h&&void 0!==(b=h.value)&&(b!==t.value||"progress"===y&&!b)&&M(t,"value",b,d.value,!1),"checked"in h&&void 0!==(b=h.checked)&&b!==t.checked&&M(t,"checked",b,d.checked,!1))}return t}function L(t,e,r){try{"function"==typeof t?t(e):t.current=e}catch(t){i.__e(t,r)}}function z(t,e,r){var n,o;if(i.unmount&&i.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||L(n,null,e)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){i.__e(t,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&z(n[o],e,"function"!=typeof t.type);r||null==t.__e||v(t.__e),t.__e=t.__d=void 0}function B(t,e,r){return this.constructor(t,r)}function G(t,e,r){var n,a,c;i.__&&i.__(t,e),a=(n="function"==typeof r)?null:r&&r.__k||e.__k,c=[],C(e,t=(!n&&r||e).__k=b(O,null,[t]),a||p,p,void 0!==e.ownerSVGElement,!n&&r?[r]:a?null:e.firstChild?o.call(e.childNodes):null,c,!n&&r?r:a?a.__e:e.firstChild,n),I(c,t)}function F(t,e){G(t,e,F)}function U(t,e,r){var n,i,a,c=y({},t.props);for(a in e)"key"==a?n=e[a]:"ref"==a?i=e[a]:c[a]=e[a];return arguments.length>2&&(c.children=arguments.length>3?o.call(arguments,2):r),g(t.type,c,n||t.key,i||t.ref,null)}o=d.slice,i={__e:function(t,e){for(var r,n,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(t)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(t),o=r.__d),o)return r.__E=r}catch(e){t=e}throw t}},a=0,x.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof t&&(t=t(y({},r),this.props)),t&&y(r,t),null!=t&&this.__v&&(e&&this.__h.push(e),_(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},x.prototype.render=O,c=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E.__r=0,l=0;var X,H,Y,W=0,V=[],K=i.__b,Z=i.__r,q=i.diffed,$=i.__c,Q=i.unmount;function J(t,e){i.__h&&i.__h(H,t,W||e),W=0;var r=H.__H||(H.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function tt(t){return W=1,et(st,t)}function et(t,e,r){var n=J(X++,2);return n.t=t,n.__c||(n.__=[r?r(e):st(void 0,e),function(t){var e=n.t(n.__[0],t);n.__[0]!==e&&(n.__=[e,n.__[1]],n.__c.setState({}))}],n.__c=H),n.__}function rt(t,e){var r=J(X++,4);!i.__s&&ut(r.__H,e)&&(r.__=t,r.__H=e,H.__h.push(r))}function nt(t,e){var r=J(X++,7);return ut(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function ot(){V.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(at),t.__H.__h.forEach(ct),t.__H.__h=[]}catch(e){t.__H.__h=[],i.__e(e,t.__v)}})),V=[]}i.__b=function(t){H=null,K&&K(t)},i.__r=function(t){Z&&Z(t),X=0;var e=(H=t.__c).__H;e&&(e.__h.forEach(at),e.__h.forEach(ct),e.__h=[])},i.diffed=function(t){q&&q(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==V.push(e)&&Y===i.requestAnimationFrame||((Y=i.requestAnimationFrame)||function(t){var e,r=function(){clearTimeout(n),it&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);it&&(e=requestAnimationFrame(r))})(ot)),H=void 0},i.__c=function(t,e){e.some((function(t){try{t.__h.forEach(at),t.__h=t.__h.filter((function(t){return!t.__||ct(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],i.__e(r,t.__v)}})),$&&$(t,e)},i.unmount=function(t){Q&&Q(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(at)}catch(t){i.__e(t,e.__v)}};var it="function"==typeof requestAnimationFrame;function at(t){var e=H;"function"==typeof t.__c&&t.__c(),H=e}function ct(t){var e=H;t.__c=t.__(),H=e}function ut(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function st(t,e){return"function"==typeof e?e(t):e}function lt(t,e){for(var r in e)t[r]=e[r];return t}function ft(t,e){for(var r in t)if("__source"!==r&&!(r in e))return!0;for(var n in e)if("__source"!==n&&t[n]!==e[n])return!0;return!1}function pt(t){this.props=t}(pt.prototype=new x).isPureReactComponent=!0,pt.prototype.shouldComponentUpdate=function(t,e){return ft(this.props,t)||ft(this.state,e)};var dt=i.__b;i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),dt&&dt(t)};var ht="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function yt(t){function e(e,r){var n=lt({},e);return delete n.ref,t(n,(r=e.ref||r)&&("object"!=typeof r||"current"in r)?r:null)}return e.$$typeof=ht,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var vt=function(t,e){return null==t?null:A(A(t).map(e))},bt={map:vt,forEach:vt,count:function(t){return t?A(t).length:0},only:function(t){var e=A(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:A},gt=i.__e;i.__e=function(t,e,r){if(t.then)for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return null==e.__e&&(e.__e=r.__e,e.__k=r.__k),n.__c(t,e);gt(t,e,r)};var mt=i.unmount;function Ot(){this.__u=0,this.t=null,this.__b=null}function xt(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function wt(){this.u=null,this.o=null}i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),mt&&mt(t)},(Ot.prototype=new x).__c=function(t,e){var r=e.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var o=xt(n.__v),i=!1,a=function(){i||(i=!0,r.__R=null,o?o(c):c())};r.__R=a;var c=function(){if(!--n.__u){if(n.state.__e){var t=n.state.__e;n.__v.__k[0]=function t(e,r,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,r,n)})),e.__c&&e.__c.__P===r&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}(t,t.__c.__P,t.__c.__O)}var e;for(n.setState({__e:n.__b=null});e=n.t.pop();)e.forceUpdate()}},u=!0===e.__h;n.__u++||u||n.setState({__e:n.__b=n.__v.__k[0]}),t.then(a,a)},Ot.prototype.componentWillUnmount=function(){this.t=[]},Ot.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,r,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=lt({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=r),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,r,n)}))),e}(this.__b,r,n.__O=n.__P)}this.__b=null}var o=e.__e&&b(O,null,t.fallback);return o&&(o.__h=null),[b(O,null,e.__e?null:t.children),o]};var jt=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function _t(t){return this.getChildContext=function(){return t.context},t.children}function Et(t){var e=this,r=t.i;e.componentWillUnmount=function(){G(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,r){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),G(b(_t,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(wt.prototype=new x).__e=function(t){var e=this,r=xt(e.__v),n=e.o.get(t);return n[0]++,function(o){var i=function(){e.props.revealOrder?(n.push(o),jt(e,t,n)):o()};r?r(i):i()}},wt.prototype.render=function(t){this.u=null,this.o=new Map;var e=A(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},wt.prototype.componentDidUpdate=wt.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,r){jt(t,r,e)}))};var St="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Pt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,At=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(x.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var kt=i.event;function Nt(){}function Mt(){return this.cancelBubble}function Dt(){return this.defaultPrevented}i.event=function(t){return kt&&(t=kt(t)),t.persist=Nt,t.isPropagationStopped=Mt,t.isDefaultPrevented=Dt,t.nativeEvent=t};var Tt,Ct={configurable:!0,get:function(){return this.class}},It=i.vnode;i.vnode=function(t){var e=t.type,r=t.props,n=r;if("string"==typeof e){for(var o in n={},r){var i=r[o];"value"===o&&"defaultValue"in r&&null==i||("defaultValue"===o&&"value"in r&&null==r.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!At(r.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():Pt.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),n[o]=i)}"select"==e&&n.multiple&&Array.isArray(n.value)&&(n.value=A(r.children).forEach((function(t){t.props.selected=-1!=n.value.indexOf(t.props.value)}))),"select"==e&&null!=n.defaultValue&&(n.value=A(r.children).forEach((function(t){t.props.selected=n.multiple?-1!=n.defaultValue.indexOf(t.props.value):n.defaultValue==t.props.value}))),t.props=n}e&&r.class!=r.className&&(Ct.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",Ct)),t.$$typeof=St,It&&It(t)};var Rt=i.__r;function Lt(t){return!!t&&t.$$typeof===St}function zt(t){return t&&(t.base||1===t.nodeType&&t)||null}i.__r=function(t){Rt&&Rt(t),Tt=t.__c};var Bt=function(t,e){return t(e)},Gt={useState:tt,useReducer:et,useEffect:function(t,e){var r=J(X++,3);!i.__s&&ut(r.__H,e)&&(r.__=t,r.__H=e,H.__H.__h.push(r))},useLayoutEffect:rt,useRef:function(t){return W=5,nt((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,r){W=6,rt((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==r?r:r.concat(t))},useMemo:nt,useCallback:function(t,e){return W=8,nt((function(){return t}),e)},useContext:function(t){var e=H.context[t.__c],r=J(X++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(H)),e.props.value):t.__},useDebugValue:function(t,e){i.useDebugValue&&i.useDebugValue(e?e(t):t)},version:"17.0.2",Children:bt,render:function(t,e,r){return null==e.__k&&(e.textContent=""),G(t,e),"function"==typeof r&&r(),t?t.__c:null},hydrate:function(t,e,r){return F(t,e),"function"==typeof r&&r(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(G(null,t),!0)},createPortal:function(t,e){return b(Et,{__v:t,i:e})},createElement:b,createContext:function(t,e){var r={__c:e="__cC"+l++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,n;return this.getChildContext||(r=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.some(_)},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Provider.__=r.Consumer.contextType=r},createFactory:function(t){return b.bind(null,t)},cloneElement:function(t){return Lt(t)?U.apply(null,arguments):t},createRef:m,Fragment:O,isValidElement:Lt,findDOMNode:zt,Component:x,PureComponent:pt,memo:function(t,e){function r(t){var r=this.props.ref,n=r==t.ref;return!n&&r&&(r.call?r(null):r.current=null),e?!e(this.props,t)||!n:ft(this.props,t)}function n(e){return this.shouldComponentUpdate=r,b(t,e)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n},forwardRef:yt,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:Bt,StrictMode:O,Suspense:Ot,SuspenseList:wt,lazy:function(t){var e,r,n;function o(o){if(e||(e=t()).then((function(t){r=t.default||t}),(function(t){n=t})),n)throw n;if(!r)throw e;return b(r,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return Tt.__n[t.__c].props.value}}}}};function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ht(t,e,r){return e&&Xt(t.prototype,e),r&&Xt(t,r),t}function Yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t,e){return t(e={exports:{}},e.exports),e.exports}var $t,Qt=qt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116;function v(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case l:case f:case i:case c:case a:return t;default:switch(t=t&&t.$$typeof){case s:case p:case u:return t;default:return e}}case o:return e}}}function b(t){return v(t)===f}e.typeOf=v,e.AsyncMode=l,e.ConcurrentMode=f,e.ContextConsumer=s,e.ContextProvider=u,e.Element=n,e.ForwardRef=p,e.Fragment=i,e.Profiler=c,e.Portal=o,e.StrictMode=a,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===f||t===c||t===a||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===h||t.$$typeof===u||t.$$typeof===s||t.$$typeof===p)},e.isAsyncMode=function(t){return b(t)||v(t)===l},e.isConcurrentMode=b,e.isContextConsumer=function(t){return v(t)===s},e.isContextProvider=function(t){return v(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return v(t)===p},e.isFragment=function(t){return v(t)===i},e.isProfiler=function(t){return v(t)===c},e.isPortal=function(t){return v(t)===o},e.isStrictMode=function(t){return v(t)===a}}));($t=Qt)&&$t.__esModule&&Object.prototype.hasOwnProperty.call($t,"default")&&$t.default,Qt.typeOf,Qt.AsyncMode,Qt.ConcurrentMode,Qt.ContextConsumer,Qt.ContextProvider,Qt.Element,Qt.ForwardRef,Qt.Fragment,Qt.Profiler,Qt.Portal,Qt.StrictMode,Qt.isValidElementType,Qt.isAsyncMode,Qt.isConcurrentMode,Qt.isContextConsumer,Qt.isContextProvider,Qt.isElement,Qt.isForwardRef,Qt.isFragment,Qt.isProfiler,Qt.isPortal,Qt.isStrictMode;var Jt=qt((function(t){t.exports=Qt})),te={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ee={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},re={};re[Jt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var ne=Object.defineProperty,oe=Object.getOwnPropertyNames,ie=Object.getOwnPropertySymbols,ae=Object.getOwnPropertyDescriptor,ce=Object.getPrototypeOf,ue=Object.prototype,se=function t(e,r,n){if("string"!=typeof r){if(ue){var o=ce(r);o&&o!==ue&&t(e,o,n)}var i=oe(r);ie&&(i=i.concat(ie(r)));for(var a=re[e.$$typeof]||te,c=re[r.$$typeof]||te,u=0;u<i.length;++u){var s=i[u];if(!(ee[s]||n&&n[s]||c&&c[s]||a&&a[s])){var l=ae(r,s);try{ne(e,s,l)}catch(t){}}}return e}return e},le=function(){function t(){Ut(this,t),this.listeners=[]}return Ht(t,[{key:"on",value:function(t){var e=this;return this.listeners.push(t),function(){var r=e.listeners.indexOf(t);-1!==r&&e.listeners.splice(r,1)}}},{key:"emit",value:function(t){this.listeners.forEach((function(e){return e(t)}))}}]),t}();function fe(t){function e(e,r,n,o,i,a){for(var c=arguments.length,u=new Array(c>6?c-6:0),s=6;s<c;s++)u[s-6]=arguments[s];return Object(f.I)((function(){if(o=o||"<<anonymous>>",a=a||n,null==r[n]){if(e){var c=null===r[n]?"null":"undefined";return new Error("The "+i+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+c+"`.")}return null}return t.apply(void 0,[r,n,o,i,a].concat(u))}))}var r=e.bind(null,!1);return r.isRequired=e.bind(null,!0),r}function pe(t){var e=Ft(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function de(t,e){return fe((function(r,n,o,i,a){return Object(f.I)((function(){if(t&&pe(r[n])===e.toLowerCase())return null;var i;switch(e){case"Array":i=f.w;break;case"Object":i=f.y;break;case"Map":i=f.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var c=r[n];if(!i(c)){var u=function(t){var e=pe(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(c),s=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+u+"` supplied to `"+o+"`, expected `mobx.Observable"+e+"`"+s+".")}return null}))}))}function he(t,e){return fe((function(r,n,o,i,a){for(var c=arguments.length,u=new Array(c>5?c-5:0),s=5;s<c;s++)u[s-5]=arguments[s];return Object(f.I)((function(){if("function"!=typeof e)return new Error("Property `"+a+"` of component `"+o+"` has invalid PropType notation.");var c=de(t,"Array")(r,n,o);if(c instanceof Error)return c;for(var s=r[n],l=0;l<s.length;l++)if((c=e.apply(void 0,[s,l,o,i,a+"["+l+"]"].concat(u)))instanceof Error)return c;return null}))}))}de(!1,"Array"),he.bind(null,!1),de(!1,"Map"),de(!1,"Object"),de(!0,"Array"),he.bind(null,!0);var ye=de(!0,"Object"),ve=0,be={};function ge(t){return be[t]||(be[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react ".concat(t," (").concat(ve,")");return ve++,e}(t)),be[t]}var me=ge("patchMixins"),Oe=ge("patchedDefinition");function xe(t,e){var r=t[me]=t[me]||{},n=r[e]=r[e]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function we(t,e){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];e.locks++;try{var a;return null!=t&&(a=t.apply(this,o)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(r,o)}))}}function je(t,e){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];we.call.apply(we,[this,t,e].concat(n))}}function _e(t,e){for(var r=xe(t,e),n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var c=o[a];r.methods.indexOf(c)<0&&r.methods.push(c)}var u=Object.getOwnPropertyDescriptor(t,e);if(!u||!u[Oe]){var s=t[e],l=Ee(t,e,u?u.enumerable:void 0,r,s);Object.defineProperty(t,e,l)}}function Ee(t,e,r,n,o){var i,a=je(o,n);return Yt(i={},Oe,!0),Yt(i,"get",(function(){return a})),Yt(i,"set",(function(o){if(this===t)a=je(o,n);else{var i=Ee(this,e,r,n,o);Object.defineProperty(this,e,i)}})),Yt(i,"configurable",!0),Yt(i,"enumerable",r),i}var Se={mobxStores:ye};Object.seal(Se);var Pe={contextTypes:{get:function(){return Se},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Ae(t,e,r){var n="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");r&&(n+="-with-"+r);var o=function(r){function n(){var t,e;Ut(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=Zt(this,(t=Vt(n)).call.apply(t,[this].concat(o)))).storeRef=function(t){e.wrappedInstance=t},e}return Wt(n,r),Ht(n,[{key:"render",value:function(){var r={};for(var n in this.props)this.props.hasOwnProperty(n)&&(r[n]=this.props[n]);var o=t(this.context.mobxStores||{},r,this.context)||{};for(var i in o)r[i]=o[i];return function(t){return!(t.prototype&&t.prototype.render)}(e)||(r.ref=this.storeRef),b(e,r)}}]),n}(x);return o.displayName=n,se(o,e),o.wrappedComponent=e,Object.defineProperties(o,Pe),o}function ke(t){return function(e,r){return t.forEach((function(t){if(!(t in r)){if(!(t in e))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");r[t]=e[t]}})),r}}function Ne(){var t;if("function"==typeof arguments[0])return t=arguments[0],function(e){var r=Ae(t,e);return r.isMobxInjector=!1,(r=qe(r)).isMobxInjector=!0,r};for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t=ke(e),function(r){return Ae(t,r,e.join("-"))}}var Me=f.a||"$mobx",De=ge("isUnmounted"),Te=!1,Ce=!1,Ie=!1,Re="undefined"!=typeof WeakMap?new WeakMap:void 0,Le=new le,ze=ge("skipRender"),Be=ge("isForcingUpdate"),Ge=yt((function(t,e){})).$$typeof;function Fe(t,e,r){Object.hasOwnProperty.call(t,e)?t[e]=r:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:r})}function Ue(t){if(zt)try{return zt(t)}catch(t){return null}return null}function Xe(t){var e=Ue(t);e&&Re&&Re.set(e,t),Le.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var He=new le;function Ye(t,e){if(We(t,e))return!0;if("object"!==Ft(t)||null===t||"object"!==Ft(e)||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(e,r[o])||!We(t[r[o]],e[r[o]]))return!1;return!0}function We(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Ve(t){var e=this;if(!0===Ce)return t.call(this);function r(){var t=this;a=!1;var e=void 0,r=void 0;if(c.track((function(){Te&&(t.__$mobRenderStart=Date.now());try{r=Object(f.d)(!1,i)}catch(t){e=t}Te&&(t.__$mobRenderEnd=Date.now())})),e)throw He.emit(e),e;return r}var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Fe(this,ze,!1),Fe(this,Be,!1);var i=t.bind(this),a=!1,c=new f.c("".concat(n,"#").concat(o,".render()"),(function(){if(!a&&(a=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e[De])){var t=!0;try{Fe(e,Be,!0),e[ze]||x.prototype.forceUpdate.call(e),t=!1}finally{Fe(e,Be,!1),t&&c.dispose()}}}));return c.reactComponent=this,r[Me]=c,this.render=r,r.call(this)}var Ke={componentWillUnmount:function(){if(!0!==Ce&&(this.render[Me]&&this.render[Me].dispose(),this[De]=!0,Te)){var t=Ue(this);t&&Re&&Re.delete(t),Le.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){Te&&Xe(this)},componentDidUpdate:function(){Te&&Xe(this)},shouldComponentUpdate:function(t,e){return Ce&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!Ye(this.props,t)}};function Ze(t,e){var r=ge("reactProp_".concat(e,"_valueHolder")),n=ge("reactProp_".concat(e,"_atomHolder"));function o(){return this[n]||Fe(this,n,Object(f.m)("reactive "+e)),this[n]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[r]},set:function(t){this[Be]||Ye(this[r],t)?Fe(this,r,t):(Fe(this,r,t),Fe(this,ze,!0),o.call(this).reportChanged(),Fe(this,ze,!1))}})}function qe(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return Ie||(Ie=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?Ne.apply(null,t)(qe(e)):function(e){return qe(t,e)};var r=t;if(!0===r.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),r.__proto__===pt&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Ge&&r.$$typeof===Ge){var n=r.render;if("function"!=typeof n)throw new Error("render property of ForwardRef was not a function");return yt((function(){var t=arguments;return Gt.createElement($e,null,(function(){return n.apply(void 0,t)}))}))}if(!("function"!=typeof r||r.prototype&&r.prototype.render||r.isReactClass||x.isPrototypeOf(r))){var o,i,a=qe((i=o=function(t){function e(){return Ut(this,e),Zt(this,Vt(e).apply(this,arguments))}return Wt(e,t),Ht(e,[{key:"render",value:function(){return r.call(this,this.props,this.context)}}]),e}(x),o.displayName=r.displayName||r.name,o.contextTypes=r.contextTypes,o.propTypes=r.propTypes,o.defaultProps=r.defaultProps,i));return se(a,r),a}if(!r)throw new Error("Please pass a valid component to 'observer'");var c=r.prototype||r;!function(t){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(e){!function(t,e){_e(t,e,Ke[e])}(t,e)})),t.shouldComponentUpdate?t.shouldComponentUpdate!==Ke.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):t.shouldComponentUpdate=Ke.shouldComponentUpdate}(c),r.isMobXReactObserver=!0,Ze(c,"props"),Ze(c,"state");var u=c.render;return c.render=function(){return Ve.call(this,u)},r}var $e=qe((function(t){var e=t.children,r=t.inject,n=t.render,o=e||n;if(void 0===o)return null;if(!r)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=Ne(r)(o);return Gt.createElement(i,null)}));$e.displayName="Observer";var Qe=function(t,e,r,n,o){var i="children"===e?"render":"children";return"function"==typeof t[e]&&"function"==typeof t[i]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!=typeof t[e]&&"function"!=typeof t[i]?new Error("Invalid prop `"+o+"` of type `"+Ft(t[e])+"` supplied to `"+r+"`, expected `function`."):void 0};function Je(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function tr(t){this.setState(function(e){var r=this.constructor.getDerivedStateFromProps(t,e);return null!=r?r:null}.bind(this))}function er(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}$e.propTypes={render:Qe,children:Qe},Je.__suppressDeprecationWarning=!0,tr.__suppressDeprecationWarning=!0,er.__suppressDeprecationWarning=!0;var rr={children:!0,key:!0,ref:!0},nr=function(t){function e(t,r){var n;return Ut(this,e),(n=Zt(this,Vt(e).call(this,t,r))).state={},or(t,n.state),n}return Wt(e,t),Ht(e,[{key:"render",value:function(){return bt.only(this.props.children)}},{key:"getChildContext",value:function(){var t={};return or(this.context.mobxStores,t),or(this.props,t),{mobxStores:t}}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(!t)return null;if(!e)return t;if(Object.keys(t).filter(ir).length!==Object.keys(e).filter(ir).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!t.suppressChangedStoreWarning)for(var r in t)ir(r)&&e[r]!==t[r]&&console.warn("MobX Provider: Provided store '"+r+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return t}}]),e}(x);function or(t,e){if(t)for(var r in t)ir(r)&&(e[r]=t[r])}function ir(t){return!rr[t]&&"suppressChangedStoreWarning"!==t}if(nr.contextTypes={mobxStores:ye},nr.childContextTypes={mobxStores:ye.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var r=null,n=null,o=null;if("function"==typeof e.componentWillMount?r="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?o="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var i=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=Je,e.componentWillReceiveProps=tr),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=er;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,t,e,n)}}}(nr),ge("disposeOnUnmount"),!x)throw new Error("mobx-react requires React to be available");if(!f.F)throw new Error("mobx-react requires mobx to be available");if(Object(f.l)({reactionScheduler:Bt}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":Ft(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var ar={spy:f.F,extras:{getDebugName:f.r}},cr={renderReporter:Le,componentByNodeRegistry:Re,componentByNodeRegistery:Re,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Te||(Te=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(cr,ar)}r(1),r(78),r(3),r(5),r(4),r(8),r(17),r(36),r(12),r(2),r(19),r(13),r(20),r(6),r(7),r(14),r(18),r(159),r(164),r(81),r(130),r(131);var ur=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},sr=function(){this.__data__=[],this.size=0},lr=function(t,e){return t===e||t!=t&&e!=e},fr=function(t,e){for(var r=t.length;r--;)if(lr(t[r][0],e))return r;return-1},pr=Array.prototype.splice,dr=function(t){var e=this.__data__,r=fr(e,t);return!(r<0)&&(r==e.length-1?e.pop():pr.call(e,r,1),--this.size,!0)},hr=function(t){var e=this.__data__,r=fr(e,t);return r<0?void 0:e[r][1]},yr=function(t){return fr(this.__data__,t)>-1},vr=function(t,e){var r=this.__data__,n=fr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function br(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}br.prototype.clear=sr,br.prototype.delete=dr,br.prototype.get=hr,br.prototype.has=yr,br.prototype.set=vr;var gr,mr=br,Or=function(){this.__data__=new mr,this.size=0},xr=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},wr=function(t){return this.__data__.get(t)},jr=function(t){return this.__data__.has(t)},_r=r(22),Er=_r.a.Symbol,Sr=Object.prototype,Pr=Sr.hasOwnProperty,Ar=Sr.toString,kr=Er?Er.toStringTag:void 0,Nr=function(t){var e=Pr.call(t,kr),r=t[kr];try{t[kr]=void 0;var n=!0}catch(t){}var o=Ar.call(t);return n&&(e?t[kr]=r:delete t[kr]),o},Mr=Object.prototype.toString,Dr=function(t){return Mr.call(t)},Tr=Er?Er.toStringTag:void 0,Cr=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Tr&&Tr in Object(t)?Nr(t):Dr(t)},Ir=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Rr=function(t){if(!Ir(t))return!1;var e=Cr(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Lr=_r.a["__core-js_shared__"],zr=(gr=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||""))?"Symbol(src)_1."+gr:"",Br=function(t){return!!zr&&zr in t},Gr=Function.prototype.toString,Fr=function(t){if(null!=t){try{return Gr.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ur=/^\[object .+?Constructor\]$/,Xr=Function.prototype,Hr=Object.prototype,Yr=Xr.toString,Wr=Hr.hasOwnProperty,Vr=RegExp("^"+Yr.call(Wr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=function(t){return!(!Ir(t)||Br(t))&&(Rr(t)?Vr:Ur).test(Fr(t))},Zr=function(t,e){return null==t?void 0:t[e]},qr=function(t,e){var r=Zr(t,e);return Kr(r)?r:void 0},$r=qr(_r.a,"Map"),Qr=qr(Object,"create"),Jr=function(){this.__data__=Qr?Qr(null):{},this.size=0},tn=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},en=Object.prototype.hasOwnProperty,rn=function(t){var e=this.__data__;if(Qr){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return en.call(e,t)?e[t]:void 0},nn=Object.prototype.hasOwnProperty,on=function(t){var e=this.__data__;return Qr?void 0!==e[t]:nn.call(e,t)},an=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qr&&void 0===e?"__lodash_hash_undefined__":e,this};function cn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cn.prototype.clear=Jr,cn.prototype.delete=tn,cn.prototype.get=rn,cn.prototype.has=on,cn.prototype.set=an;var un=cn,sn=function(){this.size=0,this.__data__={hash:new un,map:new($r||mr),string:new un}},ln=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},fn=function(t,e){var r=t.__data__;return ln(e)?r["string"==typeof e?"string":"hash"]:r.map},pn=function(t){var e=fn(this,t).delete(t);return this.size-=e?1:0,e},dn=function(t){return fn(this,t).get(t)},hn=function(t){return fn(this,t).has(t)},yn=function(t,e){var r=fn(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function vn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vn.prototype.clear=sn,vn.prototype.delete=pn,vn.prototype.get=dn,vn.prototype.has=hn,vn.prototype.set=yn;var bn=vn,gn=function(t,e){var r=this.__data__;if(r instanceof mr){var n=r.__data__;if(!$r||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new bn(n)}return r.set(t,e),this.size=r.size,this};function mn(t){var e=this.__data__=new mr(t);this.size=e.size}mn.prototype.clear=Or,mn.prototype.delete=xr,mn.prototype.get=wr,mn.prototype.has=jr,mn.prototype.set=gn;var On=mn,xn=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wn=function(t){return this.__data__.has(t)};function jn(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new bn;++e<r;)this.add(t[e])}jn.prototype.add=jn.prototype.push=xn,jn.prototype.has=wn;var _n=jn,En=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},Sn=function(t,e){return t.has(e)},Pn=function(t,e,r,n,o,i){var a=1&r,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,p=!0,d=2&r?new _n:void 0;for(i.set(t,e),i.set(e,t);++f<c;){var h=t[f],y=e[f];if(n)var v=a?n(y,h,f,e,t,i):n(h,y,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!En(e,(function(t,e){if(!Sn(d,e)&&(h===t||o(h,t,r,n,i)))return d.push(e)}))){p=!1;break}}else if(h!==y&&!o(h,y,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p},An=_r.a.Uint8Array,kn=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r},Nn=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},Mn=Er?Er.prototype:void 0,Dn=Mn?Mn.valueOf:void 0,Tn=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new An(t),new An(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lr(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=kn;case"[object Set]":var u=1&n;if(c||(c=Nn),t.size!=e.size&&!u)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var l=Pn(c(t),c(e),n,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Dn)return Dn.call(t)==Dn.call(e)}return!1},Cn=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},In=Array.isArray,Rn=function(t,e,r){var n=e(t);return In(t)?n:Cn(n,r(t))},Ln=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i},zn=function(){return[]},Bn=Object.prototype.propertyIsEnumerable,Gn=Object.getOwnPropertySymbols,Fn=Gn?function(t){return null==t?[]:(t=Object(t),Ln(Gn(t),(function(e){return Bn.call(t,e)})))}:zn,Un=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},Xn=function(t){return null!=t&&"object"==typeof t},Hn=function(t){return Xn(t)&&"[object Arguments]"==Cr(t)},Yn=Object.prototype,Wn=Yn.hasOwnProperty,Vn=Yn.propertyIsEnumerable,Kn=Hn(function(){return arguments}())?Hn:function(t){return Xn(t)&&Wn.call(t,"callee")&&!Vn.call(t,"callee")},Zn=r(48),qn=/^(?:0|[1-9]\d*)$/,$n=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&qn.test(t))&&t>-1&&t%1==0&&t<e},Qn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Jn={};Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Arguments]"]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object Boolean]"]=Jn["[object DataView]"]=Jn["[object Date]"]=Jn["[object Error]"]=Jn["[object Function]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn["[object Object]"]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object WeakMap]"]=!1;var to=function(t){return Xn(t)&&Qn(t.length)&&!!Jn[Cr(t)]},eo=function(t){return function(e){return t(e)}},ro=r(42),no=ro.a&&ro.a.isTypedArray,oo=no?eo(no):to,io=Object.prototype.hasOwnProperty,ao=function(t,e){var r=In(t),n=!r&&Kn(t),o=!r&&!n&&Object(Zn.a)(t),i=!r&&!n&&!o&&oo(t),a=r||n||o||i,c=a?Un(t.length,String):[],u=c.length;for(var s in t)!e&&!io.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||$n(s,u))||c.push(s);return c},co=Object.prototype,uo=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||co)},so=function(t,e){return function(r){return t(e(r))}},lo=so(Object.keys,Object),fo=Object.prototype.hasOwnProperty,po=function(t){if(!uo(t))return lo(t);var e=[];for(var r in Object(t))fo.call(t,r)&&"constructor"!=r&&e.push(r);return e},ho=function(t){return null!=t&&Qn(t.length)&&!Rr(t)},yo=function(t){return ho(t)?ao(t):po(t)},vo=function(t){return Rn(t,yo,Fn)},bo=Object.prototype.hasOwnProperty,go=function(t,e,r,n,o,i){var a=1&r,c=vo(t),u=c.length;if(u!=vo(e).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in e:bo.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<u;){var y=t[l=c[s]],v=e[l];if(n)var b=a?n(v,y,l,e,t,i):n(y,v,l,t,e,i);if(!(void 0===b?y===v||o(y,v,r,n,i):b)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},mo=qr(_r.a,"DataView"),Oo=qr(_r.a,"Promise"),xo=qr(_r.a,"Set"),wo=qr(_r.a,"WeakMap"),jo=Fr(mo),_o=Fr($r),Eo=Fr(Oo),So=Fr(xo),Po=Fr(wo),Ao=Cr;(mo&&"[object DataView]"!=Ao(new mo(new ArrayBuffer(1)))||$r&&"[object Map]"!=Ao(new $r)||Oo&&"[object Promise]"!=Ao(Oo.resolve())||xo&&"[object Set]"!=Ao(new xo)||wo&&"[object WeakMap]"!=Ao(new wo))&&(Ao=function(t){var e=Cr(t),r="[object Object]"==e?t.constructor:void 0,n=r?Fr(r):"";if(n)switch(n){case jo:return"[object DataView]";case _o:return"[object Map]";case Eo:return"[object Promise]";case So:return"[object Set]";case Po:return"[object WeakMap]"}return e});var ko=Ao,No=Object.prototype.hasOwnProperty,Mo=function(t,e,r,n,o,i){var a=In(t),c=In(e),u=a?"[object Array]":ko(t),s=c?"[object Array]":ko(e),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),p=u==s;if(p&&Object(Zn.a)(t)){if(!Object(Zn.a)(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new On),a||oo(t)?Pn(t,e,r,n,o,i):Tn(t,e,u,r,n,o,i);if(!(1&r)){var d=l&&No.call(t,"__wrapped__"),h=f&&No.call(e,"__wrapped__");if(d||h){var y=d?t.value():t,v=h?e.value():e;return i||(i=new On),o(y,v,r,n,i)}}return!!p&&(i||(i=new On),go(t,e,r,n,o,i))},Do=function t(e,r,n,o,i){return e===r||(null==e||null==r||!Xn(e)&&!Xn(r)?e!=e&&r!=r:Mo(e,r,n,o,t,i))},To=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var c=r[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<i;){var u=(c=r[o])[0],s=t[u],l=c[1];if(a&&c[2]){if(void 0===s&&!(u in t))return!1}else{var f=new On;if(n)var p=n(s,l,u,t,e,f);if(!(void 0===p?Do(l,s,3,n,f):p))return!1}}return!0},Co=function(t){return t==t&&!Ir(t)},Io=function(t){for(var e=yo(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Co(o)]}return e},Ro=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}},Lo=function(t){var e=Io(t);return 1==e.length&&e[0][2]?Ro(e[0][0],e[0][1]):function(r){return r===t||To(r,t,e)}},zo=function(t){return"symbol"==typeof t||Xn(t)&&"[object Symbol]"==Cr(t)},Bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Go=/^\w*$/,Fo=function(t,e){if(In(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!zo(t))||Go.test(t)||!Bo.test(t)||null!=e&&t in Object(e)};function Uo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Uo.Cache||bn),r}Uo.Cache=bn;var Xo,Ho,Yo,Wo,Vo,Ko,Zo,qo,$o,Qo,Jo,ti,ei,ri,ni,oi,ii=Uo,ai=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ci=/\\(\\)?/g,ui=function(t){var e=ii(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ai,(function(t,r,n,o){e.push(n?o.replace(ci,"$1"):r||t)})),e})),si=Er?Er.prototype:void 0,li=si?si.toString:void 0,fi=function t(e){if("string"==typeof e)return e;if(In(e))return ur(e,t)+"";if(zo(e))return li?li.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r},pi=function(t){return null==t?"":fi(t)},di=function(t,e){return In(t)?t:Fo(t,e)?[t]:ui(pi(t))},hi=function(t){if("string"==typeof t||zo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},yi=function(t,e){for(var r=0,n=(e=di(e,t)).length;null!=t&&r<n;)t=t[hi(e[r++])];return r&&r==n?t:void 0},vi=function(t,e,r){var n=null==t?void 0:yi(t,e);return void 0===n?r:n},bi=function(t,e){return null!=t&&e in Object(t)},gi=function(t,e,r){for(var n=-1,o=(e=di(e,t)).length,i=!1;++n<o;){var a=hi(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&Qn(o)&&$n(a,o)&&(In(t)||Kn(t))},mi=function(t,e){return null!=t&&gi(t,e,bi)},Oi=function(t,e){return Fo(t)&&Co(e)?Ro(hi(t),e):function(r){var n=vi(r,t);return void 0===n&&n===e?mi(r,t):Do(e,n,3)}},xi=function(t){return t},wi=function(t){return function(e){return null==e?void 0:e[t]}},ji=function(t){return function(e){return yi(e,t)}},_i=function(t){return Fo(t)?wi(hi(t)):ji(t)},Ei=function(t){return"function"==typeof t?t:null==t?xi:"object"==typeof t?In(t)?Oi(t[0],t[1]):Lo(t):_i(t)},Si=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),c=a.length;c--;){var u=a[t?c:++o];if(!1===r(i[u],u,i))break}return e}}(),Pi=function(t,e){return function(r,n){if(null==r)return r;if(!ho(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(t,e){return t&&Si(t,e,yo)})),Ai=function(t,e){var r=-1,n=ho(t)?Array(t.length):[];return Pi(t,(function(t,o,i){n[++r]=e(t,o,i)})),n},ki=function(t,e){return(In(t)?ur:Ai)(t,Ei(e,3))},Ni=function(){try{var t=qr(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Mi=function(t,e,r){"__proto__"==e&&Ni?Ni(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Di=Object.prototype.hasOwnProperty,Ti=function(t,e,r){var n=t[e];Di.call(t,e)&&lr(n,r)&&(void 0!==r||e in t)||Mi(t,e,r)},Ci=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),o?Mi(r,c,u):Ti(r,c,u)}return r},Ii=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Ri=Math.max,Li=function(t,e,r){return e=Ri(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Ri(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r(a),Ii(t,this,c)}},zi=function(t){return function(){return t}},Bi=Ni?function(t,e){return Ni(t,"toString",{configurable:!0,enumerable:!1,value:zi(e),writable:!0})}:xi,Gi=Date.now,Fi=function(t){var e=0,r=0;return function(){var n=Gi(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Bi),Ui=function(t,e){return Fi(Li(t,e,xi),t+"")},Xi=function(t,e,r){if(!Ir(r))return!1;var n=typeof e;return!!("number"==n?ho(r)&&$n(e,r.length):"string"==n&&e in r)&&lr(r[e],t)},Hi=function(t){return Ui((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Xi(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var c=r[n];c&&t(e,c,n,i)}return e}))},Yi=Object.prototype.hasOwnProperty,Wi=Hi((function(t,e){if(uo(e)||ho(e))Ci(e,yo(e),t);else for(var r in e)Yi.call(e,r)&&Ti(t,r,e[r])})),Vi=function(t,e,r,n){if(!Ir(t))return t;for(var o=-1,i=(e=di(e,t)).length,a=i-1,c=t;null!=c&&++o<i;){var u=hi(e[o]),s=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var l=c[u];void 0===(s=n?n(l,u,c):void 0)&&(s=Ir(l)?l:$n(e[o+1])?[]:{})}Ti(c,u,s),c=c[u]}return t},Ki=function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],c=yi(t,a);r(c,a)&&Vi(i,di(a,t),c)}return i},Zi=function(t,e){return Ki(t,e,(function(e,r){return mi(t,r)}))},qi=Er?Er.isConcatSpreadable:void 0,$i=function(t){return In(t)||Kn(t)||!!(qi&&t&&t[qi])},Qi=function t(e,r,n,o,i){var a=-1,c=e.length;for(n||(n=$i),i||(i=[]);++a<c;){var u=e[a];r>0&&n(u)?r>1?t(u,r-1,n,o,i):Cn(i,u):o||(i[i.length]=u)}return i},Ji=function(t){return null!=t&&t.length?Qi(t,1):[]},ta=function(t){return Fi(Li(t,void 0,Ji),t+"")}((function(t,e){return null==t?{}:Zi(t,e)}));function ea(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function na(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oa(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ia,aa,ca,ua,sa,la,fa,pa,da,ha,ya,va,ba,ga,ma,Oa={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},xa=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"],wa=(Ho=oa((Xo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ea(this,"stopZoomGraph",Ho,this),ea(this,"stopScrollGraph",Yo,this),ea(this,"stopMoveGraph",Wo,this),ea(this,"adjustEdge",Vo,this),ea(this,"adjustEdgeStartAndEnd",Ko,this),ea(this,"adjustNodePosition",Zo,this),ea(this,"hideAnchors",qo,this),ea(this,"hoverOutline",$o,this),ea(this,"nodeSelectedOutline",Qo,this),ea(this,"edgeSelectedOutline",Jo,this),ea(this,"nodeTextEdit",ti,this),ea(this,"edgeTextEdit",ei,this),ea(this,"nodeTextDraggable",ri,this),ea(this,"edgeTextDraggable",ni,this),ea(this,"metaKeyMultipleSelected",oi,this),na(this,"extraConf",{}),na(this,"defaultConfig",{}),Wi(this,this.getConfigDetail(e))}var e,r,n;return e=t,(r=[{key:"updateEditConfig",value:function(t){var e=this.getConfigDetail(t);Wi(this,e)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,r=t.textEdit,n={};if(!1===e&&Wi(n,this.defaultConfig),!0===e){var o=ta(Oa,xa);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},Wi(n,o)}!1===r&&Wi(n,{nodeTextEdit:!1,edgeTextEdit:!1});var i=ta(t,xa);return Wi(n,i)}},{key:"getConfig",value:function(){return ta(this,xa)}}])&&ra(e.prototype,r),n&&ra(e,n),t}()).prototype,"stopZoomGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yo=oa(Xo.prototype,"stopScrollGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wo=oa(Xo.prototype,"stopMoveGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vo=oa(Xo.prototype,"adjustEdge",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ko=oa(Xo.prototype,"adjustEdgeStartAndEnd",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zo=oa(Xo.prototype,"adjustNodePosition",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qo=oa(Xo.prototype,"hideAnchors",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$o=oa(Xo.prototype,"hoverOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qo=oa(Xo.prototype,"nodeSelectedOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jo=oa(Xo.prototype,"edgeSelectedOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ti=oa(Xo.prototype,"nodeTextEdit",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ei=oa(Xo.prototype,"edgeTextEdit",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ri=oa(Xo.prototype,"nodeTextDraggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ni=oa(Xo.prototype,"edgeTextDraggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oi=oa(Xo.prototype,"metaKeyMultipleSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oa(Xo.prototype,"updateEditConfig",[f.i],Object.getOwnPropertyDescriptor(Xo.prototype,"updateEditConfig"),Xo.prototype),Xo);function ja(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ea(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Sa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aa(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}!function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(ia||(ia={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(aa||(aa={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(ca||(ca={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(ua||(ua={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(sa||(sa={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(la||(la={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"}(fa||(fa={}));var ka=(da=Aa((pa=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Pa(this,"MINI_SCALE_SIZE",.2),Pa(this,"MAX_SCALE_SIZE",16),Ea(this,"SCALE_X",da,this),Ea(this,"SKEW_Y",ha,this),Ea(this,"SKEW_X",ya,this),Ea(this,"SCALE_Y",va,this),Ea(this,"TRANSLATE_X",ba,this),Ea(this,"TRANSLATE_Y",ga,this),Ea(this,"ZOOM_SIZE",ma,this),Pa(this,"eventCenter",void 0),this.eventCenter=e}var e,r,n;return e=t,(r=[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=ja(t,2),r=e[0],n=e[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(n-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=ja(t,2),r=e[0],n=e[1];return[r*this.SCALE_X+this.TRANSLATE_X,n*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,r){var n=ja(t,2),o=n[0],i=n[1];return[o+e/this.SCALE_X,i+r/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"zoom",value:function(){var t=arguments.length>1?arguments[1]:void 0,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(e<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||e>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=e,this.SCALE_Y+=e,t&&(this.TRANSLATE_X-=e*t[0],this.TRANSLATE_Y-=e*t[1]),this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(sa.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,r,n){var o=ja(this.CanvasPointToHtmlPoint([t,e]),2),i=r/2-o[0],a=n/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}])&&Sa(e.prototype,r),n&&Sa(e,n),t}()).prototype,"SCALE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ha=Aa(pa.prototype,"SKEW_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ya=Aa(pa.prototype,"SKEW_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),va=Aa(pa.prototype,"SCALE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ba=Aa(pa.prototype,"TRANSLATE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ga=Aa(pa.prototype,"TRANSLATE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ma=Aa(pa.prototype,"ZOOM_SIZE",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Aa(pa.prototype,"zoom",[f.i],Object.getOwnPropertyDescriptor(pa.prototype,"zoom"),pa.prototype),Aa(pa.prototype,"resetZoom",[f.i],Object.getOwnPropertyDescriptor(pa.prototype,"resetZoom"),pa.prototype),Aa(pa.prototype,"translate",[f.i],Object.getOwnPropertyDescriptor(pa.prototype,"translate"),pa.prototype),Aa(pa.prototype,"focusOn",[f.i],Object.getOwnPropertyDescriptor(pa.prototype,"focusOn"),pa.prototype),pa),Na=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Ma=function(t,e){return t&&Ci(e,yo(e),t)},Da=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Ta=Object.prototype.hasOwnProperty,Ca=function(t){if(!Ir(t))return Da(t);var e=uo(t),r=[];for(var n in t)("constructor"!=n||!e&&Ta.call(t,n))&&r.push(n);return r},Ia=function(t){return ho(t)?ao(t,!0):Ca(t)},Ra=function(t,e){return t&&Ci(e,Ia(e),t)},La=r(139),za=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},Ba=function(t,e){return Ci(t,Fn(t),e)},Ga=so(Object.getPrototypeOf,Object),Fa=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Cn(e,Fn(t)),t=Ga(t);return e}:zn,Ua=function(t,e){return Ci(t,Fa(t),e)},Xa=function(t){return Rn(t,Ia,Fa)},Ha=Object.prototype.hasOwnProperty,Ya=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ha.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Wa=function(t){var e=new t.constructor(t.byteLength);return new An(e).set(new An(t)),e},Va=function(t,e){var r=e?Wa(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Ka=/\w*$/,Za=function(t){var e=new t.constructor(t.source,Ka.exec(t));return e.lastIndex=t.lastIndex,e},qa=Er?Er.prototype:void 0,$a=qa?qa.valueOf:void 0,Qa=function(t){return $a?Object($a.call(t)):{}},Ja=function(t,e){var r=e?Wa(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},tc=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Wa(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Va(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ja(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Za(t);case"[object Set]":return new n;case"[object Symbol]":return Qa(t)}},ec=Object.create,rc=function(){function t(){}return function(e){if(!Ir(e))return{};if(ec)return ec(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),nc=function(t){return"function"!=typeof t.constructor||uo(t)?{}:rc(Ga(t))},oc=function(t){return Xn(t)&&"[object Map]"==ko(t)},ic=ro.a&&ro.a.isMap,ac=ic?eo(ic):oc,cc=function(t){return Xn(t)&&"[object Set]"==ko(t)},uc=ro.a&&ro.a.isSet,sc=uc?eo(uc):cc,lc={};lc["[object Arguments]"]=lc["[object Array]"]=lc["[object ArrayBuffer]"]=lc["[object DataView]"]=lc["[object Boolean]"]=lc["[object Date]"]=lc["[object Float32Array]"]=lc["[object Float64Array]"]=lc["[object Int8Array]"]=lc["[object Int16Array]"]=lc["[object Int32Array]"]=lc["[object Map]"]=lc["[object Number]"]=lc["[object Object]"]=lc["[object RegExp]"]=lc["[object Set]"]=lc["[object String]"]=lc["[object Symbol]"]=lc["[object Uint8Array]"]=lc["[object Uint8ClampedArray]"]=lc["[object Uint16Array]"]=lc["[object Uint32Array]"]=!0,lc["[object Error]"]=lc["[object Function]"]=lc["[object WeakMap]"]=!1;var fc=function t(e,r,n,o,i,a){var c,u=1&r,s=2&r,l=4&r;if(n&&(c=i?n(e,o,i,a):n(e)),void 0!==c)return c;if(!Ir(e))return e;var f=In(e);if(f){if(c=Ya(e),!u)return za(e,c)}else{var p=ko(e),d="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(Zn.a)(e))return Object(La.a)(e,u);if("[object Object]"==p||"[object Arguments]"==p||d&&!i){if(c=s||d?{}:nc(e),!u)return s?Ua(e,Ra(c,e)):Ba(e,Ma(c,e))}else{if(!lc[p])return i?e:{};c=tc(e,p,u)}}a||(a=new On);var h=a.get(e);if(h)return h;a.set(e,c),sc(e)?e.forEach((function(o){c.add(t(o,r,n,o,e,a))})):ac(e)&&e.forEach((function(o,i){c.set(i,t(o,r,n,i,e,a))}));var y=f?void 0:(l?s?Xa:vo:s?Ia:yo)(e);return Na(y||e,(function(o,i){y&&(o=e[i=o]),Ti(c,i,t(o,r,n,i,e,a))})),c},pc=function(t){return fc(t,5)};function dc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dc(Object(r),!0).forEach((function(e){yc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vc={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},bc=hc(hc({},vc),{},{width:100,height:80,radius:0}),gc=hc(hc({},vc),{},{r:50}),mc=hc(hc({},vc),{},{rx:55,ry:45}),Oc=hc(hc({},vc),{},{rx:50,ry:50}),xc=hc({},vc),wc=hc(hc({},vc),{},{stroke:"#000000",strokeWidth:1,r:4}),jc={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},_c=hc({},jc),Ec=hc(hc({},jc),{},{offset:30}),Sc=hc(hc({},jc),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Pc={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Ac={rect:bc,circle:gc,diamond:Oc,ellipse:mc,polygon:xc,anchor:wc,text:Pc,nodeText:hc(hc({},Pc),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:_c,polyline:Ec,bezier:Sc,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1},edgeAdjust:{r:5,fill:"#32CD32",stroke:"#32CD32"}};function kc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kc(Object(r),!0).forEach((function(e){Mc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Dc=function(t){var e=pc(Ac);return t&&Object.keys(t).forEach((function(r){e[r]=Nc(Nc({},e[r]),t[r])})),e};function Tc(t,e){return e*Math.round(t/e)||t}function Cc(t,e){return t%e}function Ic(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lc,zc=function(t,e,r){var n=Ic(t,2),o=n[0],i=n[1],a=Ic(e,2),c=a[0],u=a[1],s=Ic(r,2),l=s[0],f=s[1];return o>c&&o<l&&i>u&&i<f},Bc=(r(31),r(41),r(52),r(63),r(136),r(137),r(64),r(9),r(10),r(11),r(34),new Uint8Array(16));function Gc(){if(!Lc&&!(Lc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lc(Bc)}for(var Fc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Uc=function(t){return"string"==typeof t&&Fc.test(t)},Xc=[],Hc=0;Hc<256;++Hc)Xc.push((Hc+256).toString(16).substr(1));var Yc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Xc[t[e+0]]+Xc[t[e+1]]+Xc[t[e+2]]+Xc[t[e+3]]+"-"+Xc[t[e+4]]+Xc[t[e+5]]+"-"+Xc[t[e+6]]+Xc[t[e+7]]+"-"+Xc[t[e+8]]+Xc[t[e+9]]+"-"+Xc[t[e+10]]+Xc[t[e+11]]+Xc[t[e+12]]+Xc[t[e+13]]+Xc[t[e+14]]+Xc[t[e+15]]).toLowerCase();if(!Uc(r))throw TypeError("Stringified UUID is invalid");return r},Wc=function(t,e,r){var n=(t=t||{}).random||(t.rng||Gc)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return Yc(n)},Vc=function(){return Wc()},Kc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.nodes.reduce((function(t,r){return t[r.id]=e+Wc(),r.id=t[r.id],t}),{});return t.edges.forEach((function(t){t.id=e+Wc(),t.sourceNodeId=r[t.sourceNodeId],t.targetNodeId=r[t.targetNodeId]})),t},Zc=(r(83),r(176),function(t,e,r){var n=t.x,o=t.y;return(n-e.x)*(n-r.x)<=0&&(o-e.y)*(o-r.y)<=0});function qc(t){return(qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $c,Qc,Jc,tu,eu,ru,nu,ou,iu,au,cu,uu,su,lu,fu,pu,du,hu,yu,vu,bu,gu,mu,Ou,xu=function(t){return t.anchors},wu=function(t,e){for(var r,n=e.length-1;n>=0;n--)if(Su(t,e[n])){var o=ju(t,e[n]);if(o){r={node:e[n],anchorIndex:o.index,anchor:o.anchor};break}}return r},ju=function(t,e){for(var r,n=xu(e),o=Number.MAX_SAFE_INTEGER,i=0;i<n.length;i++){var a=_u(t.x,t.y,n[i].x,n[i].y);a<o&&(o=a,r={index:i,anchor:{x:n[i].x,y:n[i].y,id:n[i].id}})}return r},_u=function(t,e,r,n){return Math.hypot(t-r,e-n)},Eu=function(t,e){var r=!1,n=Pu(e);return t.x>=n.minX-0&&t.x<=n.maxX+0&&t.y>=n.minY-0&&t.y<=n.maxY+0&&(r=!0),r},Su=function(t,e){var r=!1,n=Pu(e);return t.x>=n.minX-5&&t.x<=n.maxX+5&&t.y>=n.minY-5&&t.y<=n.maxY+5&&(r=!0),r},Pu=function(t){var e=t.x,r=t.y,n=t.width,o=t.height;return{minX:e-n/2,minY:r-o/2,maxX:e+n/2,maxY:r+o/2,x:e,y:r,width:n,height:o,centerX:e,centerY:r}},Au=function(t,e,r){var n,o=function(t){var e=t,r=e.x,n=e.y,o=e.width,i=e.height,a=e.radius;return[{x:r-o/2+a,y:n-i/2+a,r:a},{x:r+o/2-a,y:n-i/2+a,r:a},{x:r-o/2+a,y:n+i/2-a,r:a},{x:r+o/2-a,y:n+i/2-a,r:a}]}(r),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(e){var r=_u(t.x,t.y,e.x,e.y);r<i&&(i=r,n=e)})),ku(t,e,n)},ku=function(t,e,r){var n,o=r,i=o.x,a=o.y,c=o.r;if(e===la.HORIZONTAL){var u=i-Math.sqrt(c*c-(t.y-a)*(t.y-a)),s=i+Math.sqrt(c*c-(t.y-a)*(t.y-a));n={x:Math.abs(u-t.x)<Math.abs(s-t.x)?u:s,y:t.y}}else if(e===la.VERTICAL){var l=a-Math.sqrt(c*c-(t.x-i)*(t.x-i)),f=a+Math.sqrt(c*c-(t.x-i)*(t.x-i)),p=Math.abs(l-t.y)<Math.abs(f-t.y)?l:f;n={x:t.x,y:p}}return n},Nu=function(t,e){var r=e,n=!1,o=r.x-r.width/2+r.radius,i=r.x+r.width/2-r.radius,a=r.y-r.height/2+r.radius,c=r.y+r.height/2-r.radius,u=r.x,s=r.y,l=r.width,f=r.height;return t.y===s+f/2||t.y===s-f/2?n=t.x>o&&t.x<i:t.x!==u+l/2&&t.x!==u-l/2||(n=t.y>a&&t.y<c),n},Mu=function(t,e,r){var n,o=r,i=o.x,a=o.y,c=o.rx,u=o.ry;if(e===la.HORIZONTAL){var s=i-Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(u*u)),l=i+Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(u*u));n={x:Math.abs(s-t.x)<Math.abs(l-t.x)?s:l,y:t.y}}else if(e===la.VERTICAL){var f=a-Math.sqrt(u*u-(t.x-i)*(t.x-i)*u*u/(c*c)),p=a+Math.sqrt(u*u-(t.x-i)*(t.x-i)*u*u/(c*c)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;n={x:t.x,y:d}}return n},Du=function(t,e,r){for(var n,o=r.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],c=0;c<o.length;c++)a.push({start:o[c],end:o[(c+1)%o.length]});return a.forEach((function(r){var o=r.start,a=r.end,c=o,u=a;o.x>a.x&&(c=a,u=o);var s,l=(u.y-c.y)/(u.x-c.x),f=(c.x*u.y-u.x*c.y)/(c.x-u.x);if(l>Number.MAX_SAFE_INTEGER||f>Number.MAX_SAFE_INTEGER?s={x:t.x,y:t.y}:e===la.HORIZONTAL?s={x:(t.y-f)/l,y:t.y}:e===la.VERTICAL&&(s={x:t.x,y:l*t.x+f}),Zc(s,o,a)){var p=_u(s.x,s.y,t.x,t.y);p<i&&(i=p,n=s)}})),n},Tu=function(t,e,r,n){var o=t.x,i=t.y;return e.x>t.x?o=t.x+r/2:e.x<t.x&&(o=t.x-r/2),e.y>t.y?i=t.y+n/2:e.y<t.y&&(i=t.y-n/2),{x:o,y:i}},Cu=function(t){var e=t.rows,r=t.style,n=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=r.fontSize,i.style.width=r.width,i.className=o,i.style.lineHeight=r.lineHeight,i.style.padding=r.padding,r.fontFamily&&(i.style.fontFamily=r.fontFamily),n>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},Iu=function(t){var e=t.rows,r=t.rowsLength,n=t.fontSize,o=0;return e&&e.forEach((function(t){var e=$s(t);o=e>o?e:o})),{width:Math.ceil(o/2)*n+n/4,height:r*(n+2)+n/4}},Ru=function(t){return"object"!==qc(t)?{isAllPass:!!t,msg:t?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:t},Lu=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},zu=1e3,Bu=999,Gu=function(){return++zu};function Fu(t){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uu(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Xu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hu(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function Yu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vu=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yu(Object(r),!0).forEach((function(e){Wu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},Ac.line),Ku=(Qc=Hu(($c=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wu(this,"id",Vc()),Wu(this,"BaseType",ua.EDGE),Uu(this,"state",Qc,this),Wu(this,"modelType",ca.EDGE),Wu(this,"additionStateData",void 0),Wu(this,"graphModel",void 0),Wu(this,"menu",void 0),Wu(this,"sourceAnchorId",Vu.sourceAnchorId),Wu(this,"targetAnchorId",Vu.targetAnchorId),Wu(this,"customTextPosition",!1),Uu(this,"text",Jc,this),Uu(this,"type",tu,this),Uu(this,"properties",eu,this),Uu(this,"sourceNodeId",ru,this),Uu(this,"targetNodeId",nu,this),Uu(this,"startPoint",ou,this),Uu(this,"endPoint",iu,this),Uu(this,"strokeWidth",au,this),Uu(this,"stroke",cu,this),Uu(this,"strokeDashArray",uu,this),Uu(this,"outlineColor",su,this),Uu(this,"outlineStrokeDashArray",lu,this),Uu(this,"strokeOpacity",fu,this),Uu(this,"zIndex",pu,this),Uu(this,"isSelected",du,this),Uu(this,"isHovered",hu,this),Uu(this,"isHitable",yu,this),Uu(this,"hoverStroke",vu,this),Uu(this,"selectedStroke",bu,this),Uu(this,"points",gu,this),Uu(this,"pointsList",mu,this),Uu(this,"draggable",Ou,this),this.graphModel=r,this.setStyleFromTheme(n,r),this.initEdgeData(e),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(e)}var e,r,n;return e=t,(r=[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,r=e&&e();r&&(t.id=r);var n=this.createId();n&&(t.id=n)}Wi(this,rl(t)),this.graphModel.overlapMode===fa.INCREASE&&(this.zIndex=t.zIndex||Gu())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(t,e){var r,n;return xu(t).forEach((function(t){var o=nl(t,e);n?o<n&&(n=o,r=t):(n=o,r=t)})),r}},{key:"getEndAnchor",value:function(t){var e,r,n=this;return xu(t).forEach((function(t){var o=nl(t,n.startPoint);r?o<r&&(r=o,e=t):(r=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(f.G)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,r=t.y,n=t.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.G)(this.properties)};return n&&(o.text={x:e,y:r,value:n}),this.graphModel.overlapMode===fa.INCREASE&&(o.zIndex=this.zIndex),o}},{key:"setProperty",value:function(t,e){this.properties[t]=Lu(e)}},{key:"setProperties",value:function(t){Object.assign(this.properties,t)}},{key:"updateData",value:function(t){var e=Lu(ta(t,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),r=this.text,n=r.x,o=r.y,i=r.draggable,a=r.editable;if(e.text&&"string"==typeof e.text){var c={value:e.text,draggable:i,editable:a},u=this.textPosition;e.text=n||o?Object.assign({},c,{x:n,y:o}):Object.assign({},c,u)}else if("object"===Fu(e.text)){var s=Object.assign({},this.text,e.text);e.text=ta(s,"x","y","value","draggable","editable")}Wi(this,e)}},{key:"formatText",value:function(t){var e=this.textPosition,r=e.x,n=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||r,y:t.text.y||n,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:r,y:n,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x,r=t.y;this.text.x=e,this.text.y=r}},{key:"moveText",value:function(t,e){if(this.text){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,c=r.editable;this.text={value:i,draggable:a,x:n+t,y:o+e,editable:c}}}},{key:"setText",value:function(t){t&&Wi(this.text,t)}},{key:"updateText",value:function(t){var e=this.text,r=e.x,n=e.y,o=e.draggable,i=e.editable;this.text={x:r,y:n,draggable:o,editable:i,value:t}}},{key:"setAnchors",value:function(){if(!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=t}if(!this.endPoint){var e=this.getEndAnchor(this.targetNode);this.endPoint=e}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStroke",value:function(t){this.stroke=t}},{key:"updateStrokeWidth",value:function(t){this.strokeWidth=t}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"setStyleFromTheme",value:function(t,e){var r=e.theme;r[t]&&Wi(this,r[t])}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu.zIndex;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Wi(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,r=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:r.x,y:r.y})}}])&&Xu(e.prototype,r),n&&Xu(e,n),t}()).prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Jc=Hu($c.prototype,"text",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.text}}),tu=Hu($c.prototype,"type",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),eu=Hu($c.prototype,"properties",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ru=Hu($c.prototype,"sourceNodeId",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.sourceNodeId}}),nu=Hu($c.prototype,"targetNodeId",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.targetNodeId}}),ou=Hu($c.prototype,"startPoint",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.startPoint}}),iu=Hu($c.prototype,"endPoint",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.endPoint}}),au=Hu($c.prototype,"strokeWidth",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.strokeWidth}}),cu=Hu($c.prototype,"stroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.stroke}}),uu=Hu($c.prototype,"strokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.strokeDashArray}}),su=Hu($c.prototype,"outlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.outlineColor}}),lu=Hu($c.prototype,"outlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.outlineStrokeDashArray}}),fu=Hu($c.prototype,"strokeOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.strokeOpacity}}),pu=Hu($c.prototype,"zIndex",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.zIndex}}),du=Hu($c.prototype,"isSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.isSelected}}),hu=Hu($c.prototype,"isHovered",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.isHovered}}),yu=Hu($c.prototype,"isHitable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vu=Hu($c.prototype,"hoverStroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.hoverStroke}}),bu=Hu($c.prototype,"selectedStroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.selectedStroke}}),gu=Hu($c.prototype,"points",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.points}}),mu=Hu($c.prototype,"pointsList",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vu.pointsList}}),Ou=Hu($c.prototype,"draggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hu($c.prototype,"sourceNode",[f.k],Object.getOwnPropertyDescriptor($c.prototype,"sourceNode"),$c.prototype),Hu($c.prototype,"targetNode",[f.k],Object.getOwnPropertyDescriptor($c.prototype,"targetNode"),$c.prototype),Hu($c.prototype,"textPosition",[f.k],Object.getOwnPropertyDescriptor($c.prototype,"textPosition"),$c.prototype),Hu($c.prototype,"setProperty",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setProperty"),$c.prototype),Hu($c.prototype,"setProperties",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setProperties"),$c.prototype),Hu($c.prototype,"updateData",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateData"),$c.prototype),Hu($c.prototype,"formatText",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"formatText"),$c.prototype),Hu($c.prototype,"resetTextPosition",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"resetTextPosition"),$c.prototype),Hu($c.prototype,"moveText",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"moveText"),$c.prototype),Hu($c.prototype,"setText",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setText"),$c.prototype),Hu($c.prototype,"updateText",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateText"),$c.prototype),Hu($c.prototype,"setAnchors",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setAnchors"),$c.prototype),Hu($c.prototype,"setSelected",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setSelected"),$c.prototype),Hu($c.prototype,"setHovered",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setHovered"),$c.prototype),Hu($c.prototype,"setHitable",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setHitable"),$c.prototype),Hu($c.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setElementState"),$c.prototype),Hu($c.prototype,"updateStroke",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateStroke"),$c.prototype),Hu($c.prototype,"updateStrokeWidth",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateStrokeWidth"),$c.prototype),Hu($c.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateStartPoint"),$c.prototype),Hu($c.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateEndPoint"),$c.prototype),Hu($c.prototype,"setStyleFromTheme",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setStyleFromTheme"),$c.prototype),Hu($c.prototype,"setZIndex",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"setZIndex"),$c.prototype),Hu($c.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"initPoints"),$c.prototype),Hu($c.prototype,"updateAttributes",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateAttributes"),$c.prototype),Hu($c.prototype,"getAdjustStart",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"getAdjustStart"),$c.prototype),Hu($c.prototype,"getAdjustEnd",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"getAdjustEnd"),$c.prototype),Hu($c.prototype,"updateAfterAdjustStartAndEnd",[f.i],Object.getOwnPropertyDescriptor($c.prototype,"updateAfterAdjustStartAndEnd"),$c.prototype),$c),Zu=Ku;function qu(t){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qu(t,e){return(Qu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rs(t);if(e){var o=rs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ts(this,r)}}function ts(t,e){if(e&&("object"===qu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return es(t)}function es(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ns,os,is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qu(t,e)}(i,t);var e,r,n,o=Ju(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=es(r=o.call(this,t,e,"line")),a="modelType",c=ca.LINE_EDGE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,r}return e=i,(r=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&$u(e.prototype,r),n&&$u(e,n),i}(Zu);function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return us(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?us(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ss(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ls(t,e,r){return(ls="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ys(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function fs(t,e){return(fs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ps(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ys(t);if(e){var o=ys(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ds(this,r)}}function ds(t,e){if(e&&("object"===as(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hs(t)}function hs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bs(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}r(37),r(84);var gs=(os=bs((ns=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fs(t,e)}(i,t);var e,r,n,o=ps(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),vs(hs(r=o.call(this,t,e,"polyline")),"modelType",ca.POLYLINE_EDGE),vs(hs(r),"offset",Ac.polyline.offset),vs(hs(r),"draginngPointList",void 0),function(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(hs(r),"dbClickPosition",os,hs(r)),r}return e=i,(r=[{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var r=this.dbClickPosition;return{x:r.x,y:r.y}}var n=Ks(this.points),o=cs(Xs(n),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(t,e,r){var n,o;return r.forEach((function(r){var i;t===la.HORIZONTAL?i=Math.abs(e.y-r.y):t===la.VERTICAL&&(i=Math.abs(e.x-r.x)),(!o||o>i)&&(o=i,n=r)})),n}},{key:"getCorssPoint",value:function(t,e,r){var n;return t===la.HORIZONTAL?n={x:r.x,y:e.y}:t===la.VERTICAL&&(n={x:e.x,y:r.y}),n}},{key:"removeCrossPoints",value:function(t,e,r){var n=r.map((function(t){return t}));if(1===t){var o=n[t],i=n[e],a=n[t-1];if(Hs(a,o,this.sourceNode)){if(Ys(o,i,this.sourceNode)){var c=Ws(o,i,this.sourceNode);c&&(n[t]=c,n.splice(t-1,1),t--,e--)}}else this.sourceNode.anchors.forEach((function(e){(e.x===a.x&&e.x===o.x||e.y===a.y&&e.y===o.y)&&_u(e.x,e.y,o.x,o.y)<_u(a.x,a.y,o.x,o.y)&&(n[t-1]=e)}))}if(e===r.length-2){var u=n[t],s=n[e],l=n[e+1];if(Hs(s,l,this.targetNode)){if(Ys(u,s,this.targetNode)){var f=Ws(u,s,this.targetNode);f&&(n[e]=f,n.splice(e+1,1))}}else this.targetNode.anchors.forEach((function(t){(t.x===l.x&&t.x===s.x||t.y===l.y&&t.y===s.y)&&_u(t.x,t.y,s.x,s.y)<_u(l.x,l.y,s.x,s.y)&&(n[e+1]=t)}))}return n}},{key:"getDragingPoints",value:function(t,e,r,n,o){var i=o.map((function(t){return t})),a=this.getAfterAnchor(t,r,n),c=this.getCorssPoint(t,r,a);return"start"===e?(i.unshift(c),i.unshift(a)):(i.push(c),i.push(a)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),r=t[0],n=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,c=this.targetNode,u=a.modelType,s=c.modelType,l=Vs(r,n),f=e[0];switch(u){case ca.RECT_NODE:0!==a.radius&&(Nu(r,a)||(f=Au(r,l,a)));break;case ca.CIRCLE_NODE:f=ku(r,l,a);break;case ca.ELLIPSE_NODE:f=Mu(r,l,a);break;case ca.DIAMOND_NODE:case ca.POLYGON_NODE:f=Du(r,l,a)}e[0]=f;var p=Vs(o,i),d=e[e.length-1];switch(s){case ca.RECT_NODE:0!==c.radius&&(Nu(i,c)||(d=Au(i,p,c)));break;case ca.CIRCLE_NODE:d=ku(i,p,c);break;case ca.ELLIPSE_NODE:d=Mu(i,p,c);break;case ca.DIAMOND_NODE:case ca.POLYGON_NODE:d=Du(i,p,c)}return e[e.length-1]=d,e}},{key:"getData",value:function(){var t=ls(ys(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=Us({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppend",value:function(t,e){var r=t.start,n=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,c=this.pointsList;if(a===la.HORIZONTAL){c[o]={x:r.x,y:r.y+e.y},c[i]={x:n.x,y:n.y+e.y};var u=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(u=this.removeCrossPoints(o,i,u)),0===o){var s={x:r.x,y:r.y+e.y};if(!Eu(s,this.sourceNode)){var l=this.sourceNode.anchors;u=this.getDragingPoints(a,"start",s,l,u)}}if(i===this.pointsList.length-1){var f={x:n.x,y:n.y+e.y};if(!Eu(f,this.targetNode)){var p=this.targetNode.anchors;u=this.getDragingPoints(a,"end",f,p,u)}}u=Fs(u),this.updatePointsAfterDrage(u),this.draginngPointList=u}else if(a===la.VERTICAL){c[o]={x:r.x+e.x,y:r.y},c[i]={x:n.x+e.x,y:n.y};var d=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:r.x+e.x,y:r.y};if(!Eu(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:n.x+e.x,y:n.y};if(!Eu(v,this.targetNode)){var b=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,b,d)}}d=Fs(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var t=Ks(this.points);this.pointsList=t.map((function(t){return t})),this.draginngPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var r=t[t.length-1];this.endPoint=Object.assign({},r)}}},{key:"updatePointsAfterDrage",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,r=t.endPoint,n=t.sourceNode,o=t.targetNode,i=Us({x:e.x,y:e.y},{x:r.x,y:r.y},n,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&ss(e.prototype,r),n&&ss(e,n),i}(Zu)).prototype,"dbClickPosition",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bs(ns.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"initPoints"),ns.prototype),bs(ns.prototype,"updatePoints",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"updatePoints"),ns.prototype),bs(ns.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"updateStartPoint"),ns.prototype),bs(ns.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"updateEndPoint"),ns.prototype),bs(ns.prototype,"dragAppendStart",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"dragAppendStart"),ns.prototype),bs(ns.prototype,"dragAppend",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"dragAppend"),ns.prototype),bs(ns.prototype,"dragAppendEnd",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"dragAppendEnd"),ns.prototype),bs(ns.prototype,"updatePointsAfterDrage",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"updatePointsAfterDrage"),ns.prototype),bs(ns.prototype,"getAdjustStart",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"getAdjustStart"),ns.prototype),bs(ns.prototype,"getAdjustEnd",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"getAdjustEnd"),ns.prototype),bs(ns.prototype,"updateAfterAdjustStartAndEnd",[f.i],Object.getOwnPropertyDescriptor(ns.prototype,"updateAfterAdjustStartAndEnd"),ns.prototype),ns),ms=function(t){var e=t.start,r=t.end,n=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((r.y-e.y)/(r.x-e.x)),u=Math.atan(n/o),s=Math.sqrt(o*o+n*n);return"start"===i?r.x>=e.x?(a.leftX=e.x+s*Math.sin(c+u),a.leftY=e.y-s*Math.cos(c+u),a.rightX=e.x-s*Math.sin(c-u),a.rightY=e.y+s*Math.cos(c-u)):(a.leftX=e.x-s*Math.sin(c+u),a.leftY=e.y+s*Math.cos(c+u),a.rightX=e.x+s*Math.sin(c-u),a.rightY=e.y-s*Math.cos(c-u)):"end"===i&&(r.x>=e.x?(a.leftX=r.x+s*Math.sin(c-u),a.leftY=r.y-s*Math.cos(c-u),a.rightX=r.x-s*Math.sin(c+u),a.rightY=r.y+s*Math.cos(c+u)):(a.leftX=r.x-s*Math.sin(c-u),a.leftY=r.y+s*Math.cos(c-u),a.rightX=r.x+s*Math.sin(c+u),a.rightY=r.y-s*Math.cos(c+u))),a};function Os(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Os(Object(r),!0).forEach((function(e){ws(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Os(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ws(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function js(t){return function(t){if(Array.isArray(t))return Ps(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ss(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(t){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Es(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||Ss(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(t,e){if(t){if("string"==typeof t)return Ps(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ps(t,e):void 0}}function Ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var As=function(t){var e=[],r={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,r[e]=t})),Object.keys(r).forEach((function(t){e.push(r[t])})),e},ks=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Ns=function(t,e){return function(t,e){var r=Math.abs(t.x-e.centerX),n=Math.abs(t.y-e.centerY);return r/e.width>n/e.height?la.HORIZONTAL:la.VERTICAL}(e,t)===la.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Ms=function(t,e){var r=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(r+o)/2,centerY:(n+i)/2,minX:r,minY:n,maxX:o,maxY:i,height:i-n,width:o-r}},Ds=function(){var t=arguments.length>1?arguments[1]:void 0,e=[],r=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){e.push(t.x),r.push(t.y)}));var n=Math.min.apply(Math,e),o=Math.max.apply(Math,e),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),c=o-n,u=a-i;return t&&(c+=t,u+=t),{centerX:(n+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:n,minY:i,x:(n+o)/2,y:(i+a)/2,height:u,width:c}},Ts=function(t){var e=t.minX,r=t.minY,n=t.maxX,o=t.maxY;return[{x:e,y:r},{x:n,y:r},{x:n,y:o},{x:e,y:o}]},Cs=function(t,e){var r=t.x,n=t.y;return r<e.minX||r>e.maxX||n<e.minY||n>e.maxY},Is=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Rs=function(t,e,r,n,o){return Is(t,e)+Is(t,r)+function(t,e){var r=0;return e.forEach((function(e){e&&(t.x===e.x&&(r+=-2),t.y===e.y&&(r+=-2))})),r}(t,[e,r,n,o])},Ls=function(t,e,r,n){var o=e.x-t.x,i=e.y-t.y,a=n.x-r.x,c=n.y-r.y,u=(-i*(t.x-r.x)+o*(t.y-r.y))/(-a*i+o*c),s=(a*(t.y-r.y)-c*(t.x-r.x))/(-a*i+o*c);return u>=0&&u<=1&&s>=0&&s<=1},zs=function(t,e,r){if(0===r.width&&0===r.height)return!1;var n=Es(Ts(r),4),o=n[0],i=n[1],a=n[2],c=n[3];return Ls(t,e,o,i)||Ls(t,e,o,c)||Ls(t,e,i,a)||Ls(t,e,a,c)},Bs=function(t,e,r,n,o,i,a){var c=[],u=[e],s={},l={},f={};l[e.id]=0,f[e.id]=Rs(e,r,e);var p={};t.forEach((function(t){p[t.id]=t}));for(var d=function(){var d,h,y,v=void 0,b=1/0;if(u.forEach((function(t){f[t.id]<b&&(b=f[t.id],v=t)})),v===r){var g=[];return function t(e,r,n,o,i){i||(i=0),e.unshift(r[o]),n[o]&&n[o]!==o&&i<=100&&t(e,r,n,n[o],i+1)}(g,p,s,r.id),{v:g}}h=v,(y=(d=u).indexOf(h))>-1&&d.splice(y,1),c.push(v),function(t,e,r,n){var o=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||zs(t,e,r)||zs(t,e,n)||o.push(t))})),As(o)}(t,v,n,o).forEach((function(t){if(-1===c.indexOf(t)){-1===u.indexOf(t)&&u.push(t);var n=f[v.id]+Is(v,t);l[t.id]&&n>=l[t.id]||(s[t.id]=v.id,l[t.id]=n,f[t.id]=l[t.id]+Rs(t,r,e,i,a))}}))};u.length;){var h=d();if("object"===_s(h))return h.v}return[e,r]},Gs=function(t){return Pu(t)},Fs=function(t){for(var e=t,r=1;r<e.length-1;){var n=e[r-1],o=e[r],i=e[r+1];n.x===o.x&&o.x===i.x||n.y===o.y&&o.y===i.y?e.splice(r,1):r++}return e},Us=function(t,e,r,n,o){var i,a,c=Gs(r),u=Gs(n),s=ks(c,o),l=ks(u,o),f=Ns(s,t),p=Ns(l,e);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=Zs(t,e,f,p);return[t,f].concat(js(d),[p,e])}var h=Ds([f,p]),y=Ms(s,h),v=Ms(l,h),b=[];b=(b=b.concat(Ts(y))).concat(Ts(v));var g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[h,y,v].forEach((function(t){b=b.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,g).filter((function(t){return Cs(t,s)&&Cs(t,l)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(t){Cs(t,s)&&Cs(t,l)&&b.push(t)})),b.unshift(f),b.push(p),b=As(b);var m=Bs(b,f,p,c,u,t,e);return m.unshift(t),m.push(e),m.length>2&&(m=Fs(m)),As(m)},Xs=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var r=t[0],n=t[1],o=_u(r.x,r.y,n.x,n.y),i=1;i<t.length-1;i++){var a=t[i],c=t[i+1],u=_u(a.x,a.y,c.x,c.y);u>o&&(o=u,r=a,n=c)}e=[r,n]}return e},Hs=function(t,e,r){var n=Eu(t,r),o=Eu(e,r);return n&&o},Ys=function(t,e,r){var n=Eu(t,r),o=Eu(e,r);return!(n&&o)&&(n||o)},Ws=function(t,e,r){for(var n,o,i=Pu(r),a=Ts(i),c=0;c<a.length;c++)Ls(t,e,a[c],a[(c+1)%a.length])&&(o=[a[c],a[(c+1)%a.length]]);return o&&(n=function(t,e,r,n){var o=(e.y-t.y)*(n.x-r.x)-(t.x-e.x)*(r.y-n.y);if(0===o)return!1;var i=((e.x-t.x)*(n.x-r.x)*(r.y-t.y)+(e.y-t.y)*(n.x-r.x)*t.x-(n.y-r.y)*(e.x-t.x)*r.x)/o,a=-((e.y-t.y)*(n.y-r.y)*(r.x-t.x)+(e.x-t.x)*(n.y-r.y)*t.y-(n.x-r.x)*(e.y-t.y)*r.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-r.x)*(i-n.x)<=0&&(a-r.y)*(a-n.y)<=0&&{x:i,y:a}}(t,e,o[0],o[1])),n},Vs=function(t,e){var r;return t.x===e.x?r=la.VERTICAL:t.y===e.y&&(r=la.HORIZONTAL),r},Ks=function(t){var e=t.split(" "),r=[];return e&&e.forEach((function(t){var e=Es(t.split(","),2),n=e[0],o=e[1];r.push({x:Number(n),y:Number(o)})})),r},Zs=function(t,e,r,n){var o=[];if(Vs(t,r)===Vs(e,n))t.y===r.y?(o.push({x:r.x,y:(r.y+n.y)/2}),o.push({x:n.x,y:(r.y+n.y)/2})):(o.push({x:(r.x+n.x)/2,y:r.y}),o.push({x:(r.x+n.x)/2,y:n.y}));else{var i={x:r.x,y:n.y},a=Zc(i,t,r),c=Zc(i,e,n);if(a||c)i={x:n.x,y:r.y};else{var u=qs(i,t,r),s=qs(i,e,n);u&&s&&(i={x:n.x,y:r.y})}o.push(i)}return o},qs=function(t,e,r){return t.x===e.x&&t.x===r.x||t.y===e.y&&t.y===r.y},$s=function(t){if(!t)return 0;for(var e=0,r=0;r<t.length;r++){var n=t.charCodeAt(r);t.match(/[A-Z]/)?e+=1.5:e+=n>=1&&n<=126||n>=65376&&n<=65439?1:2}return e},Qs=function(t){var e=t.start,r=t.end,n=t.sourceNode,o=t.targetNode,i=t.offset,a=Pu(n),c=Pu(o),u=ks(a,i),s=ks(c,i);return{sNext:Ns(u,e),ePre:Ns(s,r)}},Js=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[tl(e[0]),tl(e[1]),tl(e[2]),tl(e[3])]},tl=function(t){var e=Es(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},el=function(t,e){for(var r,n=t.x,o=t.y,i=Ks(e),a=Number.MAX_SAFE_INTEGER,c=[],u=0;u<i.length;u++)c.push({start:i[u],end:i[(u+1)%i.length]});if(c.forEach((function(t){var e=t.start,i=t.end;if(e.x===i.x){var c={x:e.x,y:o};if(Zc(c,e,i)){var u=Math.abs(e.x-n);u<a&&(a=u,r=c)}}else if(e.y===i.y){var s={x:n,y:e.y};if(Zc(s,e,i)){var l=Math.abs(e.y-o);l<a&&(a=l,r=s)}}})),!r){var s=c[0],l=s.start,f=s.end;r={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return r},rl=function(t){return ta(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},nl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},ol=function(){};function il(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function al(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cl=window.document;function ul(t){var e=t.onDragStart,r=void 0===e?ol:e,n=t.onDraging,o=void 0===n?ol:n,i=t.onDragEnd,a=void 0===i?ol:i,c=t.step,u=void 0===c?1:c,s=t.isStopPropagation,l=void 0===s||s,f=!1,p=!1,d=0,h=0,y=0,v=0;function b(t){if(l&&t.stopPropagation(),p&&(f=!0,y+=t.clientX-d,v+=t.clientY-h,d=t.clientX,h=t.clientY,Math.abs(y)>u||Math.abs(v)>u)){var e=y%u,r=v%u,n=y-e,i=v-r;y=e,v=r,o({deltaX:n,deltaY:i,event:t})}}function g(t){if(l&&t.stopPropagation(),p=!1,cl.removeEventListener("mousemove",b,!1),cl.removeEventListener("mouseup",g,!1),f)return f=!1,a({event:t})}return function(t){if(0===t.button)return l&&t.stopPropagation(),p=!0,d=t.clientX,h=t.clientY,cl.addEventListener("mousemove",b,!1),cl.addEventListener("mouseup",g,!1),r({event:t})}}var sl,ll,fl,pl,dl,hl,yl,vl,bl,gl,ml,Ol,xl,wl,jl,_l,El,Sl,Pl=function(){function t(e){var r=this,n=e.onDragStart,o=void 0===n?ol:n,i=e.onDraging,a=void 0===i?ol:i,c=e.onDragEnd,u=void 0===c?ol:c,s=e.eventType,l=void 0===s?"":s,f=e.eventCenter,p=void 0===f?null:f,d=e.step,h=void 0===d?1:d,y=e.isStopPropagation,v=void 0===y||y,b=e.model,g=void 0===b?null:b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,"onDragStart",void 0),al(this,"onDraging",void 0),al(this,"onDragEnd",void 0),al(this,"step",void 0),al(this,"isStopPropagation",void 0),al(this,"isDraging",!1),al(this,"isStartDraging",!1),al(this,"startX",0),al(this,"startY",0),al(this,"sumDeltaX",0),al(this,"sumDeltaY",0),al(this,"eventType",void 0),al(this,"eventCenter",void 0),al(this,"model",void 0),al(this,"startTime",void 0),al(this,"isGrag",void 0),al(this,"handleMouseDown",(function(t){var e,n,o;if(0===t.button){r.isStopPropagation&&t.stopPropagation(),r.isStartDraging=!0,r.startX=t.clientX,r.startY=t.clientY,cl.addEventListener("mousemove",r.handleMouseMove,!1),cl.addEventListener("mouseup",r.handleMouseUp,!1),r.onDragStart({event:t});var i=null===(e=r.model)||void 0===e?void 0:e.getData();null===(n=r.eventCenter)||void 0===n||n.emit(sa["".concat(r.eventType,"_MOUSEDOWN")],{e:t,data:i}),null===(o=r.eventCenter)||void 0===o||o.emit(sa["".concat(r.eventType,"_DRAGSTART")],{e:t,data:i}),r.startTime=(new Date).getTime()}})),al(this,"handleMouseMove",(function(t){if(r.isStopPropagation&&t.stopPropagation(),r.isStartDraging&&(r.isDraging=!0,r.sumDeltaX+=t.clientX-r.startX,r.sumDeltaY+=t.clientY-r.startY,r.startX=t.clientX,r.startY=t.clientY,Math.abs(r.sumDeltaX)>r.step||Math.abs(r.sumDeltaY)>r.step)){var e,n,o,i=r.sumDeltaX%r.step,a=r.sumDeltaY%r.step,c=r.sumDeltaX-i,u=r.sumDeltaY-a;r.sumDeltaX=i,r.sumDeltaY=a,r.onDraging({deltaX:c,deltaY:u,event:t});var s=null===(e=r.model)||void 0===e?void 0:e.getData();null===(n=r.eventCenter)||void 0===n||n.emit(sa["".concat(r.eventType,"_MOUSEMOVE")],{e:t,data:s}),null===(o=r.eventCenter)||void 0===o||o.emit(sa["".concat(r.eventType,"_DRAG")],{e:t,data:s})}})),al(this,"handleMouseUp",(function(t){var e,n,o;if(r.isStartDraging=!1,r.isStopPropagation&&t.stopPropagation(),cl.removeEventListener("mousemove",r.handleMouseMove,!1),cl.removeEventListener("mouseup",r.handleMouseUp,!1),r.isDraging){r.isDraging=!1,r.onDragEnd({event:t});var i=null===(e=r.model)||void 0===e?void 0:e.getData();null===(n=r.eventCenter)||void 0===n||n.emit(sa["".concat(r.eventType,"_MOUSEUP")],{e:t,data:i}),null===(o=r.eventCenter)||void 0===o||o.emit(sa["".concat(r.eventType,"_DROP")],{e:t,data:i})}})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=u,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=g}var e,r,n;return e=t,(r=[{key:"setStep",value:function(t){this.step=t}}])&&il(e.prototype,r),n&&il(e,n),t}();function Al(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Al(Object(r),!0).forEach((function(e){Cl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Al(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Nl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ml(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ml(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dl(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Tl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Il(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Rl=(ll=Il((sl=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Cl(this,"BaseType",ua.GRAPH),Cl(this,"modelType",ca.GRAPH),Cl(this,"rootEl",void 0),Cl(this,"theme",void 0),Cl(this,"eventCenter",void 0),Cl(this,"modelMap",new Map),Cl(this,"width",void 0),Cl(this,"height",void 0),Cl(this,"topElement",void 0),Cl(this,"selectElement",void 0),Cl(this,"idGenerator",void 0),Cl(this,"nodeMoveRules",[]),Dl(this,"edgeType",ll,this),Dl(this,"nodes",fl,this),Dl(this,"activeElement",pl,this),Dl(this,"activeElementState",dl,this),Dl(this,"state",hl,this),Dl(this,"additionStateData",yl,this),Dl(this,"edges",vl,this),Dl(this,"isSlient",bl,this),Dl(this,"overlapMode",gl,this),Dl(this,"plugins",ml,this),Dl(this,"tools",Ol,this),Dl(this,"background",xl,this),Dl(this,"transformMatrix",wl,this),Dl(this,"editConfig",jl,this),Dl(this,"gridSize",_l,this),Dl(this,"partial",El,this),Dl(this,"fakerNode",Sl,this);var r=e.container,n=e.background,o=void 0===n?{}:n,i=e.grid,a=(i=void 0===i?{}:i).size,c=void 0===a?1:a,u=e.isSilentMode,s=void 0!==u&&u,l=e.eventCenter,f=e.idGenerator;this.background=o,this.isSlient=s,this.gridSize=c,this.rootEl=r,this.editConfig=new wa(e),this.eventCenter=l,this.transformMatrix=new ka(l),this.theme=Dc(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=f}var e,r,n;return e=t,(r=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,r){return t[e.id]={index:r,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,r){return t[e.id]={index:r,model:e},t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],r=-1,n=[-200,-200],o=[this.width+200,this.height+200],i=0;i<t.length;i++){var a=t[i];this.partial&&!this.isElementInArea(a,n,o,!1)||(9999===a.zIndex&&(r=e.length),e.push(a))}if(-1!==r){var c=e[e.length-1];e[e.length-1]=e[r],e[r]=c}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===ia.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===ia.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"getAreaElement",value:function(t,e){var r=[],n=[];this.nodes.forEach((function(t){return n.push(t)})),this.edges.forEach((function(t){return n.push(t)}));for(var o=0;o<n.length;o++){var i=n[o];this.isElementInArea(i,t,e)&&r.push(i)}return r}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModel",value:function(t){var e;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,r=t.y,n=this.rootEl.getBoundingClientRect(),o={x:e-n.left,y:r-n.top},i=Nl(this.transformMatrix.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.BaseType===ua.NODE){for(var o=Pu(t=t),i=o.minX,a=o.minY,c=o.maxX,u=o.maxY,s=[{x:i,y:a},{x:c,y:a},{x:c,y:u},{x:i,y:u}],l=!0,f=0;f<s.length;f++){var p=s[f],d=p.x,h=p.y,y=Nl(this.transformMatrix.CanvasPointToHtmlPoint([d,h]),2);if(d=y[0],h=y[1],!zc([d,h],e,r)){l=!1;break}}return l}if(t.BaseType===ua.EDGE){var v=t=t,b=v.startPoint,g=v.endPoint,m=this.transformMatrix.CanvasPointToHtmlPoint([b.x,b.y]),O=this.transformMatrix.CanvasPointToHtmlPoint([g.x,g.y]),x=zc(m,e,r),w=zc(O,e,r);return n?x&&w:x||w}return!1}},{key:"graphDataToModel",value:function(t){var e=this;this.nodes=ki(t.nodes,(function(t){var r=e.getModel(t.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var n=t.x,o=t.y;return n&&o&&(t.x=Tc(n,e.gridSize),t.y=Tc(o,e.gridSize),"[object Object]"===Object.prototype.toString.call(t.text)&&(t.text.x-=Cc(n,e.gridSize),t.text.y-=Cc(o,e.gridSize))),new r(t,e)})),this.edges=ki(t.edges,(function(t){var r=e.getModel(t.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new r(t,e)}))}},{key:"modelToGraphData",value:function(){var t=this.edges.map((function(t){return t.getData()}));return{nodes:this.nodes.map((function(t){return t.getData()})),edges:t}}},{key:"getEdgeModel",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.getNodeModel(t)||this.getEdgeModel(t)}},{key:"getNodeEdges",value:function(t){for(var e=[],r=0;r<this.edges.length;r++){var n=this.edges[r],o=this.edges[r].sourceNodeId===t,i=this.edges[r].targetNodeId===t;(o||i)&&e.push(n)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,r={nodes:[],edges:[]};return e.forEach((function(n){if(n.BaseType===ua.NODE&&r.nodes.push(n.getData()),n.BaseType===ua.EDGE){var o=n.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&r.edges.push(o)}})),r}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e||(e=Vc()),this.nodesMap[e]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(e,", \u4fee\u6539\u5931\u8d25")),!1):this.nodesMap[t]?(this.edges.forEach((function(r){r.sourceNodeId===t&&(r.sourceNodeId=e),r.targetNodeId===t&&(r.targetNodeId=e)})),this.nodesMap[t].model.id=e,e):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(e,", \u4fee\u6539\u5931\u8d25")),!1)}},{key:"changeEdgeId",value:function(t,e){return e||(e=Vc()),this.edgesMap[e]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fde\u7ebf: ".concat(e,", \u4fee\u6539\u5931\u8d25")),!1):this.edgesMap[t]?(this.edges.forEach((function(r){r.id===t&&(r.id=e)})),e):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fde\u7ebf: ".concat(e,", \u4fee\u6539\u5931\u8d25")),!1)}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"updateEdgeByIndex",value:function(t,e){this.edges[t]=kl(kl({},this.edges[t]),e)}},{key:"toFront",value:function(t){var e,r,n,o=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model);o&&(null===(n=this.topElement)||void 0===n||n.setZIndex(),this.topElement=o,o.setZIndex(9999))}},{key:"setElementZIndex",value:function(t,e){var r,n,o,i=(null===(r=this.nodesMap[t])||void 0===r?void 0:r.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);i&&("number"==typeof e&&(o=e),"top"===e&&(o=Gu()),"bottom"===e&&(o=--Bu),i.setZIndex(o))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.removeEdgeBySource(t),this.removeEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(sa.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=Lu(t);e.id&&this.nodesMap[t.id]&&delete e.id;var r=this.getModel(e.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var n=new r(e,this);this.nodes.push(n);var o=n.getData();return this.eventCenter.emit(sa.NODE_ADD,{data:o}),n}},{key:"cloneNode",value:function(t){var e=this.getNodeModel(t),r=e.getData();r.x+=30,r.y+=30,delete r.id,r.text&&(r.text.x+=30,r.text.y+=30);var n=this.addNode(r);return n.setSelected(!0),e.setSelected(!1),n.getData()}},{key:"moveNode",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];o?(o.model.move(e,r,n),this.moveEdge(t,e,r)):console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(t,e,r){var n=this.nodesMap[t];if(n){var o=n.model,i=e-o.x,a=r-o.y;this.moveNode(t,i,a)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"setTextEditable",value:function(t){this.setElementStateById(t,ia.TEXT_EDIT)}},{key:"createEdge",value:function(t){var e=Lu(t),r=e.type;r||(r=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var n=this.getModel(r);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(r,"\u5bf9\u5e94\u7684\u8fde\u7ebf\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fde\u7ebf\u3002"));var o=new n(kl(kl({},e),{},{type:r}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(sa.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,r){for(var n=0;n<this.edges.length;n++){var o,i=this.edges[n],a=i.textPosition,c=a.x,u=a.y,s=this.edges[n].sourceNodeId===t,l=this.edges[n].targetNodeId===t;if(s&&i.updateStartPoint({x:i.startPoint.x+e,y:i.startPoint.y+r}),l&&i.updateEndPoint({x:i.endPoint.x+e,y:i.endPoint.y+r}),s||l)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===ca.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=el(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-c,y-u)}}}},{key:"removeEdge",value:function(t,e){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===t&&this.edges[r].targetNodeId===e){var n=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(sa.EDGE_DELETE,{data:n})}}},{key:"removeEdgeById",value:function(t){var e=this.edgesMap[t].index;if(this.edgesMap[t]){var r=this.edgesMap[t].model.getData();this.edges.splice(e,1),this.eventCenter.emit(sa.EDGE_DELETE,{data:r})}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8fb9"))}},{key:"removeEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var r=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(sa.EDGE_DELETE,{data:r})}}},{key:"removeEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var r=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(sa.EDGE_DELETE,{data:r})}}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setElementStateById",value:function(t,e,r){this.resetElementState(),this.nodes.forEach((function(n){n.id===t?n.setElementState(e,r):n.setElementState(ia.DEFAULT)})),this.edges.forEach((function(n){n.id===t?n.setElementState(e,r):n.setElementState(ia.DEFAULT)}))}},{key:"setElementTextById",value:function(t,e){this.nodes.forEach((function(r){r.id===t&&r.updateText(e)})),this.edges.forEach((function(r){r.id===t&&r.updateText(e)}))}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(t){var e,r,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model,null===(r=this.selectElement)||void 0===r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var e,r,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model,null===(r=this.selectElement)||void 0===r||r.setSelected(!0)}},{key:"selectElementById",value:function(t){var e,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(t),null===(e=this.selectElement)||void 0===e||e.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null==t||t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode!==fa.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveElements",value:function(t,e,r){var n=this;t.nodes.forEach((function(t){return n.moveNode(t.id,e,r)}))}},{key:"moveNodes",value:function(t,e,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach((function(t){return n.moveNode(t,e,r,o)}))}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"changeEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var r=this.getNodeModel(t);if(r){var n=r.getData();n.type=e;var o=this.getModel(e);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(e,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var i=new o(n,this);this.nodes.splice(this.nodesMap[t].index,1,i),this.getNodeEdges(t).forEach((function(e){if(e.sourceNodeId===t){var r=Tu(i,e.startPoint,i.width,i.height);e.updateStartPoint(r)}if(e.targetNodeId===t){var n=Tu(i,e.endPoint,i.width,i.height);e.updateEndPoint(n)}}))}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"setTheme",value:function(t){this.theme=Dc(kl(kl({},this.theme),t))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&Tl(e.prototype,r),n&&Tl(e,n),t}()).prototype,"edgeType",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fl=Il(sl.prototype,"nodes",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pl=Il(sl.prototype,"activeElement",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dl=Il(sl.prototype,"activeElementState",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hl=Il(sl.prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yl=Il(sl.prototype,"additionStateData",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vl=Il(sl.prototype,"edges",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bl=Il(sl.prototype,"isSlient",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gl=Il(sl.prototype,"overlapMode",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ml=Il(sl.prototype,"plugins",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ol=Il(sl.prototype,"tools",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xl=Il(sl.prototype,"background",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wl=Il(sl.prototype,"transformMatrix",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jl=Il(sl.prototype,"editConfig",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_l=Il(sl.prototype,"gridSize",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),El=Il(sl.prototype,"partial",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sl=Il(sl.prototype,"fakerNode",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il(sl.prototype,"nodesMap",[f.k],Object.getOwnPropertyDescriptor(sl.prototype,"nodesMap"),sl.prototype),Il(sl.prototype,"edgesMap",[f.k],Object.getOwnPropertyDescriptor(sl.prototype,"edgesMap"),sl.prototype),Il(sl.prototype,"sortElements",[f.k],Object.getOwnPropertyDescriptor(sl.prototype,"sortElements"),sl.prototype),Il(sl.prototype,"textEditElement",[f.k],Object.getOwnPropertyDescriptor(sl.prototype,"textEditElement"),sl.prototype),Il(sl.prototype,"selectElements",[f.k],Object.getOwnPropertyDescriptor(sl.prototype,"selectElements"),sl.prototype),Il(sl.prototype,"setFakerNode",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setFakerNode"),sl.prototype),Il(sl.prototype,"removeFakerNode",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"removeFakerNode"),sl.prototype),Il(sl.prototype,"setModel",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setModel"),sl.prototype),Il(sl.prototype,"updateEdgeByIndex",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"updateEdgeByIndex"),sl.prototype),Il(sl.prototype,"toFront",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"toFront"),sl.prototype),Il(sl.prototype,"setElementZIndex",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setElementZIndex"),sl.prototype),Il(sl.prototype,"deleteNode",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"deleteNode"),sl.prototype),Il(sl.prototype,"addNode",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"addNode"),sl.prototype),Il(sl.prototype,"cloneNode",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"cloneNode"),sl.prototype),Il(sl.prototype,"moveNode",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"moveNode"),sl.prototype),Il(sl.prototype,"moveNode2Coordinate",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"moveNode2Coordinate"),sl.prototype),Il(sl.prototype,"setTextEditable",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setTextEditable"),sl.prototype),Il(sl.prototype,"createEdge",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"createEdge"),sl.prototype),Il(sl.prototype,"moveEdge",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"moveEdge"),sl.prototype),Il(sl.prototype,"removeEdge",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"removeEdge"),sl.prototype),Il(sl.prototype,"removeEdgeById",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"removeEdgeById"),sl.prototype),Il(sl.prototype,"removeEdgeBySource",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"removeEdgeBySource"),sl.prototype),Il(sl.prototype,"removeEdgeByTarget",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"removeEdgeByTarget"),sl.prototype),Il(sl.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setElementState"),sl.prototype),Il(sl.prototype,"setElementStateById",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setElementStateById"),sl.prototype),Il(sl.prototype,"setElementTextById",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setElementTextById"),sl.prototype),Il(sl.prototype,"resetElementState",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"resetElementState"),sl.prototype),Il(sl.prototype,"selectNodeById",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"selectNodeById"),sl.prototype),Il(sl.prototype,"selectEdgeById",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"selectEdgeById"),sl.prototype),Il(sl.prototype,"selectElementById",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"selectElementById"),sl.prototype),Il(sl.prototype,"clearSelectElements",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"clearSelectElements"),sl.prototype),Il(sl.prototype,"moveElements",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"moveElements"),sl.prototype),Il(sl.prototype,"moveNodes",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"moveNodes"),sl.prototype),Il(sl.prototype,"changeEdgeType",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"changeEdgeType"),sl.prototype),Il(sl.prototype,"changeNodeType",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"changeNodeType"),sl.prototype),Il(sl.prototype,"setTheme",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"setTheme"),sl.prototype),Il(sl.prototype,"clearData",[f.i],Object.getOwnPropertyDescriptor(sl.prototype,"clearData"),sl.prototype),sl),Ll=Rl;function zl(t){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bl(){return(Bl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Gl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ul(t,e){return(Ul=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yl(t);if(e){var o=Yl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hl(this,r)}}function Hl(t,e){if(e&&("object"===zl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yl(t){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wl(t){return(Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vl(){return(Vl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Kl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zl(t,e){return(Zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ql(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jl(t);if(e){var o=Jl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $l(this,r)}}function $l(t,e){if(e&&("object"===Wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ql(t)}function Ql(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jl(t){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ef,rf,nf=ux((ef=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zl(t,e)}(i,t);var e,r,n,o=ql(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),tf(Ql(e=o.call(this)),"stepDrag",void 0),tf(Ql(e),"stepScrollX",0),tf(Ql(e),"stepScrollY",0),tf(Ql(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY;e.setState({isDraging:!0});var o=e.props.graphModel,i=o.transformMatrix;o.editConfig.stopMoveGraph||i.translate(r,n)})),tf(Ql(e),"onDragEnd",(function(){e.setState({isDraging:!1})})),tf(Ql(e),"zoomHandler",(function(t){var r=e.props,n=r.graphModel,o=n.editConfig,i=n.transformMatrix,a=n.gridSize,c=r.graphModel,u=t.deltaX,s=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var l=c.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(t.deltaY<0,[f,p])}}else{if(t.preventDefault(),e.stepScrollX+=u,e.stepScrollY+=s,Math.abs(e.stepScrollX)>=a){var d=e.stepScrollX%a,h=e.stepScrollX-d;i.translate(-h*i.SCALE_X,0),e.stepScrollX=d}if(Math.abs(e.stepScrollY)>=a){var y=e.stepScrollY%a,v=e.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),e.stepScrollY=y}}})),tf(Ql(e),"clickHandler",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){var r=e.props,n=r.graphModel,o=r.eventCenter,i=n.textEditElement;n.selectElements.size>0&&n.clearSelectElements(),i&&i.setElementState(ia.DEFAULT),o.emit(sa.BLANK_CLICK,{e:t})}})),tf(Ql(e),"handleContextMenu",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){t.preventDefault();var r=e.props,n=r.graphModel,o=r.eventCenter,i=n.getPointByClient({x:t.clientX,y:t.clientY});n.setElementState(ia.SHOW_MENU,i.domOverlayPosition),o.emit(sa.BLANK_CONTEXTMENU,{e:t,position:i})}})),tf(Ql(e),"mouseDownHandler",(function(t){var r=e.props,n=r.eventCenter,o=r.graphModel,i=o.editConfig,a=o.transformMatrix.SCALE_X,c=o.gridSize;i.stopMoveGraph?n.emit(sa.BLANK_MOUSEDOWN,{e:t}):(e.stepDrag.setStep(c*a),e.stepDrag.handleMouseDown(t)),e.clickHandler(t)}));var r=t.graphModel.gridSize,n=t.eventCenter;return e.stepDrag=new Pl({onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:r,eventType:"BLANK",eventCenter:n,model:null}),e.state={isDraging:!1},e}return e=i,(r=[{key:"InjectedProps",get:function(){return this.props}},{key:"render",value:function(){var t=this.InjectedProps.transformStyle.transform,e=this.props,r=e.children,n=e.dnd,o=this.state.isDraging;return b("svg",Vl({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-dragging":"lf-drag-able"},n.eventMap()),b("g",{transform:t},r))}}])&&Kl(e.prototype,r),n&&Kl(e,n),i}(x),function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ul(t,e)}(i,t);var e,r,n,o=Xl(i);function i(){return Gl(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getMatrixString",value:function(){var t=this.props.graphModel.transformMatrix,e=[t.SCALE_X,t.SKEW_Y,t.SKEW_X,t.SCALE_Y,t.TRANSLATE_X,t.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return b(ef,Bl({},this.props,{transformStyle:this.getMatrixString()}))}}])&&Fl(e.prototype,r),n&&Fl(e,n),i}(x)));function of(t){return(of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function af(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uf(t,e){return(uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=pf(t);if(e){var o=pf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lf(this,r)}}function lf(t,e){if(e&&("object"===of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ff(t)}function ff(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pf(t){return(pf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function df(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hf=ux(rf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uf(t,e)}(i,t);var e,r,n,o=sf(i);function i(){var t;af(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return df(ff(t=o.call.apply(o,[this].concat(r))),"setToolOverlayRef",(function(e){var r=t.props.tool.getInstance();r.components.forEach((function(t){return t(r,e)})),r.components=[]})),t}return e=i,(r=[{key:"getTools",value:function(){var t=this.props,e=t.tool,r=t.graphModel,n=e.getTools().map((function(t){return b(t,{graphModel:r,logicFlow:e.instance})}));return e.components=n,n}},{key:"render",value:function(){return b("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&cf(e.prototype,r),n&&cf(e,n),i}(x))||rf;function yf(t){return(yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gf(t,e){return(gf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=xf(t);if(e){var o=xf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Of(this,r)}}function Of(t,e){if(e&&("object"===yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xf(t){return(xf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r(178);var wf,jf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gf(t,e)}(i,t);var e,r,n,o=mf(i);function i(){return vf(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getAttributes",value:function(){var t=this.props.background,e=t.image,r=void 0===e?"":e,n=t.color,o=void 0===n?"":n,i=t.repeat,a=void 0===i?"no-repeat":i,c=t.position,u=void 0===c?"center":c,s=t.size,l=void 0===s?"auto auto":s,f=t.opacity,p=void 0===f?1:f;return o?{color:o,opacity:p,image:"none"}:r?{image:"url(".concat(r,")"),repeat:a,position:u,size:l,opacity:p}:{}}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.image,r=t.color,n=t.repeat,o=t.size;return b("div",{className:"lf-background"},b("div",{style:{backgroundImage:e,backgroundColor:r,backgroundRepeat:n,backgroundPosition:t.position,backgroundSize:o,opacity:t.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&bf(e.prototype,r),n&&bf(e,n),i}(x);function _f(t){return(_f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ef(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pf(t,e){return(Pf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mf(t);if(e){var o=Mf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kf(this,r)}}function kf(t,e){if(e&&("object"===_f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nf(t)}function Nf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mf(t){return(Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Df(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Tf=ux(wf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pf(t,e)}(i,t);var e,r,n,o=Af(i);function i(){var t;Ef(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Df(Nf(t=o.call.apply(o,[this].concat(r))),"id",Vc()),t}return e=i,(r=[{key:"renderDot",value:function(){var t=this.props,e=t.config,r=e.color,n=e.thickness,o=void 0===n?2:n,i=t.size,a=t.visible,c=Math.min(Math.max(2,o),i/2),u=1;return a||(u=0),b("rect",{width:c,height:c,rx:c/2,ry:c/2,fill:r,opacity:u})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,r=e.color,n=e.thickness,o=void 0===n?1:n,i=t.size,a=t.visible,c=Math.min(Math.max(1,o),i/2),u=1;return a||(u=0),b("path",{d:"M ".concat(i," 0 H0 M0 0 V0 ").concat(i),stroke:r,strokeWidth:c,opacity:u})}},{key:"render",value:function(){var t=this.props,e=t.type,r=t.size,n=t.graphModel.transformMatrix,o=[n.SCALE_X,n.SKEW_Y,n.SKEW_X,n.SCALE_Y,n.TRANSLATE_X,n.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return b("div",{className:"lf-grid"},b("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},b("defs",null,b("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:r,height:r,style:{transition:"all 0.1s ease"}},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),b("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Sf(e.prototype,r),n&&Sf(e,n),i}(x))||wf;function Cf(t){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function If(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Tf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},r(44);var Lf,zf=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){var r=If(t,2),n=r[0],o=r[1];"object"!==Cf(o)&&(e[n]=o)})),b("line",e)};function Bf(t){return(Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ff(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uf(t,e){return(Uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yf(t);if(e){var o=Yf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hf(this,r)}}function Hf(t,e){if(e&&("object"===Bf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yf(t){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wf,Vf=ux(Lf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uf(t,e)}(i,t);var e,r,n,o=Xf(i);function i(){return Gf(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,r=t.isShowHorizontal,n=t.isShowVertical,o=t.stroke,i=t.strokeWidth,a=e.x,c=void 0===a?0:a,u=e.y,s=void 0===u?0:u,l={x1:c,y1:-1e5,x2:c,y2:1e5,stroke:n?o:"none",strokeWidth:i};return b("g",{className:"lf-snapline"},b(zf,{x1:-1e5,y1:s,x2:1e5,y2:s,stroke:r?o:"none",strokeWidth:i}),b(zf,l))}}])&&Ff(e.prototype,r),n&&Ff(e,n),i}(x))||Lf;function Kf(t){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return qf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $f(t){var e=t.x,r=t.y,n=t.width,o=t.height,i=t.radius,a=t.className,c=e-n/2,u=r-o/2,s={width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(t).forEach((function(t){var e=Zf(t,2),r=e[0],n=e[1];"object"!==Kf(n)&&(s[r]=n)})),s.x=c,s.y=u,b("rect",s)}function Qf(t){return(Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ep(t,e){return(ep=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=op(t);if(e){var o=op(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return np(this,r)}}function np(t,e){if(e&&("object"===Qf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function op(t){return(op=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}$f.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ip,ap=ux(Wf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ep(t,e)}(i,t);var e,r,n,o=rp(i);function i(){return Jf(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getNodeOutline",value:function(){var t=this.props.graphModel,e=t.selectElements,r=t.editConfig,n=r.hoverOutline,o=r.nodeSelectedOutline,i=[];return e.forEach((function(t){if(t.BaseType===ua.NODE){var e=t.isHovered,r=t.isSelected,a=t.x,c=t.y,u=t.width,s=t.height,l=t.outlineColor,f=t.hoverOutlineColor,p=t.outlineStrokeDashArray,d=t.hoverOutlineStrokeDashArray;if(o||n&&e){var h=r?l:f,y=r?p:d;i.push(b($f,{className:"lf-outline-node",x:a,y:c,width:u+10,height:s+10,radius:0,fill:"none",stroke:h,strokeDasharray:y}))}}})),i}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,r=t.editConfig.edgeSelectedOutline,n=[],o=0;o<e.length;o++){var i=e[o];i.isSelected&&r&&(i.modelType===ca.LINE_EDGE?n.push(this.getLineOutline(i)):i.modelType===ca.POLYLINE_EDGE?n.push(this.getPolylineOutline(i)):i.modelType===ca.BEZIER_EDGE&&n.push(this.getBezierOutline(i)))}return n}},{key:"getLineOutline",value:function(t){var e=t.startPoint,r=t.endPoint,n=(e.x+r.x)/2,o=(e.y+r.y)/2,i=Math.abs(e.x-r.x)+10,a=Math.abs(e.y-r.y)+10,c=this.props.graphModel.theme.line;return b($f,{className:"lf-outline-edge",x:n,y:o,width:i,height:a,radius:0,fill:"none",stroke:c.outlineColor,strokeDasharray:c.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(t){var e=t.points,r=Ks(e),n=Ds(r,8),o=n.x,i=n.y,a=n.width,c=n.height,u=this.props.graphModel.theme.polyline;return b($f,{className:"lf-outline",x:o,y:i,width:a,height:c,radius:0,fill:"none",stroke:u.outlineColor,strokeDasharray:u.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(t){var e=t.path,r=Js(e),n=Ds(r,8),o=n.x,i=n.y,a=n.width,c=n.height,u=this.props.graphModel.theme.bezier;return b($f,{className:"lf-outline",x:o,y:i,width:a,height:c,radius:0,fill:"none",stroke:u.outlineColor,strokeDasharray:u.outlineStrokeDashArray})}},{key:"render",value:function(){return b("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&tp(e.prototype,r),n&&tp(e,n),i}(x))||Wf;function cp(t){return(cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function up(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lp(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.r,a={cx:r,cy:o,r:void 0===i?4:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach((function(t){var e=up(t,2),r=e[0],n=e[1];"object"!==cp(n)&&(a[r]=n)})),b("circle",a)}function fp(t){return(fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vp(t,e,r){return e&&yp(t.prototype,e),r&&yp(t,r),t}function bp(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gp(t,e)}function gp(t,e){return(gp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wp(t);if(e){var o=wp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Op(this,r)}}function Op(t,e){if(e&&("object"===fp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xp(t)}function xp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wp(t){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _p,Ep=function(t){bp(r,t);var e=mp(r);function r(t){var n;hp(this,r),jp(xp(n=e.call(this)),"dragHandler",void 0),jp(xp(n),"onDraging",(function(t){var e=t.deltaX,r=t.deltaY,o=n.props,i=o.graphModel,a=o.bezierModel,c=o.type,u=i.transformMatrix,s=n.state,l=s.endX,f=s.endY,p=pp(u.moveCanvasPointByHtml([l,f],e,r),2),d=p[0],h=p[1];n.setState({endX:d,endY:h}),a.updateAdjustAnchor({x:d,y:h},c)})),jp(xp(n),"onDragEnd",(function(){var t=n.state,e=t.endX,r=t.endY,o=n.props,i=o.bezierModel,a=o.type;i.updateAdjustAnchor({x:e,y:r},a)})),n.dragHandler=ul({onDraging:n.onDraging,onDragEnd:n.onDragEnd});var o=t.position;return n.state={endX:o.x,endY:o.y},n}return vp(r,[{key:"render",value:function(){var t,e,r,n=this.props.position,o=n.x,i=n.y,a=null===(t=this.props)||void 0===t||null===(e=t.graphModel)||void 0===e||null===(r=e.theme)||void 0===r?void 0:r.bezier;return b(lp,{className:"lf-bezier-adjust-anchor",x:o,y:i,r:4,stroke:a.adjustAnchorStroke,fill:a.adjustAnchorFill,fillOpacity:a.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),r}(x),Sp=ux(ip=function(t){bp(r,t);var e=mp(r);function r(){return hp(this,r),e.apply(this,arguments)}return vp(r,[{key:"getBezierAdjust",value:function(t,e){var r=t.path,n=t.id,o=pp(Js(r),4),i=o[0],a=o[1],c=o[2],u=o[3],s=e.theme.bezier.adjustLineColor,l=[];return l.push(b(zf,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:s})),l.push(b(Ep,{position:a,bezierModel:t,graphModel:e,key:"".concat(n,"_ePre"),type:"sNext"})),l.push(b(zf,{x1:u.x,y1:u.y,x2:c.x,y2:c.y,stroke:s})),l.push(b(Ep,{position:c,bezierModel:t,graphModel:e,key:"".concat(n,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,r=[],n=0;n<e.length;n++){var o=e[n];o.isSelected&&o.modelType===ca.BEZIER_EDGE&&o.draggable&&r.push(this.getBezierAdjust(o,t))}return r}},{key:"render",value:function(){return b("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),r}(x))||ip;function Pp(t){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ap(){return(Ap=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function kp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Np(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mp(t,e){return(Mp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cp(t);if(e){var o=Cp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tp(this,r)}}function Tp(t,e){if(e&&("object"===Pp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cp(t){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ip=ux(_p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mp(t,e)}(i,t);var e,r,n,o=Dp(i);function i(){return kp(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getComponent",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas-overlay";return b((0,this.props.getView)(t.type),{key:t.id,model:t,graphModel:e,overlay:n,eventCenter:r})}},{key:"render",value:function(){var t=this,e=this.props,r=e.graphModel,n=e.tool,o=e.options,i=e.eventCenter,a=e.dnd,c=e.snaplineModel,u={};o.width&&(u.width="".concat(o.width,"px")),o.height&&(u.height="".concat(o.height,"px"));var s=r.fakerNode,l=r.editConfig.adjustEdge;return b("div",{className:"lf-graph",style:u},b(nf,{graphModel:r,eventCenter:i,dnd:a},b("g",{className:"lf-base"},ki(r.sortElements,(function(e){return t.getComponent(e,r,i)}))),s?this.getComponent(s,r,i):"",o.hideOutline?"":b(ap,{graphModel:r}),l?b(Sp,{graphModel:r}):"",o.isSilentMode||!1===o.snapline?"":b(Vf,{snaplineModel:c})),b(hf,{graphModel:r,tool:n}),o.background&&b(jf,{background:o.background}),o.grid&&b(Tf,Ap({},o.grid,{graphModel:r})))}}])&&Np(e.prototype,r),n&&Np(e,n),i}(x))||_p;function Rp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rp(Object(r),!0).forEach((function(e){Bp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Gp=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bp(this,"nodeConfig",void 0),Bp(this,"lf",void 0),Bp(this,"options",void 0),Bp(this,"fakerNode",void 0),Bp(this,"stopDrag",(function(){r.nodeConfig=null,window.document.removeEventListener("mouseup",r.stopDrag)})),Bp(this,"dragEnter",(function(t){r.nodeConfig&&!r.fakerNode&&(r.fakerNode=r.lf.createFakerNode(Lp(Lp({},r.nodeConfig),r.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),Bp(this,"onDragOver",(function(t){if(t.preventDefault(),r.fakerNode){var e=r.clientToLocalPoint({x:t.clientX,y:t.clientY}),n=e.x,o=e.y;r.fakerNode.moveTo(n,o);var i=r.fakerNode.getData();r.lf.setNodeSnapLine(i),r.lf.eventCenter.emit(sa.NODE_DND_DRAG,{data:i})}return!1})),Bp(this,"onDragLeave",(function(){r.fakerNode&&(r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null)})),Bp(this,"onDrop",(function(t){if(r.lf.graphModel&&t&&r.nodeConfig){var e=r.lf.addNode(Lp(Lp({},r.nodeConfig),r.clientToLocalPoint({x:t.clientX,y:t.clientY})));t.preventDefault(),t.stopPropagation(),r.nodeConfig=null,r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null;var n=e.getData();r.lf.eventCenter.emit(sa.NODE_DND_ADD,{data:n})}}));var n=e.options,o=e.lf;this.lf=o,this.options=n}var e,r,n;return e=t,(r=[{key:"clientToLocalPoint",value:function(t){var e=t.x,r=t.y,n=vi(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:r}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Tc(i,n),y:Tc(a,n)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&zp(e.prototype,r),n&&zp(e,n),t}();function Fp(t){var e=t.container,r=t.grid;if(!e)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");return r&&(t.grid=Wi({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},r)),Wi({},Hp,t)}var Up,Xp,Hp={background:!1,grid:!1,textEdit:!0};function Yp(t){return(Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kp(Object(r),!0).forEach((function(e){nd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $p(t,e,r){return($p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rd(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Qp(t,e){return(Qp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rd(t);if(e){var o=rd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return td(this,r)}}function td(t,e){if(e&&("object"===Yp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ed(t)}function ed(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rd(t){return(rd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function od(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var id,ad,cd,ud,sd,ld,fd,pd,dd,hd,yd,vd,bd,gd,md,Od,xd,wd,jd,_d,Ed,Sd,Pd,Ad,kd,Nd=(Xp=od((Up=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qp(t,e)}(i,t);var e,r,n,o=Jp(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),nd(ed(r=o.call(this,t,e,"bezier")),"modelType",ca.BEZIER_EDGE),nd(ed(r),"offset",Ac.bezier.offset),function(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(ed(r),"path",Xp,ed(r)),r}return e=i,(r=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(r){var n=r.x,o=r.y;t+=n,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=$p(rd(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Zp(Zp({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return Qs({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){var e=Wp(t,4),r=e[0],n=e[1],o=e[2],i=e[3];return"M ".concat(r.x," ").concat(r.y,"\n    C ").concat(n.x," ").concat(n.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t={x:this.startPoint.x,y:this.startPoint.y},e={x:this.endPoint.x,y:this.endPoint.y},r=this.getControls(),n=r.sNext,o=r.ePre;this.pointsList=[t,n,o,e],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var t={x:this.startPoint.x,y:this.startPoint.y},e={x:this.endPoint.x,y:this.endPoint.y},r=Wp(this.pointsList,3),n=r[1],o=r[2];this.pointsList=[t,n,o,e],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePath()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePath()}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,r=t.endPoint,n=t.sourceNode,o=t.targetNode,i=Qs({start:e,end:r,sourceNode:n,targetNode:o,offset:this.offset}),a=i.sNext,c=i.ePre;this.pointsList=[e,a,c,r],this.initPoints()}}])&&qp(e.prototype,r),n&&qp(e,n),i}(Zu)).prototype,"path",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),od(Up.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"initPoints"),Up.prototype),od(Up.prototype,"updatePoints",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"updatePoints"),Up.prototype),od(Up.prototype,"updatePath",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"updatePath"),Up.prototype),od(Up.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"updateStartPoint"),Up.prototype),od(Up.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"updateEndPoint"),Up.prototype),od(Up.prototype,"updateAdjustAnchor",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"updateAdjustAnchor"),Up.prototype),od(Up.prototype,"getAdjustStart",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"getAdjustStart"),Up.prototype),od(Up.prototype,"getAdjustEnd",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"getAdjustEnd"),Up.prototype),od(Up.prototype,"updateAfterAdjustStartAndEnd",[f.i],Object.getOwnPropertyDescriptor(Up.prototype,"updateAfterAdjustStartAndEnd"),Up.prototype),Up);function Md(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Dd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Md(Object(r),!0).forEach((function(e){zd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Md(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Td(t){return(Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cd(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Id(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Id(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Id(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rd(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ld(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bd(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}r(39);var Gd,Fd,Ud=Wi({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},Ac.rect,Ac.circle),Xd=(ad=Bd((id=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zd(this,"id",""),zd(this,"BaseType",ua.NODE),zd(this,"modelType",ca.NODE),zd(this,"additionStateData",void 0),zd(this,"targetRules",[]),zd(this,"sourceRules",[]),zd(this,"moveRules",[]),zd(this,"hasSetTargetRules",!1),zd(this,"hasSetSourceRules",!1),Rd(this,"properties",ad,this),Rd(this,"type",cd,this),Rd(this,"x",ud,this),Rd(this,"y",sd,this),Rd(this,"_width",ld,this),zd(this,"graphModel",void 0),Rd(this,"_height",fd,this),Rd(this,"fill",pd,this),Rd(this,"fillOpacity",dd,this),Rd(this,"strokeWidth",hd,this),Rd(this,"stroke",yd,this),Rd(this,"strokeOpacity",vd,this),Rd(this,"opacity",bd,this),Rd(this,"outlineColor",gd,this),Rd(this,"hoverOutlineColor",md,this),Rd(this,"outlineStrokeDashArray",Od,this),Rd(this,"hoverOutlineStrokeDashArray",xd,this),Rd(this,"isSelected",wd,this),Rd(this,"isHovered",jd,this),Rd(this,"isHitable",_d,this),Rd(this,"zIndex",Ed,this),Rd(this,"anchorsOffset",Sd,this),Rd(this,"state",Pd,this),Rd(this,"text",Ad,this),Rd(this,"draggable",kd,this),this.graphModel=r,this.setStyleFromTheme(n,r),this.initNodeData(e),this.setAttributes()}var e,r,n;return e=t,(r=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,r=e&&e();r&&(t.id=r),t.id=this.createId()}this.formatText(t),Wi(this,function(t){return ta(t,["id","type","x","y","text","properties"])}(t)),this.graphModel.overlapMode===fa.INCREASE&&(this.zIndex=t.zIndex||Gu())}},{key:"createId",value:function(){return Vc()}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var t=this.text,e=t.x,r=t.y,n=t.value,o=this.properties;Object(f.v)(o)&&(o=Object(f.G)(o));var i={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return this.graphModel.overlapMode===fa.INCREASE&&(i.zIndex=this.zIndex),n&&(i.text={x:e,y:r,value:n}),i}},{key:"getProperties",value:function(){return Object(f.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(t){var e=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var r,n=!0,o=0;o<e.length;o++){var i=e[o];if(!i.validate.call(this,this,t)){n=!1,r=i.message;break}}return{isAllPass:n,msg:r}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t){var e=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var r,n=!0,o=0;o<e.length;o++){var i=e[o];if(!i.validate.call(this,t,this)){n=!1,r=i.message;break}}return{isAllPass:n,msg:r}}},{key:"isAllowMoveNode",value:function(t,e){var r,n=Cd(this.moveRules);try{for(n.s();!(r=n.n()).done;)if(!(0,r.value)(this,t,e))return!1}catch(t){n.e(t)}finally{n.f()}var o,i=Cd(this.graphModel.nodeMoveRules);try{for(i.s();!(o=i.n()).done;)if(!(0,o.value)(this,t,e))return!1}catch(t){i.e(t)}finally{i.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.x,r=this.y,n=this.id;return t.map((function(t,o){return t.length?{id:"".concat(n,"_").concat(o),x:e+t[0],y:r+t[1]}:{x:e+t.x,y:r+t.y,id:t.id||"".concat(n,"_").concat(o)}}))}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var t=this.anchorsOffset;return t&&t.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.isAllowMoveNode(t,e)){var r=this.x+t,n=this.y+e;this.x=r,this.y=n,this.text&&this.moveText(t,e)}}},{key:"moveTo",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t-this.x,o=e-this.y;(r||this.isAllowMoveNode(n,o))&&(this.text&&this.text&&this.moveText(n,o),this.x=t,this.y=e)}},{key:"moveText",value:function(t,e){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,c=r.editable;this.text={value:i,editable:c,draggable:a,x:n+t,y:o+e}}},{key:"updateText",value:function(t){this.text.value=t}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStroke",value:function(t){this.stroke=t}},{key:"updateData",value:function(t){var e=Lu(ta(t,"type","x","y","text","properties")),r=this.text,n=r.x,o=r.y,i=r.draggable,a=r.editable;if(e.text&&"string"==typeof e.text)e.text={x:n,y:o,value:e.text,draggable:i,editable:a};else if("object"===Td(e.text)){var c=Dd(Dd({},this.text),e.text);e.text=ta(c,"x","y","value","draggable","editable")}Wi(this,e)}},{key:"setProperty",value:function(t,e){this.properties=Dd(Dd({},this.properties),{},zd({},t,Lu(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Dd(Dd({},this.properties),Lu(t)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(t,e){var r=e.theme;r[t]&&Wi(this,r[t])}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ud.zIndex;this.zIndex=t}},{key:"updateAttributes",value:function(t){Wi(this,t)}}])&&Ld(e.prototype,r),n&&Ld(e,n),t}()).prototype,"properties",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),cd=Bd(id.prototype,"type",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ud=Bd(id.prototype,"x",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.x}}),sd=Bd(id.prototype,"y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.y}}),ld=Bd(id.prototype,"_width",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.width}}),fd=Bd(id.prototype,"_height",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.height}}),pd=Bd(id.prototype,"fill",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.fill}}),dd=Bd(id.prototype,"fillOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.fillOpacity}}),hd=Bd(id.prototype,"strokeWidth",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.strokeWidth}}),yd=Bd(id.prototype,"stroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.stroke}}),vd=Bd(id.prototype,"strokeOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.strokeOpacity}}),bd=Bd(id.prototype,"opacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.opacity}}),gd=Bd(id.prototype,"outlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.outlineColor}}),md=Bd(id.prototype,"hoverOutlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.hoverOutlineColor}}),Od=Bd(id.prototype,"outlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.outlineStrokeDashArray}}),xd=Bd(id.prototype,"hoverOutlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.hoverOutlineStrokeDashArray}}),wd=Bd(id.prototype,"isSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jd=Bd(id.prototype,"isHovered",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_d=Bd(id.prototype,"isHitable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ed=Bd(id.prototype,"zIndex",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.zIndex}}),Sd=Bd(id.prototype,"anchorsOffset",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pd=Bd(id.prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ad=Bd(id.prototype,"text",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ud.text}}),kd=Bd(id.prototype,"draggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bd(id.prototype,"addNodeMoveRules",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"addNodeMoveRules"),id.prototype),Bd(id.prototype,"move",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"move"),id.prototype),Bd(id.prototype,"moveTo",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"moveTo"),id.prototype),Bd(id.prototype,"moveText",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"moveText"),id.prototype),Bd(id.prototype,"updateText",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"updateText"),id.prototype),Bd(id.prototype,"setSelected",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setSelected"),id.prototype),Bd(id.prototype,"setHovered",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setHovered"),id.prototype),Bd(id.prototype,"setHitable",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setHitable"),id.prototype),Bd(id.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setElementState"),id.prototype),Bd(id.prototype,"updateStroke",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"updateStroke"),id.prototype),Bd(id.prototype,"updateData",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"updateData"),id.prototype),Bd(id.prototype,"setProperty",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setProperty"),id.prototype),Bd(id.prototype,"setProperties",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setProperties"),id.prototype),Bd(id.prototype,"setStyleFromTheme",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setStyleFromTheme"),id.prototype),Bd(id.prototype,"setZIndex",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"setZIndex"),id.prototype),Bd(id.prototype,"updateAttributes",[f.i],Object.getOwnPropertyDescriptor(id.prototype,"updateAttributes"),id.prototype),id);function Hd(t){return(Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wd(t,e){return(Wd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qd(t);if(e){var o=qd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kd(this,r)}}function Kd(t,e){if(e&&("object"===Hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zd(t)}function Zd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qd(t){return(qd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $d(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Qd,Jd,th,eh=(Fd=$d((Gd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wd(t,e)}(i,t);var e,r,n,o=Vd(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=Zd(r=o.call(this,t,e,"circle")),a="modelType",c=ca.CIRCLE_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,function(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Zd(r),"r",Fd,Zd(r)),r}return e=i,(r=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,r=this.y,n=this.r;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:r-n,id:"".concat(this.id,"_0")},{x:e+n,y:r,id:"".concat(this.id,"_1")},{x:e,y:r+n,id:"".concat(this.id,"_2")},{x:e-n,y:r,id:"".concat(this.id,"_3")}]}}])&&Yd(e.prototype,r),n&&Yd(e,n),i}(Xd)).prototype,"r",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.circle.r}}),$d(Gd.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Gd.prototype,"width"),Gd.prototype),$d(Gd.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Gd.prototype,"height"),Gd.prototype),$d(Gd.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Gd.prototype,"anchors"),Gd.prototype),Gd);function rh(t){return(rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return oh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oh(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ih(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ah(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ih(Object(r),!0).forEach((function(e){yh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ih(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ch(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function uh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sh(t,e,r){return(sh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hh(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function lh(t,e){return(lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=hh(t);if(e){var o=hh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ph(this,r)}}function ph(t,e){if(e&&("object"===rh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dh(t)}function dh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hh(t){return(hh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vh(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}r(103);var bh,gh,mh,Oh=(Jd=vh((Qd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lh(t,e)}(i,t);var e,r,n,o=fh(i);function i(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),yh(dh(r=o.call(this,t,e,"diamond")),"modelType",ca.DIAMOND_NODE),ch(dh(r),"rx",Jd,dh(r)),ch(dh(r),"ry",th,dh(r)),r}return e=i,(r=[{key:"getData",value:function(){var t=this.rx,e=this.ry;return ah(ah({},sh(hh(i.prototype),"getData",this).call(this)),{},{rx:t,ry:e})}},{key:"points",get:function(){var t=this.x,e=this.y,r=this.rx,n=this.ry;return[[t,e-n],[t+r,e],[t,e+n],[t-r,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=nh(r,1)[0];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=nh(r,2)[1];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"anchors",get:function(){var t=this,e=this.anchorsOffset,r=this.points;return e&&e.length>0?this.getAnchorsByOffset():r.map((function(e,r){var n=nh(e,2);return{x:n[0],y:n[1],id:"".concat(t.id,"_").concat(r)}}))}}])&&uh(e.prototype,r),n&&uh(e,n),i}(Xd)).prototype,"rx",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),th=vh(Qd.prototype,"ry",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vh(Qd.prototype,"points",[f.k],Object.getOwnPropertyDescriptor(Qd.prototype,"points"),Qd.prototype),vh(Qd.prototype,"pointsPosition",[f.k],Object.getOwnPropertyDescriptor(Qd.prototype,"pointsPosition"),Qd.prototype),vh(Qd.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Qd.prototype,"width"),Qd.prototype),vh(Qd.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Qd.prototype,"height"),Qd.prototype),vh(Qd.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Qd.prototype,"anchors"),Qd.prototype),Qd);function xh(t){return(xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wh(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function jh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _h(t,e){return(_h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ah(t);if(e){var o=Ah(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sh(this,r)}}function Sh(t,e){if(e&&("object"===xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ph(t)}function Ph(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ah(t){return(Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kh(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Nh,Mh,Dh=(gh=kh((bh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_h(t,e)}(i,t);var e,r,n,o=Eh(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=Ph(r=o.call(this,t,e,"ellipse")),a="modelType",c=ca.ELLIPSE_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,wh(Ph(r),"rx",gh,Ph(r)),wh(Ph(r),"ry",mh,Ph(r)),r}return e=i,(r=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,r=this.y,n=this.rx,o=this.ry;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:r-o,id:"".concat(this.id,"_0")},{x:e+n,y:r,id:"".concat(this.id,"_1")},{x:e,y:r+o,id:"".concat(this.id,"_2")},{x:e-n,y:r,id:"".concat(this.id,"_3")}]}}])&&jh(e.prototype,r),n&&jh(e,n),i}(Xd)).prototype,"rx",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.ellipse.rx}}),mh=kh(bh.prototype,"ry",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.ellipse.ry}}),kh(bh.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(bh.prototype,"width"),bh.prototype),kh(bh.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(bh.prototype,"height"),bh.prototype),kh(bh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(bh.prototype,"anchors"),bh.prototype),bh);function Th(t){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ch(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ih(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ih(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lh(t,e){return(Lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Fh(t);if(e){var o=Fh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bh(this,r)}}function Bh(t,e){if(e&&("object"===Th(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gh(t)}function Gh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fh(t){return(Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uh(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Xh,Hh,Yh=(Mh=Uh((Nh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lh(t,e)}(i,t);var e,r,n,o=zh(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=Gh(r=o.call(this,t,e,"polygon")),a="modelType",c=ca.POLYGON_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,function(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Gh(r),"points",Mh,Gh(r)),r}return e=i,(r=[{key:"pointsPosition",get:function(){var t=this.x,e=this.y,r=this.width,n=this.height;return this.points.map((function(o){return{x:o[0]+t-r/2,y:o[1]+e-n/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=Ch(r,1)[0];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=Ch(r,2)[1];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"anchors",get:function(){var t=this,e=this.anchorsOffset,r=this.x,n=this.y,o=this.width,i=this.height,a=this.points;return e&&e.length>0?this.getAnchorsByOffset():a.map((function(e,a){var c=Ch(e,2),u=c[0],s=c[1];return{x:r+u-o/2,y:n+s-i/2,id:"".concat(t.id,"_").concat(a)}}))}}])&&Rh(e.prototype,r),n&&Rh(e,n),i}(Xd)).prototype,"points",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Uh(Nh.prototype,"pointsPosition",[f.k],Object.getOwnPropertyDescriptor(Nh.prototype,"pointsPosition"),Nh.prototype),Uh(Nh.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Nh.prototype,"width"),Nh.prototype),Uh(Nh.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Nh.prototype,"height"),Nh.prototype),Uh(Nh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Nh.prototype,"anchors"),Nh.prototype),Nh);function Wh(t){return(Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kh(t,e){return(Kh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qh(t);if(e){var o=Qh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qh(this,r)}}function qh(t,e){if(e&&("object"===Wh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $h(t)}function $h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qh(t){return(Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jh(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ty,ey,ry,ny,oy=(Hh=Jh((Xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kh(t,e)}(i,t);var e,r,n,o=Zh(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=$h(r=o.call(this,t,e,"rect")),a="modelType",c=ca.RECT_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,function(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}($h(r),"radius",Hh,$h(r)),r}return e=i,(r=[{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,r=this.y,n=this.width,o=this.height;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:r-o/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:r,id:"".concat(this.id,"_1")},{x:e,y:r+o/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:r,id:"".concat(this.id,"_3")}]}}])&&Vh(e.prototype,r),n&&Vh(e,n),i}(Xd)).prototype,"radius",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.rect.radius}}),Jh(Xh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Xh.prototype,"anchors"),Xh.prototype),Xh);function iy(t){return(iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ay(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function cy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uy(t,e){return(uy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=py(t);if(e){var o=py(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ly(this,r)}}function ly(t,e){if(e&&("object"===iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fy(t)}function fy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function py(t){return(py=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dy(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var hy,yy=(ey=dy((ty=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uy(t,e)}(i,t);var e,r,n,o=sy(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=fy(r=o.call(this,t,e,"text")),a="modelType",c=ca.TEXT_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,ay(fy(r),"fontSize",ey,fy(r)),ay(fy(r),"fontFamily",ry,fy(r)),ay(fy(r),"fontWeight",ny,fy(r)),r}return e=i,(r=[{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=Iu({rows:t,fontSize:this.fontSize,rowsLength:t.length}).width;return e>100?e:100}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=Iu({rows:t,fontSize:this.fontSize,rowsLength:t.length}).height;return e>20?e:20}}])&&cy(e.prototype,r),n&&cy(e,n),i}(Xd)).prototype,"fontSize",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.text.fontSize}}),ry=dy(ty.prototype,"fontFamily",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.text.fontFamily}}),ny=dy(ty.prototype,"fontWeight",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.text.fontWeight}}),dy(ty.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(ty.prototype,"width"),ty.prototype),dy(ty.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(ty.prototype,"height"),ty.prototype),ty);function vy(t){return(vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function by(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gy(t,e){return(gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function my(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wy(t);if(e){var o=wy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Oy(this,r)}}function Oy(t,e){if(e&&("object"===vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xy(t)}function xy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wy(t){return(wy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jy,_y,Ey,Sy,Py=(function(t,e,r,n,o){var i={};Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}((hy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gy(t,e)}(i,t);var e,r,n,o=my(i);function i(t,e){var r,n,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=xy(r=o.call(this,t,e,"html")),a="modelType",c=ca.HTML_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,r}return e=i,(r=[{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,r=this.y,n=this.width,o=this.height;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:r-o/2,id:"".concat(this.id,"_0")},{x:e+n/2,y:r,id:"".concat(this.id,"_1")},{x:e,y:r+o/2,id:"".concat(this.id,"_2")},{x:e-n/2,y:r,id:"".concat(this.id,"_3")}]}}])&&by(e.prototype,r),n&&by(e,n),i}(Xd)).prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(hy.prototype,"anchors"),hy.prototype),hy);function Ay(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ky(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ny(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var My=Ac.snapline,Dy=(_y=Ny((jy=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(n="graphModel")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,Ay(this,"isShowHorizontal",_y,this),Ay(this,"isShowVertical",Ey,this),Ay(this,"position",Sy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}var e,r,n;return e=t,(r=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||My.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||My.strokeWidth}},{key:"getCenterSnapLine",value:function(t,e){for(var r=t.x,n=t.y,o=!1,i=!1,a=0;a<e.length;a++){var c=e[a];if(c.id!==t.id&&(r===c.x&&(o=!0),n===c.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:r,y:n}}}},{key:"getHorizontalSnapline",value:function(t,e){var r,n,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=Pu(a);else{var c=this.graphModel.getNodeModel(i);n=Pu(c)}}for(var u=0;u<e.length;u++){var s=e[u];if(s.id!==t.id){var l=Pu(s);if(l.minY===n.minY||l.maxY===n.minY){o=!0,r=n.minY;break}if(l.minY===n.maxY||l.maxY===n.maxY){o=!0,r=n.maxY;break}}}return Wi({isShowHorizontal:o,position:{y:r}})}},{key:"getVerticalSnapline",value:function(t,e){var r,n,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=Pu(a);else{var c=this.graphModel.getNodeModel(i);n=Pu(c)}}for(var u=0;u<e.length;u++){var s=e[u];if(s.id!==t.id){var l=Pu(s);if(l.minX===n.minX||l.maxX===n.minX){o=!0,r=n.minX;break}if(l.minX===n.maxX||l.maxX===n.maxX){o=!0,r=n.maxX;break}}}return Wi({isShowVertical:o,position:{x:r}})}},{key:"getSnapLinePosition",value:function(t,e){var r=this.getCenterSnapLine(t,e),n=r.isShowHorizontal,o=r.isShowVertical;if(!n){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(r.isShowHorizontal=i.isShowHorizontal,r.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(t,e);a.isShowVertical&&(r.isShowVertical=a.isShowVertical,r.position.x=a.position.x)}return r}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,r=t.isShowVertical,n=t.position;this.position=n,this.isShowHorizontal=e,this.isShowVertical=r}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,r=this.getSnapLinePosition(t,e);this.setSnaplineInfo(r)}}])&&ky(e.prototype,r),n&&ky(e,n),t}()).prototype,"isShowHorizontal",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ey=Ny(jy.prototype,"isShowVertical",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sy=Ny(jy.prototype,"position",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ny(jy.prototype,"stroke",[f.k],Object.getOwnPropertyDescriptor(jy.prototype,"stroke"),jy.prototype),Ny(jy.prototype,"strokeWidth",[f.k],Object.getOwnPropertyDescriptor(jy.prototype,"strokeWidth"),jy.prototype),Ny(jy.prototype,"clearSnapline",[f.i],Object.getOwnPropertyDescriptor(jy.prototype,"clearSnapline"),jy.prototype),Ny(jy.prototype,"setNodeSnapLine",[f.i],Object.getOwnPropertyDescriptor(jy.prototype,"setNodeSnapLine"),jy.prototype),jy);function Ty(t){return(Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cy(){return(Cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Iy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ry(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ry(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ry(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ly(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zy(t,e){return(zy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function By(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Uy(t);if(e){var o=Uy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gy(this,r)}}function Gy(t,e){if(e&&("object"===Ty(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fy(t)}function Fy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uy(t){return(Uy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zy(t,e)}(i,t);var e,r,n,o=By(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Xy(Fy(t=o.call(this)),"preTargetNode",void 0),Xy(Fy(t),"dragHandler",void 0),Xy(Fy(t),"sourceRuleResults",void 0),Xy(Fy(t),"targetRuleResults",void 0),Xy(Fy(t),"onDragStart",(function(){var e=t.props,r=e.x,n=e.y,o=e.nodeModel,i=e.graphModel,a=i.overlapMode;i.selectNodeById(o.id),a!==fa.INCREASE&&i.toFront(o.id),t.setState({startX:r,startY:n,endX:r,endY:n})})),Xy(Fy(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.state,i=o.endX,a=o.endY,c=t.props,u=c.graphModel,s=c.nodeModel,l=u.transformMatrix,f=u.nodes,p=Iy(l.moveCanvasPointByHtml([i,a],r,n),2),d=p[0],h=p[1];t.setState({endX:d,endY:h,draging:!0});var y=wu({x:i,y:a},f);if(y){var v=y.node;if(t.preTargetNode=v,!t.targetRuleResults.has(v.id)){var b=s.isAllowConnectedAsSource(v),g=v.isAllowConnectedAsTarget(s);t.sourceRuleResults.set(v.id,Ru(b)),t.targetRuleResults.set(v.id,Ru(g))}var m=t.sourceRuleResults.get(v.id).isAllPass,O=t.targetRuleResults.get(v.id).isAllPass;m&&O?v.setElementState(ia.ALLOW_CONNECT):v.setElementState(ia.NOT_ALLOW_CONNECT)}else t.preTargetNode&&t.preTargetNode.state!==ia.DEFAULT&&t.preTargetNode.setElementState(ia.DEFAULT)})),Xy(Fy(t),"onDragEnd",(function(){t.checkEnd(),t.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})})),Xy(Fy(t),"checkEnd",(function(){var e=t.props,r=e.graphModel,n=e.nodeModel,o=e.x,i=e.y,a=e.eventCenter,c=e.id,u=r.nodes,s=r.edgeType,l=t.state,f=l.endX,p=l.endY,d=l.draging,h=wu({x:f,y:p},u);if(t.preTargetNode&&t.preTargetNode.state!==ia.DEFAULT&&t.preTargetNode.setElementState(ia.DEFAULT),d&&h&&h.node){var y=h.node,v=t.sourceRuleResults.get(y.id)||{},b=v.isAllPass,g=v.msg,m=t.targetRuleResults.get(y.id)||{},O=m.isAllPass,x=m.msg;if(b&&O)y.setElementState(ia.ALLOW_CONNECT),o===h.anchor.x&&i===h.anchor.y||r.createEdge({type:s,sourceNodeId:n.id,sourceAnchorId:c,startPoint:{x:o,y:i},targetNodeId:h.node.id,targetAnchorId:h.anchor.id,endPoint:{x:h.anchor.x,y:h.anchor.y}});else{var w=y.getData();a.emit(sa.CONNECTION_NOT_ALLOWED,{data:w,msg:x||g})}}})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,draging:!1},t.dragHandler=ul({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return e=i,(r=[{key:"isShowLine",value:function(){var t=this.state,e=t.startX,r=t.startY,n=t.endX,o=t.endY;return _u(e,r,n,o)>10}},{key:"render",value:function(){var t=this.state,e=t.startX,r=t.startY,n=t.endX,o=t.endY,i=this.props,a=i.x,c=i.y,u=i.style,s=i.edgeStyle;return b("g",{className:"lf-anchor"},b(lp,Cy({className:"lf-node-anchor-hover",x:a,y:c},i.hoverStyle,{onMouseDown:this.dragHandler})),b(lp,Cy({className:"lf-node-anchor",x:a,y:c},u,{onMouseDown:this.dragHandler})),this.isShowLine()&&b(zf,Cy({x1:e,y1:r,x2:n,y2:o,"pointer-events":"none"},s)))}}])&&Ly(e.prototype,r),n&&Ly(e,n),i}(x);function Yy(t){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ky(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.value,a=t.color,c=void 0===a?"#000000":a,u=t.fontSize,s=t.fill,l=void 0===s?"currentColor":s,f=t.model,p=t.fontFamily,d=void 0===p?"":p,h=t.lineHeight,y=t.autoWrap,v=void 0!==y&&y,g=t.wrapPadding,m=void 0===g?"0, 0":g,O={textAnchor:"middle","dominant-baseline":"middle",x:r,y:o,fill:l};if(Object.entries(t).forEach((function(t){var e=Wy(t,2),r=e[0],n=e[1];"object"!==Yy(n)&&(O[r]=n)})),i){var x=String(i).split(/[\r\n]/g),w=x.length,j=f.BaseType,_=f.width,E=f.textWidth,S=f.modelType;if(j===ua.NODE&&S!==ca.TEXT_NODE&&v||j===ua.EDGE&&v&&E){var P=E||_,A=Cu({rows:x,style:{fontSize:"".concat(u,"px"),width:"".concat(P,"px"),fontFamily:d,lineHeight:h,padding:m},rowsLength:w,className:"lf-get-text-height"}),k=f.height>A?f.height:A;return b("g",null,b("foreignObject",{width:P,height:k,x:O.x-P/2,y:O.y-k/2},b("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:f.height,width:P,color:c,padding:m}},b("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:u,fontFamily:d,lineHeight:h,background:"transparent",textAlign:"center",wordBreak:"break-all"}},x.map((function(t){return b("div",null,t)}))))))}if(w>1){var N=x.map((function(t,e){return b("tspan",{className:"lf-text-tspan",x:r,y:o+(e-(w-1)/2)*(u+2)},t)}));return b("text",O,N)}return b("text",O,i)}}function Zy(t){return(Zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qy(){return(qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function $y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tv(t,e){return(tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ov(t);if(e){var o=ov(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rv(this,r)}}function rv(t,e){if(e&&("object"===Zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nv(t)}function nv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ov(t){return(ov=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var av=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}(i,t);var e,r,n,o=ev(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),iv(nv(e=o.call(this)),"dragHandler",void 0),iv(nv(e),"sumDeltaX",0),iv(nv(e),"sumDeltaY",0),iv(nv(e),"stepDrag",void 0),iv(nv(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.props,i=o.model,a=$y(o.graphModel.transformMatrix.fixDeltaXY(r,n),2),c=a[0],u=a[1];i.moveText(c,u)})),iv(nv(e),"dblClickHandler",(function(){e.props.editable&&e.props.model.setElementState(ia.TEXT_EDIT)})),iv(nv(e),"mouseDownHandle",(function(t){var r=e.props,n=r.draggable,o=r.graphModel.editConfig.nodeTextDraggable;(n||o)&&e.stepDrag.handleMouseDown(t)}));var r=t.model,n=t.draggable;return e.stepDrag=new Pl({onDraging:e.onDraging,step:1,model:r,isStopPropagation:n}),e}return e=i,(r=[{key:"getShape",value:function(){var t=this.props,e=t.model,r=t.style,n=e.text,o=n.value;return b(Ky,qy({},{x:n.x,y:n.y,className:"lf-element-text",value:o},r,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return b("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Jy(e.prototype,r),n&&Jy(e,n),i}(x),cv=null!==window.navigator.userAgent.match(/MSIE|Trident/);function uv(t){return(uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sv(){return(sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function lv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lv(Object(r),!0).forEach((function(e){Ov(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yv(t,e){return(yv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=mv(t);if(e){var o=mv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bv(this,r)}}function bv(t,e){if(e&&("object"===uv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gv(t)}function gv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mv(t){return(mv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ov(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yv(t,e)}(i,t);var e,r,n,o=vv(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ov(gv(e=o.call(this)),"stepDrag",void 0),Ov(gv(e),"contextMenuTime",void 0),Ov(gv(e),"startTime",void 0),Ov(gv(e),"clickTimer",void 0),Ov(gv(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.state.isDraging||e.setState({isDraging:!0});var c=pv(a.transformMatrix.fixDeltaXY(r,n),2),u=c[0],s=c[1];a.moveNode(i.id,u,s)})),Ov(gv(e),"onDragEnd",(function(){e.setState({isDraging:!1})})),Ov(gv(e),"handleClick",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var r=e.props,n=r.model,o=r.eventCenter,i=r.graphModel,a={data:n.getData(),e:t,position:i.getPointByClient({x:t.clientX,y:t.clientY})},c=2===t.button,u=2===t.detail;if(!c){var s=i.editConfig.metaKeyMultipleSelected;i.selectNodeById(n.id,t.metaKey&&s),e.toFront(),u?(i.editConfig.nodeTextEdit&&n.text.editable&&(n.setSelected(!1),i.setElementStateById(n.id,ia.TEXT_EDIT)),o.emit(sa.NODE_DBCLICK,a)):(o.emit(sa.ELEMENT_CLICK,a),o.emit(sa.NODE_CLICK,a))}}})),Ov(gv(e),"handleContextMenu",(function(t){t.preventDefault();var r=e.props,n=r.model,o=r.eventCenter,i=r.graphModel,a=n.getData(),c=i.getPointByClient({x:t.clientX,y:t.clientY});i.setElementStateById(n.id,ia.SHOW_MENU,c.domOverlayPosition),i.selectNodeById(n.id),o.emit(sa.NODE_CONTEXTMENU,{data:a,e:t,position:c}),e.toFront()})),Ov(gv(e),"handleMouseDown",(function(t){var r=e.props,n=r.model,o=r.graphModel;e.toFront(),e.startTime=(new Date).getTime(),o.editConfig.adjustNodePosition&&n.draggable&&e.stepDrag&&e.stepDrag.handleMouseDown(t)})),Ov(gv(e),"setHoverON",(function(t){if(!e.state.isHovered){e.setState({isHovered:!0});var r=e.props,n=r.model,o=r.eventCenter,i=n.getData();n.setHovered(!0),o.emit(sa.NODE_MOUSEENTER,{data:i,e:t})}})),Ov(gv(e),"setHoverOFF",(function(t){e.setState({isHovered:!1});var r=e.props,n=r.model,o=r.eventCenter,i=n.getData();n.setHovered(!1),o.emit(sa.NODE_MOUSELEAVE,{data:i,e:t})})),Ov(gv(e),"onMouseOut",(function(t){cv&&e.setHoverOFF(t)}));var r=t.graphModel.gridSize,n=t.eventCenter,a=t.model;return e.stepDrag=new Pl({onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:r,eventType:"NODE",eventCenter:n,model:a}),e.state={isDraging:!1,isHovered:!1},e}return e=i,n=[{key:"getModel",value:function(t){return t}}],(r=[{key:"getShapeStyle",value:function(){var t=this.props.model;return{width:t.width,height:t.height,fill:t.fill,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,stroke:t.stroke,strokeOpacity:t.strokeOpacity,opacity:t.opacity,outlineColor:t.outlineColor}}},{key:"getAttributes",value:function(){var t=this.props.model,e=t.id,r=t.properties,n=void 0===r?{}:r,o=t.type,i=t.x,a=t.y,c=t.isSelected,u=t.isHovered,s=t.text,l=this.getShapeStyle();return fv({id:e,properties:fv({},n),type:o,x:i,y:a,isSelected:c,isHovered:u,text:fv({},s)},l)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return fv({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return fv({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return fv({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var t=this,e=this.props,r=e.model,n=e.graphModel,o=e.eventCenter,i=r.isSelected,a=r.isHitable,c=this.state,u=c.isHovered,s=c.isDraging;if(a&&(i||u)){var l=this.getAnchorStyle(),f=this.getAnchorHoverStyle(),p=this.getNewEdgeStyle();return ki(r.anchors,(function(e,i){return b(Hy,sv({},e,{nodeDraging:s,style:l,hoverStyle:f,edgeStyle:p,anchorIndex:i,nodeModel:r,eventCenter:o,graphModel:n,setHoverOFF:t.setHoverOFF}))}))}return[]}},{key:"getTextStyle",value:function(){return fv({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var t=this.props,e=t.model,r=t.graphModel;if(e.state===ia.TEXT_EDIT)return"";var n=this.getTextStyle();if(e.text){var o=r.editConfig,i=!1;return(e.text.draggable||o.nodeTextDraggable)&&(i=!0),b(av,{editable:o.nodeTextEdit&&e.text.editable,style:n,model:e,graphModel:r,draggable:i})}}},{key:"getStateClassName",value:function(){var t="lf-node";switch(this.props.model.state){case ia.ALLOW_CONNECT:t+=" lf-node-allow";break;case ia.NOT_ALLOW_CONNECT:t+=" lf-node-not-allow";break;default:t+=" lf-node-default"}return this.state.isDraging&&(t+=" lf-dragging"),t}},{key:"toFront",value:function(){var t=this.props,e=t.model,r=t.graphModel;r.overlapMode!==fa.INCREASE&&r.toFront(e.id)}},{key:"render",value:function(){var t,e=this.props,r=e.model,n=e.graphModel,o=n.editConfig,i=o.hideAnchors,a=o.adjustNodePosition,c=n.gridSize,u=n.transformMatrix.SCALE_X,s=r.isHitable,l=r.draggable,f=b("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(c*u),t=b("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):t=b("g",{className:this.getStateClassName()},f),t}}])&&hv(e.prototype,r),n&&hv(e,n),i}(x);function wv(t){return(wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jv(Object(r),!0).forEach((function(e){Ev(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ev(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Av(t,e,r){return(Av="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dv(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function kv(t,e){return(kv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dv(t);if(e){var o=Dv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mv(this,r)}}function Mv(t,e){if(e&&("object"===wv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dv(t){return(Dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kv(t,e)}(i,t);var e,r,n,o=Nv(i);function i(){return Sv(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShapeStyle",value:function(){var t=Av(Dv(i.prototype),"getShapeStyle",this).call(this),e=this.props.model.radius;return _v(_v({},t),{},{radius:e})}},{key:"getAttributes",value:function(){var t=Av(Dv(i.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return _v(_v({},t),e)}},{key:"getShape",value:function(){return b($f,this.getAttributes())}}])&&Pv(e.prototype,r),n&&Pv(e,n),i}(xv);function Cv(t){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Iv(Object(r),!0).forEach((function(e){Lv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gv(t,e,r){return(Gv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hv(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Fv(t,e){return(Fv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Hv(t);if(e){var o=Hv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Xv(this,r)}}function Xv(t,e){if(e&&("object"===Cv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hv(t){return(Hv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fv(t,e)}(i,t);var e,r,n,o=Uv(i);function i(){return zv(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShapeStyle",value:function(){var t=Gv(Hv(i.prototype),"getShapeStyle",this).call(this),e=this.props.model.r;return Rv(Rv({},t),{},{r:e})}},{key:"getAttributes",value:function(){var t=Gv(Hv(i.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return Rv(Rv({},t),e)}},{key:"getShape",value:function(){return b(lp,this.getAttributes())}}])&&Bv(e.prototype,r),n&&Bv(e,n),i}(xv);function Wv(t){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Kv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zv(t){var e=t.points,r=t.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(r)};return Object.entries(t).forEach((function(t){var e=Vv(t,2),r=e[0],o=e[1];"object"!==Wv(o)&&(n[r]=o)})),n.points=e.map((function(t){return t.join(",")})).join(" "),b("polygon",n)}function qv(t){return(qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$v(Object(r),!0).forEach((function(e){Jv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rb(t,e,r){return(rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ab(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function nb(t,e){return(nb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ob(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ab(t);if(e){var o=ab(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ib(this,r)}}function ib(t,e){if(e&&("object"===qv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ab(t){return(ab=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nb(t,e)}(i,t);var e,r,n,o=ob(i);function i(){return tb(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShapeStyle",value:function(){var t=rb(ab(i.prototype),"getShapeStyle",this).call(this),e=this.props.model.points;return Qv(Qv({},t),{},{points:e})}},{key:"getAttributes",value:function(){var t=rb(ab(i.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return Qv(Qv({},t),e)}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.width,r=t.height,n=t.x,o=t.y,i=t.fill,a=t.fillOpacity,c=t.strokeWidth,u=t.stroke,s=t.strokeOpacity,l=t.points;return b("g",{transform:"matrix(1 0 0 1 ".concat(n-e/2," ").concat(o-r/2,")")},b(Zv,{fill:i,fillOpacity:a,strokeWidth:c,stroke:u,strokeOpacity:s,points:l}))}}])&&eb(e.prototype,r),n&&eb(e,n),i}(xv);function ub(t){return(ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sb(Object(r),!0).forEach((function(e){fb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function db(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hb(t,e,r){return(hb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gb(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function yb(t,e){return(yb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gb(t);if(e){var o=gb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bb(this,r)}}function bb(t,e){if(e&&("object"===ub(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gb(t){return(gb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yb(t,e)}(i,t);var e,r,n,o=vb(i);function i(){return pb(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShapeStyle",value:function(){var t=this.props.model.points;return lb(lb({},hb(gb(i.prototype),"getShapeStyle",this).call(this)),{},{points:t})}},{key:"getAttributes",value:function(){var t=hb(gb(i.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return lb(lb({},t),e)}},{key:"getShape",value:function(){var t=this.props.model.points,e=this.getAttributes();return b("g",null,b(Zv,{fill:e.fill,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke,strokeOpacity:e.strokeOpacity,points:t}))}}])&&db(e.prototype,r),n&&db(e,n),i}(xv);function Ob(t){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jb(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.rx,a=void 0===i?4:i,c=t.ry,u={cx:r,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=xb(t,2),r=e[0],n=e[1];"object"!==Ob(n)&&(u[r]=n)})),b("ellipse",u)}function _b(t){return(_b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eb(Object(r),!0).forEach((function(e){Pb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nb(t,e,r){return(Nb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cb(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Mb(t,e){return(Mb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Db(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cb(t);if(e){var o=Cb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tb(this,r)}}function Tb(t,e){if(e&&("object"===_b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cb(t){return(Cb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ib=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mb(t,e)}(i,t);var e,r,n,o=Db(i);function i(){return Ab(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getAttributes",value:function(){var t=Nb(Cb(i.prototype),"getAttributes",this).call(this),e=this.props.model,r=e.rx,n=e.ry;return Sb(Sb({},t),{},{rx:r,ry:n})}},{key:"getShape",value:function(){return b(jb,this.getAttributes())}}])&&kb(e.prototype,r),n&&kb(e,n),i}(xv);function Rb(t){return(Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lb(Object(r),!0).forEach((function(e){Bb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ub(t,e){return(Ub=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yb(t);if(e){var o=Yb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hb(this,r)}}function Hb(t,e){if(e&&("object"===Rb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yb(t){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ub(t,e)}(i,t);var e,r,n,o=Xb(i);function i(){return Gb(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getBackgroud",value:function(){var t=this.getAttributes().text,e=this.getTextStyle();if(t&&t.value&&e.backgroundStyle&&"transparnet"!==e.backgroundStyle.fill){var r=e.fontSize,n=t.value,o=t.x,i=t.y,a=String(n).split(/[\r\n]/g),c=a.length,u=0;a&&a.forEach((function(t){var e=$s(t);u=e>u?e:u}));var s=Iu({rows:a,fontSize:r,rowsLength:c}),l=s.width,f=s.height;return b($f,zb(zb({},e.backgroundStyle),{},{x:o-1,y:i-1,width:l,height:f}))}}},{key:"getShape",value:function(){var t=this.getAttributes();return b("g",null,this.getBackgroud(),b(Ky,t))}}])&&Fb(e.prototype,r),n&&Fb(e,n),i}(xv);function Vb(t){return(Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qb(t,e){return(qb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=tg(t);if(e){var o=tg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Qb(this,r)}}function Qb(t,e){if(e&&("object"===Vb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jb(t)}function Jb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tg(t){return(tg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qb(t,e)}(i,t);var e,r,n,o=$b(i);function i(){var t;Kb(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return eg(Jb(t=o.call.apply(o,[this].concat(r))),"ref",void 0),eg(Jb(t),"setRef",(function(e){t.ref=e})),t}return e=i,(r=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.x,r=t.y,n=t.width,o=t.height;return b("foreignObject",{x:e-n/2,y:r-o/2,width:n,height:o,ref:this.setRef})}}])&&Zb(e.prototype,r),n&&Zb(e,n),i}(xv);function ng(t){return(ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function og(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ig(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ig(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ag(t){var e={d:""};return Object.entries(t).forEach((function(t){var r=og(t,2),n=r[0],o=r[1];"object"!==ng(o)&&(e[n]=o)})),b("path",e)}ag.defaultProps={strokeDasharray:""};var cg=ag;function ug(t){return(ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dg(t,e){return(dg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vg(t);if(e){var o=vg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yg(this,r)}}function yg(t,e){if(e&&("object"===ug(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vg(t){return(vg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dg(t,e)}(i,t);var e,r,n,o=hg(i);function i(){return fg(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getArrowAttibutes",value:function(){var t=this.props,e=t.arrowInfo,r=t.style,n=e.start,o=e.end,i={start:n,end:o,offset:r.offset,verticalLength:r.verticalLength,type:"end"},a=ms(i),c=a.leftX,u=a.leftY,s=a.rightX,l=a.rightY;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sg(Object(r),!0).forEach((function(e){lg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({d:"M".concat(c," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},r)}},{key:"getShape",value:function(){var t=this.getArrowAttibutes(),e=t.d,r=t.strokeWidth,n=t.stroke,o=t.fill;return b(cg,{d:e,fill:o,strokeWidth:r,stroke:n})}},{key:"render",value:function(){return b("g",{className:"lf-arrow"},this.getShape())}}])&&pg(e.prototype,r),n&&pg(e,n),i}(x);function gg(t){return(gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mg(){return(mg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Og(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Og(Object(r),!0).forEach((function(e){Ag(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Og(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jg(t,e){return(jg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pg(t);if(e){var o=Pg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Eg(this,r)}}function Eg(t,e){if(e&&("object"===gg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sg(t)}function Sg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pg(t){return(Pg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ag(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kg,Ng=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jg(t,e)}(i,t);var e,r,n,o=_g(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ag(Sg(e=o.call(this,t)),"setHoverON",(function(){e.setState({isHoverd:!0})})),Ag(Sg(e),"setHoverOFF",(function(){e.setState({isHoverd:!1})})),e.state={isHoverd:!1},e}return e=i,(r=[{key:"getBackgroud",value:function(){var t=this.props.model,e=this.props.style,r=t.text,n=t.textWidth,o=ta(e.background,"fill","stroke","radius","height");if(this.state.isHoverd&&e.hoverBackground&&(o=xg(xg({},o),e.hoverBackground)),r&&r.value&&"transparnet"!==o.fill){var i,a=e.fontSize,c=e.autoWrap,u=e.lineHeight,s=e.wrapPadding,l=r.value,f=r.x,p=r.y,d=String(l).split(/[\r\n]/g),h=d.length;if(c&&n){var y=Cu({rows:d,style:{fontSize:"".concat(a,"px"),width:"".concat(n,"px"),lineHeight:u,padding:s},rowsLength:h,className:"lf-get-text-height"});i=xg(xg({},o),{},{x:f-1,y:p-1,width:n,height:y})}else{var v=0;d&&d.forEach((function(t){var e=$s(t);v=e>v?e:v}));var g=Iu({rows:d,fontSize:a,rowsLength:h}),m=g.width,O=g.height;i=xg(xg({},o),{},{x:f-1,y:p-1,width:m,height:O})}return b($f,i)}}},{key:"getShape",value:function(){var t=this.props,e=t.model,r=t.style,n=e.text,o=n.value,i=xg({x:n.x,y:n.y,className:"lf-element-text",value:o},r);return b("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),b(Ky,mg({},i,{model:e})))}}])&&wg(e.prototype,r),n&&wg(e,n),i}(av);function Mg(t){return(Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dg(){return(Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Tg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tg(Object(r),!0).forEach((function(e){Xg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ig(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zg(t,e){return(zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ug(t);if(e){var o=Ug(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gg(this,r)}}function Gg(t,e){if(e&&("object"===Mg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fg(t)}function Fg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ug(t){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(kg||(kg={}));var Hg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zg(t,e)}(i,t);var e,r,n,o=Bg(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Xg(Fg(t=o.call(this)),"dragHandler",void 0),Xg(Fg(t),"oldEdge",void 0),Xg(Fg(t),"onDragStart",(function(){var e=t.props,r=e.x,n=e.y,o=e.edgeModel,i=o.startPoint,a=o.endPoint,c=o.pointsList;t.oldEdge={startPoint:i,endPoint:a,pointsList:c},t.setState({endX:r,endY:n,draging:!0})})),Xg(Fg(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.state,i=o.endX,a=o.endY,c=t.props,u=c.graphModel,s=c.type,l=Ig(u.transformMatrix.moveCanvasPointByHtml([i,a],r,n),2),f=l[0],p=l[1];t.setState({endX:f,endY:p,draging:!0});var d=t.props.edgeModel,h=u.nodes,y=wu({x:i,y:a},h);if(y&&y.node){var v,b=d.startPoint,g=d.endPoint,m=d.sourceNode,O=d.targetNode;s===kg.SOURCE?v={startPoint:{x:y.anchor.x,y:y.anchor.y},endPoint:{x:g.x,y:g.y},sourceNode:y.node,targetNode:O}:s===kg.TARGET&&(v={startPoint:{x:b.x,y:b.y},endPoint:{x:y.anchor.x,y:y.anchor.y},sourceNode:m,targetNode:y.node}),d.updateAfterAdjustStartAndEnd(v)}else s===kg.SOURCE?d.updateStartPoint({x:f,y:p}):s===kg.TARGET&&d.updateEndPoint({x:f,y:p})})),Xg(Fg(t),"onDragEnd",(function(){t.setState({draging:!1});var e=t.props,r=e.graphModel,n=e.edgeModel,o=e.type,i=e.eventCenter,a=r.nodes,c=t.state,u=c.endX,s=c.endY,l=c.draging,f=wu({x:u,y:s},a);if(l)if(f&&f.node){var p=Cg(Cg({},n.getData()),{},{sourceAnchorId:"",targetAnchorId:""});o===kg.SOURCE?p=Cg(Cg({},p),{},{sourceNodeId:f.node.id,sourceAnchorId:f.anchor.id,startPoint:{x:f.anchor.x,y:f.anchor.y},targetNodeId:n.targetNodeId,endPoint:Cg({},n.endPoint)}):o===kg.TARGET&&(p=Cg(Cg({},p),{},{sourceNodeId:n.sourceNodeId,startPoint:Cg({},n.startPoint),targetNodeId:f.node.id,targetAnchorId:f.anchor.id,endPoint:{x:f.anchor.x,y:f.anchor.y}})),r.removeEdgeById(n.id);var d=r.createEdge(Cg({},p));i.emit("edge:exchange-node",{data:{newEdge:d.getData(),oldEdge:n.getData()}})}else t.recoveryEdge()})),Xg(Fg(t),"recoveryEdge",(function(){var e=t.props.edgeModel,r=t.oldEdge,n=r.startPoint,o=r.endPoint,i=r.pointsList;e.updateStartPoint(n),e.updateEndPoint(o),e.modelType!==ca.LINE_EDGE&&(e.pointsList=i,e.initPoints())})),Xg(Fg(t),"getAdjustPointStyle",(function(){return t.props.graphModel.theme.edgeAdjust})),t.state={draging:!1,endX:0,endY:0},t.dragHandler=ul({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return e=i,(r=[{key:"render",value:function(){var t=this.props,e=t.x,r=t.y,n=this.state.draging;return b("g",null,b(lp,Dg({className:"lf-edge-adjust-point"},this.getAdjustPointStyle(),{x:e,y:r,onMouseDown:this.dragHandler,"pointer-events":n?"none":""})))}}])&&Lg(e.prototype,r),n&&Lg(e,n),i}(x);function Yg(t){return(Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wg(){return(Wg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Vg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vg(Object(r),!0).forEach((function(e){rm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $g(t,e){return($g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=em(t);if(e){var o=em(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Jg(this,r)}}function Jg(t,e){if(e&&("object"===Yg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tm(t)}function tm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function em(t){return(em=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$g(t,e)}(i,t);var e,r,n,o=Qg(i);function i(){var t;Zg(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return rm(tm(t=o.call.apply(o,[this].concat(r))),"startTime",void 0),rm(tm(t),"contextMenuTime",void 0),rm(tm(t),"clickTimer",void 0),rm(tm(t),"handleHover",(function(e,r){var n=t.props,o=n.model,i=n.eventCenter;o.setHovered(e);var a=e?sa.EDGE_MOUSEENTER:sa.EDGE_MOUSELEAVE,c=o.getData();i.emit(a,{data:c,e:r})})),rm(tm(t),"setHoverON",(function(e){t.handleHover(!0,e)})),rm(tm(t),"setHoverOFF",(function(e){t.handleHover(!1,e)})),rm(tm(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var r=t.props,n=r.model,o=r.graphModel,i=r.eventCenter,a=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(n.id,ia.SHOW_MENU,a.domOverlayPosition),t.toFront(),o.selectEdgeById(n.id);var c=null==n?void 0:n.getData();i.emit(sa.EDGE_CONTEXTMENU,{data:c,e:e,position:a})})),rm(tm(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),rm(tm(t),"handleMouseUp",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200||2===e.button)){var r=2===e.detail,n=t.props,o=n.model,i=n.graphModel,a=n.eventCenter,c=null==o?void 0:o.getData(),u=i.getPointByClient({x:e.clientX,y:e.clientY});if(r){var s=i.editConfig,l=i.textEditElement;if(l&&l.id===o.id&&i.setElementStateById(o.id,ia.DEFAULT),s.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,ia.TEXT_EDIT),o.modelType===ca.POLYLINE_EDGE){var f=o,p=i.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition,d=p.x,h=p.y,y=el({x:d,y:h},f.points);f.dbClickPosition=y}a.emit(sa.EDGE_DBCLICK,{data:c,e:e,position:u})}else a.emit(sa.ELEMENT_CLICK,{data:c,e:e,position:u}),a.emit(sa.EDGE_CLICK,{data:c,e:e,position:u});var v=i.editConfig.metaKeyMultipleSelected;i.selectEdgeById(o.id,e.metaKey&&v),t.toFront()}})),rm(tm(t),"getIsDraging",(function(){return!1})),t}return e=i,(r=[{key:"getAttributes",value:function(){var t=this.props.model,e=t.strokeWidth,r=t.strokeOpacity,n=t.strokeDashArray,o=t.isSelected,i=t.isHovered,a=t.hoverStroke,c=t.selectedStroke,u=t.properties,s=this.props.model.stroke;return i?s=a:o&&(s=c),{stroke:s,strokeWidth:e,strokeOpacity:r,strokeDashArray:n,isSelected:o,isHovered:i,hoverStroke:a,selectedStroke:c,properties:Kg({},u)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,r=t.graphModel;if(e.state===ia.TEXT_EDIT)return"";var n=r.theme.edgeText,o=this.getTextStyle(),i=Wi({},n,o),a=!1,c=r.editConfig;return(e.text.draggable||c.edgeTextDraggable)&&(a=!0),b(Ng,{editable:c.edgeTextEdit&&e.text.editable,model:e,graphModel:r,style:i,draggable:a})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,r=t.endPoint,n=t.isSelected;return{start:e,end:r,hover:this.state.hover,isSelected:n}}},{key:"getArrowStyle",value:function(){var t=this.getAttributes().stroke,e=this.props.graphModel.theme.arrow;return{stroke:t,strokeWidth:1,fill:t,offset:e.offset,verticalLength:e.verticalLength}}},{key:"getArrow",value:function(){var t=this.getArrowInfo(),e=t.start,r=t.end;if(e&&r&&(e.x!==r.x||e.y!==r.y)){var n=this.getArrowStyle();return b(bg,{arrowInfo:t,style:n})}}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,r=t.graphModel,n=t.eventCenter,o=e.getAdjustStart(),i=e.getAdjustEnd();return b("g",null,b(Hg,Wg({type:"SOURCE"},o,{edgeModel:e,graphModel:r,eventCenter:n})),b(Hg,Wg({type:"TARGET"},i,{edgeModel:e,graphModel:r,eventCenter:n})))}},{key:"getAppendWidth",value:function(){return b("g",null)}},{key:"getAppend",value:function(){return b("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel,r=t.model;e.overlapMode!==fa.INCREASE&&e.toFront(r.id)}},{key:"render",value:function(){var t=this.props,e=t.model.isSelected,r=t.graphModel.editConfig,n=this.getIsDraging(),o=r.adjustEdgeStartAndEnd;return b("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),o&&e&&!n?this.getAdjustPoints():"")}}])&&qg(e.prototype,r),n&&qg(e,n),i}(x);function om(t){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function im(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function am(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?im(Object(r),!0).forEach((function(e){cm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):im(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function um(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lm(t,e,r){return(lm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hm(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function fm(t,e){return(fm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=hm(t);if(e){var o=hm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dm(this,r)}}function dm(t,e){if(e&&("object"===om(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hm(t){return(hm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ym=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fm(t,e)}(i,t);var e,r,n,o=pm(i);function i(){return um(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getAttributes",value:function(){var t=this.props.model,e=t.startPoint,r=t.endPoint;return am(am({},lm(hm(i.prototype),"getAttributes",this).call(this)),{},{startPoint:e,endPoint:r})}},{key:"getEdge",value:function(){var t=this.getAttributes(),e=t.stroke,r=t.startPoint,n=t.endPoint,o=t.strokeWidth,i=t.strokeOpacity,a=t.strokeDashArray;return b(zf,{x1:r.x,y1:r.y,x2:n.x,y2:n.y,strokeOpacity:i,strokeWidth:o,stroke:e,strokeDasharray:a})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=function(t){var e,r=t.start,n=t.end;if(r.x===n.x&&r.y===n.y)e="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=ms(xs(xs({},o),{},{type:"start"})),a=ms(xs(xs({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:t.startPoint,end:t.endPoint}),r=e.d,n=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return b(cg,{d:r,fill:o,strokeWidth:n,stroke:a,strokeDasharray:i})}}])&&sm(e.prototype,r),n&&sm(e,n),i}(nm);function vm(t){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mm=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){var r=bm(t,2),n=r[0],o=r[1];"object"!==vm(o)&&(e[n]=o)})),b("polyline",e)};function Om(t){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xm(Object(r),!0).forEach((function(e){Dm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function jm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Em(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sm(t,e,r){return(Sm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mm(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Pm(t,e){return(Pm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Am(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mm(t);if(e){var o=Mm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return km(this,r)}}function km(t,e){if(e&&("object"===Om(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nm(t)}function Nm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mm(t){return(Mm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Tm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pm(t,e)}(i,t);var e,r,n,o=Am(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Dm(Nm(t=o.call(this)),"drag",void 0),Dm(Nm(t),"isDraging",void 0),Dm(Nm(t),"appendInfo",void 0),Dm(Nm(t),"dragHandler",void 0),Dm(Nm(t),"onDragStart",(function(){t.props.model.dragAppendStart()})),Dm(Nm(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.isDraging=!0;var c=jm(a.transformMatrix.fixDeltaXY(r,n),2),u=c[0],s=c[1],l=i;t.appendInfo=l.dragAppend(t.appendInfo,{x:u,y:s})})),Dm(Nm(t),"onDragEnd",(function(){t.props.model.dragAppendEnd(),t.isDraging=!1,t.appendInfo=void 0})),Dm(Nm(t),"beforeDragStart",(function(e,r){t.dragHandler(e),t.appendInfo=r})),Dm(Nm(t),"getIsDraging",(function(){return t.isDraging})),t.drag=ul({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return e=i,(r=[{key:"getAttributes",value:function(){var t=Sm(Mm(i.prototype),"getAttributes",this).call(this),e=this.props.model.points;return wm(wm({},t),{},{points:e})}},{key:"getEdge",value:function(){var t=this.getAttributes(),e=t.points,r=t.strokeWidth,n=t.stroke,o=t.strokeDashArray;return b(mm,{points:e,strokeWidth:r,stroke:n,strokeDasharray:o})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,r=t.isSelected,n={start:null,end:null,hover:this.state.hover,isSelected:r},o=Ks(e);return o.length>=2&&(n.start=o[o.length-2],n.end=o[o.length-1]),n}},{key:"getAppendAttibutes",value:function(t){var e,r=t.start,n=t.end;if(r.x===n.x&&r.y===n.y)e="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=ms(wm(wm({},o),{},{type:"start"})),a=ms(wm(wm({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttibutes(t),r=e.d,n=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return b(cg,{d:r,fill:o,strokeWidth:n,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,r=e.model,n=e.graphModel,o=r.pointsList,i=r.draggable,a=[],c=function(e){var r="lf-polyline-append",c={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:""},u=b("g",{className:r},t.getAppendShape(c));n.editConfig.adjustEdge&&i?(t.dragHandler=t.drag,c.start.x===c.end.x?(r+="-ew-resize",c.direction=la.VERTICAL):c.start.y===c.end.y&&(r+="-ns-resize",c.direction=la.HORIZONTAL),u=b("g",{className:t.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},b("g",{className:r},t.getAppendShape(c)))):t.dragHandler=function(){},a.push(u)},u=0;u<o.length-1;u++)c(u);return b("g",null,a)}}])&&Em(e.prototype,r),n&&Em(e,n),i}(nm);function Cm(t){return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Im(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lm(Object(r),!0).forEach((function(e){Bm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Um(t,e,r){return(Um="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wm(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function Xm(t,e){return(Xm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wm(t);if(e){var o=Wm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ym(this,r)}}function Ym(t,e){if(e&&("object"===Cm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wm(t){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xm(t,e)}(i,t);var e,r,n,o=Hm(i);function i(){return Gm(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getAttributes",value:function(){var t=Um(Wm(i.prototype),"getAttributes",this).call(this),e=this.props.model.path;return zm(zm({},t),{},{path:e})}},{key:"getEdge",value:function(){var t=this.getAttributes(),e=t.path,r=t.strokeWidth,n=t.stroke,o=t.strokeDashArray;return b(cg,{d:e,strokeWidth:r,stroke:n,fill:"none",strokeDasharray:o})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var t=this.getAttributes().path;return b(cg,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state.hover,r=t,n=r.path,o=r.isSelected,i=Im(function(t){var e=Js(t);return[e[2],e[3]]}(n),2);return{start:i[0],end:i[1],hover:e,isSelected:o}}}])&&Fm(e.prototype,r),n&&Fm(e,n),i}(nm),Km=function(t,e){return Do(t,e)},Zm=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},qm=function(){return _r.a.Date.now()},$m=/\s/,Qm=function(t){for(var e=t.length;e--&&$m.test(t.charAt(e)););return e},Jm=/^\s+/,tO=function(t){return t?t.slice(0,Qm(t)+1).replace(Jm,""):t},eO=/^[-+]0x[0-9a-f]+$/i,rO=/^0b[01]+$/i,nO=/^0o[0-7]+$/i,oO=parseInt,iO=function(t){if("number"==typeof t)return t;if(zo(t))return NaN;if(Ir(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ir(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=tO(t);var r=rO.test(t);return r||nO.test(t)?oO(t.slice(2),r?2:8):eO.test(t)?NaN:+t},aO=Math.max,cO=Math.min,uO=function(t,e,r){var n,o,i,a,c,u,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var r=n,i=o;return n=o=void 0,s=e,a=t.apply(i,r)}function h(t){return s=t,c=setTimeout(v,e),l?d(t):a}function y(t){var r=t-u;return void 0===u||r>=e||r<0||f&&t-s>=i}function v(){var t=qm();if(y(t))return b(t);c=setTimeout(v,function(t){var r=e-(t-u);return f?cO(r,i-(t-s)):r}(t))}function b(t){return c=void 0,p&&n?d(t):(n=o=void 0,a)}function g(){var t=qm(),r=y(t);if(n=arguments,o=this,u=t,r){if(void 0===c)return h(u);if(f)return clearTimeout(c),c=setTimeout(v,e),d(u)}return void 0===c&&(c=setTimeout(v,e)),a}return e=iO(e)||0,Ir(r)&&(l=!!r.leading,i=(f="maxWait"in r)?aO(iO(r.maxWait)||0,e):i,p="trailing"in r?!!r.trailing:p),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=u=o=c=void 0},g.flush=function(){return void 0===c?a:b(qm())},g},sO=r(140);function lO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pO,dO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fO(this,"undos",[]),fO(this,"redos",[]),fO(this,"callbacks",[]),fO(this,"stopWatch",null),fO(this,"curData",null),fO(this,"maxSize",50),fO(this,"waitTime",100),fO(this,"eventCenter",void 0),this.eventCenter=e}var e,r,n;return e=t,(r=[{key:"add",value:function(t){Km(Zm(this.undos),t)||(this.undos.push(t),Km(this.curData,t)||(this.redos=[]),this.eventCenter.emit(sa.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=pc(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=pc(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(sO.a)(t,uO((function(){var r=t.modelToGraphData();e.add(r)}),this.waitTime))}}])&&lO(e.prototype,r),n&&lO(e,n),t}();function hO(t){return(hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return vO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bO(Object(r),!0).forEach((function(e){EO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function OO(t,e){return(OO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_O(t);if(e){var o=_O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wO(this,r)}}function wO(t,e){if(e&&("object"===hO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jO(t)}function jO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _O(t){return(_O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SO,PO=ux(pO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OO(t,e)}(i,t);var e,r,n,o=xO(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),EO(jO(t=o.call(this)),"ref",{current:null}),EO(jO(t),"__prevText",{type:"",text:"",id:""}),EO(jO(t),"keyupHandler",(function(e){var r=e.target.innerText,n=t.props.graphModel.textEditElement;13===e.keyCode&&e.altKey&&n.setElementState(0),t.__prevText={type:n.type,text:r,id:n.id}})),t.state={style:{left:0,top:0}},t}return e=i,n=[{key:"getDerivedStateFromProps",value:function(t){var e,r=t.graphModel,n=r.transformMatrix,o=r.theme,i=r.textEditElement;if(i){var a;if(null===(a=i.text)||void 0===a||!a.value)if(i.BaseType===ua.EDGE){var c=(i=i).text,u=i.textPosition,s=u.x,l=u.y;c.x=s,c.y=l,i.setText(c)}else i=i;var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===ua.EDGE){var p=o.edgeText,d=p.autoWrap,h=p.lineHeight,y=p.wrapPadding,v=i.textWidth;d&&v&&(e=gO(gO({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===ua.NODE){var b=o.nodeText,g=b.autoWrap,m=b.lineHeight,O=b.wrapPadding,x=i,w=x.width,j=x.textWidth,_=x.modelType;(_!==ca.TEXT_NODE&&g||_===ca.TEXT_NODE&&g&&j)&&(e=gO(gO({},f),{},{width:j||w,minWidth:j||w,lineHeight:m,padding:O}))}var E=i.text,S=E.x,P=E.y,A=yO(n.CanvasPointToHtmlPoint([S,P]),2);return{style:gO({left:A[0],top:A[1]},e)}}}}],(r=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var t=this.props.graphModel,e=t.eventCenter,r=t.editConfig,n=r.edgeTextEdit,o=r.nodeTextEdit;(n||o)&&e.on(sa.GRAPH_TRANSFORM,(function(){t.textEditElement&&t.textEditElement.setElementState(ia.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,r=e.text,n=e.id;t.setElementTextById(n,r),t.eventCenter.emit(sa.TEXT_UPDATE,gO({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,r=this.state.style;return e?b("div",{contentEditable:!0,className:"lf-text-input",style:r,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}])&&mO(e.prototype,r),n&&mO(e,n),i}(x))||pO,AO=function(t){return t.modelType===ca.LINE_EDGE?function(t){var e=t.startPoint,r=t.endPoint,n=(e.x+r.x)/2,o=(e.y+r.y)/2,i=Math.abs(e.x-r.x)+10,a=Math.abs(e.y-r.y)+10;return{x:n-i/2,y:o-a/2,x1:n+i/2,y1:o+a/2}}(t):t.modelType===ca.POLYLINE_EDGE?function(t){var e=t.points,r=Ks(e),n=Ds(r,8),o=n.x,i=n.y,a=n.width,c=n.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(t):t.modelType===ca.BEZIER_EDGE?function(t){var e=t.path,r=Js(e),n=Ds(r,8),o=n.x,i=n.y,a=n.width,c=n.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(t):void 0};function kO(t){return(kO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,e)||DO(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MO(t){return function(t){if(Array.isArray(t))return TO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||DO(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DO(t,e){if(t){if("string"==typeof t)return TO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TO(t,e):void 0}}function TO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IO(t,e){return(IO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=BO(t);if(e){var o=BO(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return LO(this,r)}}function LO(t,e){if(e&&("object"===kO(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zO(t)}function zO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BO(t){return(BO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function GO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var FO=ux(SO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IO(t,e)}(i,t);var e,r,n,o=RO(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),GO(zO(e=o.call(this)),"stepDrag",void 0),GO(zO(e),"handleMouseDown",(function(t){e.stepDrag.handleMouseDown(t)})),GO(zO(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.props.graphModel;o.moveElements(o.getSelectElements(!0),r,n)})),GO(zO(e),"handleContextMenu",(function(t){t.preventDefault();var r=e.props,n=r.graphModel,o=r.graphModel,i=o.eventCenter,a=o.selectElements,c=n.getPointByClient({x:t.clientX,y:t.clientY}),u={nodes:[],edges:[]};MO(a.values()).forEach((function(t){t.BaseType===ua.NODE&&u.nodes.push(t.getData()),t.BaseType===ua.EDGE&&u.edges.push(t.getData())})),i.emit(sa.SELECTION_CONTEXTMENU,{data:u,e:t,position:c})}));var r=t.graphModel.gridSize,n=t.eventCenter;return e.stepDrag=new Pl({onDraging:e.onDraging,step:r,eventType:"multiple:select",eventCenter:n}),e}return e=i,(r=[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,r=t.transformMatrix;if(!(e.size<=1)){var n=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e={x:0,y:0,x1:0,y1:0};t.BaseType===ua.NODE&&(e=function(t){var e=t.x,r=t.y,n=t.width,o=t.height;return{x:e-n/2,y:r-o/2,x1:e+n/2,y1:r+o/2}}(t)),t.BaseType===ua.EDGE&&(e=AO(t)),n=Math.min(n,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x1),a=Math.max(a,e.y1)}));var c=NO(r.CanvasPointToHtmlPoint([n,o]),2);n=c[0],o=c[1];var u=NO(r.CanvasPointToHtmlPoint([i,a]),2);return i=u[0],a=u[1],b("div",{className:"lf-multiple-select",style:{left:"".concat(n-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-n+20,"px"),height:"".concat(a-o+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&CO(e.prototype,r),n&&CO(e,n),i}(x))||SO;function UO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var HO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),XO(this,"tools",void 0),XO(this,"components",void 0),XO(this,"toolMap",new Map),XO(this,"instance",void 0),this.instance=e,this.registerTool("textEdit",PO),this.registerTool("multipleSelect",FO)}var e,r,n;return e=t,(r=[{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&UO(e.prototype,r),n&&UO(e,n),t}();function YO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r(182);var WO=function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n={},(r="_events")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}var e,r,n;return e=t,(r=[{key:"on",value:function(t,e,r){var n=this;return t.split(",").forEach((function(t){t=t.trim(),n._events[t]||(n._events[t]=[]),n._events[t].push({callback:e,once:!!r})})),this}},{key:"once",value:function(t,e){return this.on(t,e,!0)}},{key:"emit",value:function(t,e){var r=this,n=this._events[t]||[],o=this._events["*"]||[],i=function(n){for(var o=n.length,i=0;i<o;i++)if(n[i]){var a=n[i],c=a.callback;a.once&&(n.splice(i,1),0===n.length&&delete r._events[t],o--,i--),c.apply(r,[e])}};i(n),i(o)}},{key:"off",value:function(t,e){if(t)if(e){for(var r=this._events[t]||[],n=r.length,o=0;o<n;o++)r[o].callback===e&&(r.splice(o,1),n--,o--);0===r.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&YO(e.prototype,r),n&&YO(e,n),t}(),VO=r(141),KO=r.n(VO);function ZO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qO(this,"mousetrap",void 0),qO(this,"options",void 0),qO(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var r=e.lf;this.target=r.container,this.mousetrap=new KO.a(this.target),e.keyboard.enabled&&this.enable(!0)}var e,r,n;return e=t,(r=[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(In(e))e.forEach((function(e){var r=e.keys,n=e.callback,o=e.action;return t.on(r,n,o)}));else{var r=e.keys,n=e.callback,o=e.action;this.on(r,n,o)}}},{key:"on",value:function(t,e,r){this.mousetrap.bind(this.getKeys(t),e,r)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatkey(t)}))}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&ZO(e.prototype,r),n&&ZO(e,n),t}(),QO=$O,JO=null;function tx(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function ex(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}function rx(t){return(rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ox(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nx(Object(r),!0).forEach((function(e){ax(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ix(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ax(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cx=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ax(this,"container",void 0),ax(this,"width",void 0),ax(this,"height",void 0),ax(this,"graphModel",void 0),ax(this,"history",void 0),ax(this,"viewMap",new Map),ax(this,"tool",void 0),ax(this,"keyboard",void 0),ax(this,"dnd",void 0),ax(this,"options",void 0),ax(this,"getSnapshot",void 0),ax(this,"eventCenter",void 0),ax(this,"snaplineModel",void 0),ax(this,"components",[]),ax(this,"adapterIn",void 0),ax(this,"adapterOut",void 0),ax(this,"getView",(function(t){return r.viewMap.get(t)}));var n,o,i=e.container,a=e.width,c=e.height,u=e.dndOptions,s=e.keyboard,l=e.isSilentMode,f=e.snapline;this.options=Fp(e),this.container=i,this.width=a||i.getBoundingClientRect().width,this.height=c||i.getBoundingClientRect().height,this.tool=new HO(this),this.eventCenter=new WO,this.history=new dO(this.eventCenter),this.dnd=new Gp({options:u,lf:this}),this.keyboard=new QO({lf:this,keyboard:s}),this.graphModel=new Ll(ox(ox({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),l||!1===f||(this.snaplineModel=new Dy(this.graphModel),n=this.eventCenter,o=this.snaplineModel,n.on("node:mousemove",(function(t){var e=t.data;o.setNodeSnapLine(e)})),n.on("node:mouseup",(function(){o.clearSnapline()}))),this.defaultRegister(),this.installPlugins(e.disabledPlugins),function(t,e){var r=t.keyboard,n=r.options.keyboard;r.on(["cmd + c","ctrl + c"],(function(){if(n.enabled&&!e.textEditElement){var r=t.options.guards,o=e.getSelectElements(!1);return r&&r.beforeClone&&!r.beforeClone(o)?(JO=null,!1):((JO=o).nodes.forEach((function(t){return tx(t,40)})),JO.edges.forEach((function(t){return ex(t,40)})),!1)}})),r.on(["cmd + v","ctrl + v"],(function(){if(n.enabled&&!e.textEditElement){if(JO&&(JO.nodes||JO.edges)){t.clearSelectElements();var r=t.addElements(JO);if(!r)return;r.nodes.forEach((function(e){return t.select(e.id,!0)})),r.edges.forEach((function(e){return t.select(e.id,!0)})),JO.nodes.forEach((function(t){return tx(t,40)})),JO.edges.forEach((function(t){return ex(t,40)}))}return!1}})),r.on(["cmd + z","ctrl + z"],(function(){if(n.enabled&&!e.textEditElement)return t.undo(),!1})),r.on(["cmd + y","ctrl + y"],(function(){if(n.enabled&&!e.textEditElement)return t.redo(),!1})),r.on(["backspace"],(function(){if(n.enabled&&!e.textEditElement){var r=e.getSelectElements(!0);return t.clearSelectElements(),r.edges.forEach((function(e){return t.deleteEdge(e.id)})),r.nodes.forEach((function(e){return t.deleteNode(e.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts()}var e,r,n;return e=t,n=[{key:"use",value:function(t){var e=t.pluginName;e||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(t.name||t.constructor.name,"\u6307\u5b9apluginName!")),e=t.name);var r=this.extensions.get(e);r&&r.destroy&&r.destroy(),this.extensions.set(e,t)}}],(r=[{key:"on",value:function(t,e){this.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.eventCenter.emit(t,e)}},{key:"installPlugins",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.extensions.forEach((function(t){var n=t.pluginName||t.name;-1===r.indexOf(n)&&e.__installPlugin(t)}))}},{key:"__installPlugin",value:function(e){if("object"===rx(e)){var r=e.install,n=e.render;return r&&r.call(e,this,t),void(n&&this.components.push(n.bind(e)))}var o=new e({lf:this,LogicFlow:t});o.render&&this.components.push(o.render.bind(o))}},{key:"register",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var n={BaseEdge:nm,BaseEdgeModel:Ku,BaseNode:xv,BaseNodeModel:Xd,RectNode:Tv,RectNodeModel:oy,CircleNode:Yv,CircleNodeModel:eh,PolygonNode:cb,PolygonNodeModel:Yh,TextNode:Wb,TextNodeModel:yy,LineEdge:ym,LineEdgeModel:is,DiamondNode:mb,DiamondNodeModel:Oh,PolylineEdge:Tm,PolylineEdgeModel:gs,BezierEdge:Vm,BezierEdgeModel:Nd,EllipseNode:Ib,EllipseNodeModel:Dh,HtmlNode:rg,HtmlNodeModel:Py,h:b,type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(n[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(n[e]=t)}));var o=e(n),i=o.view,a=o.model,c=i;r&&!c.isObervered&&(c.isObervered=!0,c=qe(c)),this.setView(t,c),this.graphModel.setModel(t,a)}else this._registerElement(t)}},{key:"_registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=qe(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:Tv,model:oy,type:"rect"}),this._registerElement({type:"circle",view:Yv,model:eh}),this._registerElement({type:"polygon",view:cb,model:Yh}),this._registerElement({type:"line",view:ym,model:is}),this._registerElement({type:"polyline",view:Tm,model:gs}),this._registerElement({type:"bezier",view:Vm,model:Nd}),this._registerElement({type:"text",view:Wb,model:yy}),this._registerElement({type:"ellipse",view:Ib,model:Dh}),this._registerElement({type:"diamond",view:mb,model:Oh}),this._registerElement({type:"html",view:rg,model:Py})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=Lu(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=Lu(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.graphModel.transformMatrix;return e.zoom(t),"".concat(100*e.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformMatrix.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformMatrix.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformMatrix;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformMatrix.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformMatrix,e=t.TRANSLATE_X,r=t.TRANSLATE_Y;this.translate(-e,-r)}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(t,e)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformMatrix,r=t.coordinate,n=t.id;if(!r){var o=this.getNodeModel(n);o&&(r=o.getData());var i=this.getEdgeModelById(n);i&&(r=i.textPosition)}var a=r,c=a.x,u=a.y;e.focusOn(c,u,this.width,this.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"setDefaultEdgeType",value:function(t){this.options.edgeType=t,this.graphModel.changeEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.setElementTextById(t,e)}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModel(t).getData(),r=this.options.guards;(!r||!r.beforeDelete||r.beforeDelete(e))&&this.graphModel.deleteNode(t)}},{key:"editNodeText",value:function(t){this.graphModel.setTextEditable(t)}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModel(t).getData(),r=this.options.guards;if(!r||!r.beforeClone||r.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"createEdge",value:function(t){this.graphModel.createEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,r=this.graphModel.edgesMap[t];if(r){var n=r.model.getData();(!e||!e.beforeDelete||e.beforeDelete(n))&&this.graphModel.removeEdgeById(t)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8fb9"))}},{key:"removeEdge",value:function(t){var e=t.sourceNodeId,r=t.targetNodeId;e&&r?this.graphModel.removeEdge(e,r):e?this.graphModel.removeEdgeBySource(e):r&&this.graphModel.removeEdgeByTarget(r)}},{key:"getNodeModel",value:function(t){return this.graphModel.getNodeModel(t)}},{key:"getNodeData",value:function(t){return this.graphModel.getNodeModel(t).getData()}},{key:"setNodeData",value:function(t){var e=t.id;this.graphModel.getNodeModel(e).updateData(t)}},{key:"getEdgeModel",value:function(t){return this.getEdge(t)}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.graphModel.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getEdge",value:function(t){var e=this.graphModel,r=e.edges,n=e.edgesMap,o=t.id,i=t.sourceNodeId,a=t.targetNodeId;if(o)return n[o]?[n[o].model]:void console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(o,"\u7684\u8fb9"));if(i&&a){var c=[];return r.forEach((function(t){t.sourceNodeId===i&&t.targetNodeId===a&&c.push(t)})),c}if(i){var u=[];return r.forEach((function(t){t.sourceNodeId===i&&u.push(t)})),u}if(a){var s=[];return r.forEach((function(t){t.targetNodeId===a&&s.push(t)})),s}return[]}},{key:"getEdgeData",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"setEdgeData",value:function(t){var e,r=t.id;return null===(e=this.getEdgeModelById(r))||void 0===e?void 0:e.updateData(t)}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(t,e){var r;null===(r=this.graphModel.getElement(t))||void 0===r||r.setProperties(Lu(e))}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfig.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,r=t.nodes,n=t.edges,o={},i={nodes:[],edges:[]},a=0;a<r.length;a++){var c=r[a],u=c.id,s=this.addNode(c);if(!s)return;u&&(o[u]=s.id),i.nodes.push(s)}return n.forEach((function(t){var r=t.sourceNodeId,n=t.targetNodeId;o[r]&&(t.sourceNodeId=o[r]),o[n]&&(t.targetNodeId=o[n]);var a=e.graphModel.createEdge(t);i.edges.push(a)})),i}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var r=new e(t,this.graphModel);return this.graphModel.setFakerNode(r),r}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(t.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"getAreaElement",value:function(t,e){return this.graphModel.getAreaElement(t,e).map((function(t){return t.getData()}))}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.graphModel.graphDataToModel(Lu(t)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),G(b(Ip,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&ix(e.prototype,r),n&&ix(e,n),t}();function ux(t){return qe(t)}ax(cx,"extensions",new Map),e.default=cx}])},86:function(t,e,r){}},[[244,1,2]]]);
//# sourceMappingURL=main.493ed6a2.chunk.js.map